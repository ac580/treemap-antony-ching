{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/unlinkcommand.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/unlinkcommand.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGxpbmsvdW5saW5rY29tbWFuZAogKi8KaW1wb3J0IENvbW1hbmQgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1jb3JlL3NyYy9jb21tYW5kJzsKaW1wb3J0IGZpbmRMaW5rUmFuZ2UgZnJvbSAnLi9maW5kbGlua3JhbmdlJzsKLyoqCiAqIFRoZSB1bmxpbmsgY29tbWFuZC4gSXQgaXMgdXNlZCBieSB0aGUge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGluayBsaW5rIHBsdWdpbn0uCiAqCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL2NvbW1hbmR+Q29tbWFuZAogKi8KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVubGlua0NvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHsKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogIHJlZnJlc2goKSB7CiAgICB0aGlzLmlzRW5hYmxlZCA9IHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5oYXNBdHRyaWJ1dGUoJ2xpbmtIcmVmJyk7CiAgfQogIC8qKgogICAqIEV4ZWN1dGVzIHRoZSBjb21tYW5kLgogICAqCiAgICogV2hlbiB0aGUgc2VsZWN0aW9uIGlzIGNvbGxhcHNlZCwgaXQgcmVtb3ZlcyB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUgZnJvbSBlYWNoIG5vZGUgd2l0aCB0aGUgc2FtZSBgbGlua0hyZWZgIGF0dHJpYnV0ZSB2YWx1ZS4KICAgKiBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgbm9uLWNvbGxhcHNlZCwgaXQgcmVtb3ZlcyB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUgZnJvbSBlYWNoIG5vZGUgaW4gc2VsZWN0ZWQgcmFuZ2VzLgogICAqCiAgICogIyBEZWNvcmF0b3JzCiAgICoKICAgKiBJZiB7QGxpbmsgbW9kdWxlOmxpbmsvbGlua35MaW5rQ29uZmlnI2RlY29yYXRvcnMgYGNvbmZpZy5saW5rLmRlY29yYXRvcnNgfSBpcyBzcGVjaWZpZWQsCiAgICogYWxsIGNvbmZpZ3VyZWQgZGVjb3JhdG9ycyBhcmUgcmVtb3ZlZCB0b2dldGhlciB3aXRoIHRoZSBgbGlua0hyZWZgIGF0dHJpYnV0ZS4KICAgKgogICAqIEBmaXJlcyBleGVjdXRlCiAgICovCgoKICBleGVjdXRlKCkgewogICAgY29uc3QgZWRpdG9yID0gdGhpcy5lZGl0b3I7CiAgICBjb25zdCBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgY29uc3Qgc2VsZWN0aW9uID0gbW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uOwogICAgY29uc3QgbGlua0NvbW1hbmQgPSBlZGl0b3IuY29tbWFuZHMuZ2V0KCdsaW5rJyk7CiAgICBtb2RlbC5jaGFuZ2Uod3JpdGVyID0+IHsKICAgICAgLy8gR2V0IHJhbmdlcyB0byB1bmxpbmsuCiAgICAgIGNvbnN0IHJhbmdlc1RvVW5saW5rID0gc2VsZWN0aW9uLmlzQ29sbGFwc2VkID8gW2ZpbmRMaW5rUmFuZ2Uoc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSwgc2VsZWN0aW9uLmdldEF0dHJpYnV0ZSgnbGlua0hyZWYnKSwgbW9kZWwpXSA6IHNlbGVjdGlvbi5nZXRSYW5nZXMoKTsgLy8gUmVtb3ZlIGBsaW5rSHJlZmAgYXR0cmlidXRlIGZyb20gc3BlY2lmaWVkIHJhbmdlcy4KCiAgICAgIGZvciAoY29uc3QgcmFuZ2Ugb2YgcmFuZ2VzVG9VbmxpbmspIHsKICAgICAgICB3cml0ZXIucmVtb3ZlQXR0cmlidXRlKCdsaW5rSHJlZicsIHJhbmdlKTsgLy8gSWYgdGhlcmUgYXJlIHJlZ2lzdGVyZWQgY3VzdG9tIGF0dHJpYnV0ZXMsIHRoZW4gcmVtb3ZlIHRoZW0gZHVyaW5nIHVubGluay4KCiAgICAgICAgaWYgKGxpbmtDb21tYW5kKSB7CiAgICAgICAgICBmb3IgKGNvbnN0IG1hbnVhbERlY29yYXRvciBvZiBsaW5rQ29tbWFuZC5tYW51YWxEZWNvcmF0b3JzKSB7CiAgICAgICAgICAgIHdyaXRlci5yZW1vdmVBdHRyaWJ1dGUobWFudWFsRGVjb3JhdG9yLmlkLCByYW5nZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9Cgp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/unlinkcommand.js"],"names":["Command","findLinkRange","UnlinkCommand","refresh","isEnabled","editor","model","document","selection","hasAttribute","execute","linkCommand","commands","get","change","writer","rangesToUnlink","isCollapsed","getFirstPosition","getAttribute","getRanges","range","removeAttribute","manualDecorator","manualDecorators","id"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,OAAP,MAAoB,sCAApB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA;;;;;;AAKA,eAAe,MAAMC,aAAN,SAA4BF,OAA5B,CAAoC;AAClD;;;AAGAG,EAAAA,OAAO,GAAG;AACT,SAAKC,SAAL,GAAiB,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,CAA2BC,SAA3B,CAAqCC,YAArC,CAAmD,UAAnD,CAAjB;AACA;AAED;;;;;;;;;;;;;;;AAaAC,EAAAA,OAAO,GAAG;AACT,UAAML,MAAM,GAAG,KAAKA,MAApB;AACA,UAAMC,KAAK,GAAG,KAAKD,MAAL,CAAYC,KAA1B;AACA,UAAME,SAAS,GAAGF,KAAK,CAACC,QAAN,CAAeC,SAAjC;AACA,UAAMG,WAAW,GAAGN,MAAM,CAACO,QAAP,CAAgBC,GAAhB,CAAqB,MAArB,CAApB;AAEAP,IAAAA,KAAK,CAACQ,MAAN,CAAcC,MAAM,IAAI;AACvB;AACA,YAAMC,cAAc,GAAGR,SAAS,CAACS,WAAV,GACtB,CAAEhB,aAAa,CAAEO,SAAS,CAACU,gBAAV,EAAF,EAAgCV,SAAS,CAACW,YAAV,CAAwB,UAAxB,CAAhC,EAAsEb,KAAtE,CAAf,CADsB,GAC2EE,SAAS,CAACY,SAAV,EADlG,CAFuB,CAKvB;;AACA,WAAM,MAAMC,KAAZ,IAAqBL,cAArB,EAAsC;AACrCD,QAAAA,MAAM,CAACO,eAAP,CAAwB,UAAxB,EAAoCD,KAApC,EADqC,CAErC;;AACA,YAAKV,WAAL,EAAmB;AAClB,eAAM,MAAMY,eAAZ,IAA+BZ,WAAW,CAACa,gBAA3C,EAA8D;AAC7DT,YAAAA,MAAM,CAACO,eAAP,CAAwBC,eAAe,CAACE,EAAxC,EAA4CJ,KAA5C;AACA;AACD;AACD;AACD,KAfD;AAgBA;;AA3CiD","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module link/unlinkcommand\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command';\nimport findLinkRange from './findlinkrange';\n\n/**\n * The unlink command. It is used by the {@link module:link/link~Link link plugin}.\n *\n * @extends module:core/command~Command\n */\nexport default class UnlinkCommand extends Command {\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tthis.isEnabled = this.editor.model.document.selection.hasAttribute( 'linkHref' );\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * When the selection is collapsed, it removes the `linkHref` attribute from each node with the same `linkHref` attribute value.\n\t * When the selection is non-collapsed, it removes the `linkHref` attribute from each node in selected ranges.\n\t *\n\t * # Decorators\n\t *\n\t * If {@link module:link/link~LinkConfig#decorators `config.link.decorators`} is specified,\n\t * all configured decorators are removed together with the `linkHref` attribute.\n\t *\n\t * @fires execute\n\t */\n\texecute() {\n\t\tconst editor = this.editor;\n\t\tconst model = this.editor.model;\n\t\tconst selection = model.document.selection;\n\t\tconst linkCommand = editor.commands.get( 'link' );\n\n\t\tmodel.change( writer => {\n\t\t\t// Get ranges to unlink.\n\t\t\tconst rangesToUnlink = selection.isCollapsed ?\n\t\t\t\t[ findLinkRange( selection.getFirstPosition(), selection.getAttribute( 'linkHref' ), model ) ] : selection.getRanges();\n\n\t\t\t// Remove `linkHref` attribute from specified ranges.\n\t\t\tfor ( const range of rangesToUnlink ) {\n\t\t\t\twriter.removeAttribute( 'linkHref', range );\n\t\t\t\t// If there are registered custom attributes, then remove them during unlink.\n\t\t\t\tif ( linkCommand ) {\n\t\t\t\t\tfor ( const manualDecorator of linkCommand.manualDecorators ) {\n\t\t\t\t\t\twriter.removeAttribute( manualDecorator.id, range );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n}\n"]}]}