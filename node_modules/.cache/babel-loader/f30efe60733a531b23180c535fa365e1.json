{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antonyching/Desktop/project/new-builder-demo/src/components/UploadImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/src/components/UploadImage.vue","mtime":1581498848000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIG5hbWU6ICJ1cGxvYWQtaW1hZ2UiLAogIHByb3BzOiB7CiAgICBhY2NlcHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnaW1hZ2UvKicKICAgIH0sCiAgICByb3dJbmRleDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiBmYWxzZQogICAgfQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlOiAnJywKICAgICAgZmlsZU5hbWU6ICcnCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7fSwKCiAgbWV0aG9kczogewogICAgc2VsZWN0RmlsZSgpIHsKICAgICAgdGhpcy4kcmVmcy5maWxlLmNsaWNrKCk7CiAgICB9LAoKICAgIG9uRmlsZUNoYW5nZShlKSB7CiAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwoKICAgICAgaWYgKCFmaWxlcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZmlsZU5hbWUgPSBmaWxlc1swXS5uYW1lOwogICAgICB0aGlzLmNyZWF0ZUltYWdlKGZpbGVzWzBdKTsKICAgIH0sCgogICAgY3JlYXRlSW1hZ2UoZmlsZSkgewogICAgICAvL3ZhciBpbWFnZSA9IG5ldyBJbWFnZSgpCiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4gewogICAgICAgIHRoaXMuZmlsZSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB7CiAgICAgICAgICAiZmlsZSI6IHRoaXMuZmlsZSwKICAgICAgICAgICJuYW1lIjogdGhpcy5maWxlTmFtZSwKICAgICAgICAgICJpbmRleCI6IHRoaXMucm93SW5kZXgKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKCiAgICByZW1vdmVGaWxlKCkgewogICAgICB0aGlzLmZpbGUgPSAnJzsKICAgICAgdGhpcy5maWxlTmFtZSA9ICcnOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["UploadImage.vue"],"names":[],"mappings":"AACA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAEA,EAAA,IAAA,EAAA,cAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AALA,GAHA;;AAaA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAlBA;;AAmBA,EAAA,OAAA,GAAA,CACA,CApBA;;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,GAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAHA;;AAIA,IAAA,YAAA,CAAA,CAAA,EAAA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,IAAA,CAAA,CAAA,YAAA,CAAA,KAAA;;AACA,UAAA,CAAA,KAAA,CAAA,MAAA,EAAA;AACA;AACA;;AACA,WAAA,QAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA,WAAA,WAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,KAXA;;AAYA,IAAA,WAAA,CAAA,IAAA,EAAA;AACA;AACA,UAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AAEA,MAAA,MAAA,CAAA,MAAA,GAAA,CAAA,IAAA;AACA,aAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,aAAA,KAAA,CAAA,QAAA,EAAA;AAAA,kBAAA,KAAA,IAAA;AAAA,kBAAA,KAAA,QAAA;AAAA,mBAAA,KAAA;AAAA,SAAA;AACA,OAHA;;AAIA,MAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA,KArBA;;AAsBA,IAAA,UAAA,GAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA;;AAzBA;AArBA,CAAA","sourcesContent":["<script> \n  export default {\n    components: { },\n    name: \"upload-image\",\n    props: {\n        accept: {\n            type: String,\n            default: 'image/*'\n        },\n        rowIndex: {\n          type: Number,\n          required: false,\n        },\n    },\n    data() {\n      return {\n        file: '',\n        fileName: ''\n      };\n    },\n    created(){\n    },\n    methods: {\n    selectFile(){\n      this.$refs.file.click()\n    },\n    onFileChange(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) {\n        return\n      }\n      this.fileName = files[0].name\n      this.createImage(files[0])\n    },\n    createImage(file) {\n      //var image = new Image()\n      var reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.file = e.target.result;\n        this.$emit('change', {\"file\":this.file, \"name\":this.fileName, \"index\":this.rowIndex});\n      }\n      reader.readAsDataURL(file)\n    },\n    removeFile() {\n      this.file = ''\n      this.fileName = ''\n    }\n  }\n  };\n</script> \n \n<template>\n  <div>\n    <p>{{ fileName }}</p>\n    <input type=\"file\"\n       ref=\"file\"\n       @change=\"onFileChange\"\n       :accept=\"accept\"\n       style=\"position:absolute;opacity:0;\"\n       required>\n    <img v-if=\"file\" :src=\"file\" style=\"width:40%;\" alt=\"\">\n    <button v-if=\"!file\" type=\"button\" style=\"position:absolute;\" @click=\"selectFile\">\n      <span>Upload Image</span>\n      <!--<span v-if=\"!file\">Upload Image</span>-->\n      <!--<span v-else>Change Image</span>-->\n    </button>\n    <!--<button type=\"button\" @click=\"removeFile\" v-if=\"file\">Remove Image</button>-->\n  </div>\n</template>"],"sourceRoot":"src/components"}]}