{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-enter/src/entercommand.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-enter/src/entercommand.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVudGVyL2VudGVyY29tbWFuZAogKi8KaW1wb3J0IENvbW1hbmQgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1jb3JlL3NyYy9jb21tYW5kJzsKaW1wb3J0IHsgZ2V0Q29weU9uRW50ZXJBdHRyaWJ1dGVzIH0gZnJvbSAnLi91dGlscyc7Ci8qKgogKiBFbnRlciBjb21tYW5kLiBJdCBpcyB1c2VkIGJ5IHRoZSB7QGxpbmsgbW9kdWxlOmVudGVyL2VudGVyfkVudGVyIEVudGVyIGZlYXR1cmV9IHRvIGhhbmRsZSB0aGUgPGtiZD5FbnRlcjwva2JkPiBrZXkuCiAqCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL2NvbW1hbmR+Q29tbWFuZAogKi8KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGVyQ29tbWFuZCBleHRlbmRzIENvbW1hbmQgewogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgZXhlY3V0ZSgpIHsKICAgIGNvbnN0IG1vZGVsID0gdGhpcy5lZGl0b3IubW9kZWw7CiAgICBjb25zdCBkb2MgPSBtb2RlbC5kb2N1bWVudDsKICAgIG1vZGVsLmNoYW5nZSh3cml0ZXIgPT4gewogICAgICBlbnRlckJsb2NrKHRoaXMuZWRpdG9yLm1vZGVsLCB3cml0ZXIsIGRvYy5zZWxlY3Rpb24sIG1vZGVsLnNjaGVtYSk7CiAgICAgIHRoaXMuZmlyZSgnYWZ0ZXJFeGVjdXRlJywgewogICAgICAgIHdyaXRlcgogICAgICB9KTsKICAgIH0pOwogIH0KCn0gLy8gQ3JlYXRlcyBhIG5ldyBibG9jayBpbiB0aGUgd2F5IHRoYXQgdGhlIDxrYmQ+RW50ZXI8L2tiZD4ga2V5IGlzIGV4cGVjdGVkIHRvIHdvcmsuCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbH5Nb2RlbH0gbW9kZWwKLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3dyaXRlcn5Xcml0ZXJ9IHdyaXRlcgovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvc2VsZWN0aW9uflNlbGVjdGlvbnxtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50c2VsZWN0aW9ufkRvY3VtZW50U2VsZWN0aW9ufSBzZWxlY3Rpb24KLy8gU2VsZWN0aW9uIG9uIHdoaWNoIHRoZSBhY3Rpb24gc2hvdWxkIGJlIHBlcmZvcm1lZC4KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3NjaGVtYX5TY2hlbWF9IHNjaGVtYQoKZnVuY3Rpb24gZW50ZXJCbG9jayhtb2RlbCwgd3JpdGVyLCBzZWxlY3Rpb24sIHNjaGVtYSkgewogIGNvbnN0IGlzU2VsZWN0aW9uRW1wdHkgPSBzZWxlY3Rpb24uaXNDb2xsYXBzZWQ7CiAgY29uc3QgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpOwogIGNvbnN0IHN0YXJ0RWxlbWVudCA9IHJhbmdlLnN0YXJ0LnBhcmVudDsKICBjb25zdCBlbmRFbGVtZW50ID0gcmFuZ2UuZW5kLnBhcmVudDsgLy8gRG9uJ3QgdG91Y2ggdGhlIHJvb3RzIGFuZCBvdGhlciBsaW1pdCBlbGVtZW50cy4KCiAgaWYgKHNjaGVtYS5pc0xpbWl0KHN0YXJ0RWxlbWVudCkgfHwgc2NoZW1hLmlzTGltaXQoZW5kRWxlbWVudCkpIHsKICAgIC8vIERlbGV0ZSB0aGUgc2VsZWN0ZWQgY29udGVudCBidXQgb25seSBpZiBpbnNpZGUgYSBzaW5nbGUgbGltaXQgZWxlbWVudC4KICAgIC8vIEFib3J0LCB3aGVuIGNyb3NzaW5nIGxpbWl0IGVsZW1lbnRzIGJvdW5kYXJ5IChlLmcuIDxsaW1pdDE+eFt4PC9saW1pdDE+ZG9udHRvdWNobWU8bGltaXQyPnldeTwvbGltaXQyPikuCiAgICAvLyBUaGlzIGlzIGFuIGVkZ2UgY2FzZSBhbmQgaXQncyBoYXJkIHRvIHRlbGwgd2hhdCBzaG91bGQgYWN0dWFsbHkgaGFwcGVuIGJlY2F1c2Ugc3VjaCBhIHNlbGVjdGlvbgogICAgLy8gaXMgbm90IGVudGlyZWx5IHZhbGlkLgogICAgaWYgKCFpc1NlbGVjdGlvbkVtcHR5ICYmIHN0YXJ0RWxlbWVudCA9PSBlbmRFbGVtZW50KSB7CiAgICAgIG1vZGVsLmRlbGV0ZUNvbnRlbnQoc2VsZWN0aW9uKTsKICAgIH0KCiAgICByZXR1cm47CiAgfQoKICBpZiAoaXNTZWxlY3Rpb25FbXB0eSkgewogICAgY29uc3QgYXR0cmlidXRlc1RvQ29weSA9IGdldENvcHlPbkVudGVyQXR0cmlidXRlcyh3cml0ZXIubW9kZWwuc2NoZW1hLCBzZWxlY3Rpb24uZ2V0QXR0cmlidXRlcygpKTsKICAgIHNwbGl0QmxvY2sod3JpdGVyLCByYW5nZS5zdGFydCk7CiAgICB3cml0ZXIuc2V0U2VsZWN0aW9uQXR0cmlidXRlKGF0dHJpYnV0ZXNUb0NvcHkpOwogIH0gZWxzZSB7CiAgICBjb25zdCBsZWF2ZVVubWVyZ2VkID0gIShyYW5nZS5zdGFydC5pc0F0U3RhcnQgJiYgcmFuZ2UuZW5kLmlzQXRFbmQpOwogICAgY29uc3QgaXNDb250YWluZWRXaXRoaW5PbmVFbGVtZW50ID0gc3RhcnRFbGVtZW50ID09IGVuZEVsZW1lbnQ7CiAgICBtb2RlbC5kZWxldGVDb250ZW50KHNlbGVjdGlvbiwgewogICAgICBsZWF2ZVVubWVyZ2VkCiAgICB9KTsKCiAgICBpZiAobGVhdmVVbm1lcmdlZCkgewogICAgICAvLyBQYXJ0aWFsbHkgc2VsZWN0ZWQgZWxlbWVudHMuCiAgICAgIC8vCiAgICAgIC8vIDxoPnhbeHhdeDwvaD4JCS0+IDxoPnheeDwvaD4JCQktPiA8aD54PC9oPjxoPl54PC9oPgogICAgICBpZiAoaXNDb250YWluZWRXaXRoaW5PbmVFbGVtZW50KSB7CiAgICAgICAgc3BsaXRCbG9jayh3cml0ZXIsIHNlbGVjdGlvbi5mb2N1cyk7CiAgICAgIH0gLy8gU2VsZWN0aW9uIG92ZXIgbXVsdGlwbGUgZWxlbWVudHMuCiAgICAgIC8vCiAgICAgIC8vIDxoPnhbeDwvaD48cD55XXk8cD4JLT4gPGg+eF48L2g+PHA+eTwvcD4JLT4gPGg+eDwvaD48cD5eeTwvcD4KICAgICAgZWxzZSB7CiAgICAgICAgICB3cml0ZXIuc2V0U2VsZWN0aW9uKGVuZEVsZW1lbnQsIDApOwogICAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHNwbGl0QmxvY2sod3JpdGVyLCBzcGxpdFBvcykgewogIHdyaXRlci5zcGxpdChzcGxpdFBvcyk7CiAgd3JpdGVyLnNldFNlbGVjdGlvbihzcGxpdFBvcy5wYXJlbnQubmV4dFNpYmxpbmcsIDApOwp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-enter/src/entercommand.js"],"names":["Command","getCopyOnEnterAttributes","EnterCommand","execute","model","editor","doc","document","change","writer","enterBlock","selection","schema","fire","isSelectionEmpty","isCollapsed","range","getFirstRange","startElement","start","parent","endElement","end","isLimit","deleteContent","attributesToCopy","getAttributes","splitBlock","setSelectionAttribute","leaveUnmerged","isAtStart","isAtEnd","isContainedWithinOneElement","focus","setSelection","splitPos","split","nextSibling"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,OAAP,MAAoB,sCAApB;AACA,SAASC,wBAAT,QAAyC,SAAzC;AAEA;;;;;;AAKA,eAAe,MAAMC,YAAN,SAA2BF,OAA3B,CAAmC;AACjD;;;AAGAG,EAAAA,OAAO,GAAG;AACT,UAAMC,KAAK,GAAG,KAAKC,MAAL,CAAYD,KAA1B;AACA,UAAME,GAAG,GAAGF,KAAK,CAACG,QAAlB;AAEAH,IAAAA,KAAK,CAACI,MAAN,CAAcC,MAAM,IAAI;AACvBC,MAAAA,UAAU,CAAE,KAAKL,MAAL,CAAYD,KAAd,EAAqBK,MAArB,EAA6BH,GAAG,CAACK,SAAjC,EAA4CP,KAAK,CAACQ,MAAlD,CAAV;AACA,WAAKC,IAAL,CAAW,cAAX,EAA2B;AAAEJ,QAAAA;AAAF,OAA3B;AACA,KAHD;AAIA;;AAZgD,C,CAelD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,UAAT,CAAqBN,KAArB,EAA4BK,MAA5B,EAAoCE,SAApC,EAA+CC,MAA/C,EAAwD;AACvD,QAAME,gBAAgB,GAAGH,SAAS,CAACI,WAAnC;AACA,QAAMC,KAAK,GAAGL,SAAS,CAACM,aAAV,EAAd;AACA,QAAMC,YAAY,GAAGF,KAAK,CAACG,KAAN,CAAYC,MAAjC;AACA,QAAMC,UAAU,GAAGL,KAAK,CAACM,GAAN,CAAUF,MAA7B,CAJuD,CAMvD;;AACA,MAAKR,MAAM,CAACW,OAAP,CAAgBL,YAAhB,KAAkCN,MAAM,CAACW,OAAP,CAAgBF,UAAhB,CAAvC,EAAsE;AACrE;AACA;AACA;AACA;AACA,QAAK,CAACP,gBAAD,IAAqBI,YAAY,IAAIG,UAA1C,EAAuD;AACtDjB,MAAAA,KAAK,CAACoB,aAAN,CAAqBb,SAArB;AACA;;AAED;AACA;;AAED,MAAKG,gBAAL,EAAwB;AACvB,UAAMW,gBAAgB,GAAGxB,wBAAwB,CAAEQ,MAAM,CAACL,KAAP,CAAaQ,MAAf,EAAuBD,SAAS,CAACe,aAAV,EAAvB,CAAjD;AACAC,IAAAA,UAAU,CAAElB,MAAF,EAAUO,KAAK,CAACG,KAAhB,CAAV;AACAV,IAAAA,MAAM,CAACmB,qBAAP,CAA8BH,gBAA9B;AACA,GAJD,MAIO;AACN,UAAMI,aAAa,GAAG,EAAGb,KAAK,CAACG,KAAN,CAAYW,SAAZ,IAAyBd,KAAK,CAACM,GAAN,CAAUS,OAAtC,CAAtB;AACA,UAAMC,2BAA2B,GAAKd,YAAY,IAAIG,UAAtD;AAEAjB,IAAAA,KAAK,CAACoB,aAAN,CAAqBb,SAArB,EAAgC;AAAEkB,MAAAA;AAAF,KAAhC;;AAEA,QAAKA,aAAL,EAAqB;AACpB;AACA;AACA;AACA,UAAKG,2BAAL,EAAmC;AAClCL,QAAAA,UAAU,CAAElB,MAAF,EAAUE,SAAS,CAACsB,KAApB,CAAV;AACA,OAFD,CAGA;AACA;AACA;AALA,WAMK;AACJxB,UAAAA,MAAM,CAACyB,YAAP,CAAqBb,UAArB,EAAiC,CAAjC;AACA;AACD;AACD;AACD;;AAED,SAASM,UAAT,CAAqBlB,MAArB,EAA6B0B,QAA7B,EAAwC;AACvC1B,EAAAA,MAAM,CAAC2B,KAAP,CAAcD,QAAd;AACA1B,EAAAA,MAAM,CAACyB,YAAP,CAAqBC,QAAQ,CAACf,MAAT,CAAgBiB,WAArC,EAAkD,CAAlD;AACA","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module enter/entercommand\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command';\nimport { getCopyOnEnterAttributes } from './utils';\n\n/**\n * Enter command. It is used by the {@link module:enter/enter~Enter Enter feature} to handle the <kbd>Enter</kbd> key.\n *\n * @extends module:core/command~Command\n */\nexport default class EnterCommand extends Command {\n\t/**\n\t * @inheritDoc\n\t */\n\texecute() {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tmodel.change( writer => {\n\t\t\tenterBlock( this.editor.model, writer, doc.selection, model.schema );\n\t\t\tthis.fire( 'afterExecute', { writer } );\n\t\t} );\n\t}\n}\n\n// Creates a new block in the way that the <kbd>Enter</kbd> key is expected to work.\n//\n// @param {module:engine/model~Model} model\n// @param {module:engine/model/writer~Writer} writer\n// @param {module:engine/model/selection~Selection|module:engine/model/documentselection~DocumentSelection} selection\n// Selection on which the action should be performed.\n// @param {module:engine/model/schema~Schema} schema\nfunction enterBlock( model, writer, selection, schema ) {\n\tconst isSelectionEmpty = selection.isCollapsed;\n\tconst range = selection.getFirstRange();\n\tconst startElement = range.start.parent;\n\tconst endElement = range.end.parent;\n\n\t// Don't touch the roots and other limit elements.\n\tif ( schema.isLimit( startElement ) || schema.isLimit( endElement ) ) {\n\t\t// Delete the selected content but only if inside a single limit element.\n\t\t// Abort, when crossing limit elements boundary (e.g. <limit1>x[x</limit1>donttouchme<limit2>y]y</limit2>).\n\t\t// This is an edge case and it's hard to tell what should actually happen because such a selection\n\t\t// is not entirely valid.\n\t\tif ( !isSelectionEmpty && startElement == endElement ) {\n\t\t\tmodel.deleteContent( selection );\n\t\t}\n\n\t\treturn;\n\t}\n\n\tif ( isSelectionEmpty ) {\n\t\tconst attributesToCopy = getCopyOnEnterAttributes( writer.model.schema, selection.getAttributes() );\n\t\tsplitBlock( writer, range.start );\n\t\twriter.setSelectionAttribute( attributesToCopy );\n\t} else {\n\t\tconst leaveUnmerged = !( range.start.isAtStart && range.end.isAtEnd );\n\t\tconst isContainedWithinOneElement = ( startElement == endElement );\n\n\t\tmodel.deleteContent( selection, { leaveUnmerged } );\n\n\t\tif ( leaveUnmerged ) {\n\t\t\t// Partially selected elements.\n\t\t\t//\n\t\t\t// <h>x[xx]x</h>\t\t-> <h>x^x</h>\t\t\t-> <h>x</h><h>^x</h>\n\t\t\tif ( isContainedWithinOneElement ) {\n\t\t\t\tsplitBlock( writer, selection.focus );\n\t\t\t}\n\t\t\t// Selection over multiple elements.\n\t\t\t//\n\t\t\t// <h>x[x</h><p>y]y<p>\t-> <h>x^</h><p>y</p>\t-> <h>x</h><p>^y</p>\n\t\t\telse {\n\t\t\t\twriter.setSelection( endElement, 0 );\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction splitBlock( writer, splitPos ) {\n\twriter.split( splitPos );\n\twriter.setSelection( splitPos.parent.nextSibling, 0 );\n}\n"]}]}