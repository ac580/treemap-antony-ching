{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-clipboard/src/clipboard.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-clipboard/src/clipboard.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGNsaXBib2FyZC9jbGlwYm9hcmQKICovCmltcG9ydCBQbHVnaW4gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1jb3JlL3NyYy9wbHVnaW4nOwppbXBvcnQgQ2xpcGJvYXJkT2JzZXJ2ZXIgZnJvbSAnLi9jbGlwYm9hcmRvYnNlcnZlcic7CmltcG9ydCBwbGFpblRleHRUb0h0bWwgZnJvbSAnLi91dGlscy9wbGFpbnRleHR0b2h0bWwnOwppbXBvcnQgbm9ybWFsaXplQ2xpcGJvYXJkSHRtbCBmcm9tICcuL3V0aWxzL25vcm1hbGl6ZWNsaXBib2FyZGRhdGEnOwppbXBvcnQgdmlld1RvUGxhaW5UZXh0IGZyb20gJy4vdXRpbHMvdmlld3RvcGxhaW50ZXh0LmpzJzsKaW1wb3J0IEh0bWxEYXRhUHJvY2Vzc29yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtZW5naW5lL3NyYy9kYXRhcHJvY2Vzc29yL2h0bWxkYXRhcHJvY2Vzc29yJzsKLyoqCiAqIFRoZSBjbGlwYm9hcmQgZmVhdHVyZS4gSXQgaXMgcmVzcG9uc2libGUgZm9yIGludGVyY2VwdGluZyB0aGUgYHBhc3RlYCBhbmQgYGRyb3BgIGV2ZW50cyBhbmQKICogcGFzc2luZyB0aGUgcGFzdGVkIGNvbnRlbnQgdGhyb3VnaCB0aGUgY2xpcGJvYXJkIHBpcGVsaW5lIGluIG9yZGVyIHRvIGluc2VydCBpdCBpbnRvIHRoZSBlZGl0b3IncyBjb250ZW50LgogKiBJdCBhbHNvIGhhbmRsZXMgdGhlIGBjdXRgIGFuZCBgY29weWAgZXZlbnRzIHRvIGZpbGwgdGhlIG5hdGl2ZSBjbGlwYm9hcmQgd2l0aCBzZXJpYWxpemVkIGVkaXRvcidzIGRhdGEuCiAqCiAqIFJlYWQgbW9yZSBhYm91dCB0aGUgY2xpcGJvYXJkIGludGVncmF0aW9uIGluIHtAZ2xpbmsgZnJhbWV3b3JrL2d1aWRlcy9kZWVwLWRpdmUvY2xpcGJvYXJkICJDbGlwYm9hcmQiIGRlZXAgZGl2ZX0gZ3VpZGUuCiAqCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW4KICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlwYm9hcmQgZXh0ZW5kcyBQbHVnaW4gewogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgc3RhdGljIGdldCBwbHVnaW5OYW1lKCkgewogICAgcmV0dXJuICdDbGlwYm9hcmQnOwogIH0KICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwoKCiAgaW5pdCgpIHsKICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZWRpdG9yOwogICAgY29uc3QgbW9kZWxEb2N1bWVudCA9IGVkaXRvci5tb2RlbC5kb2N1bWVudDsKICAgIGNvbnN0IHZpZXcgPSBlZGl0b3IuZWRpdGluZy52aWV3OwogICAgY29uc3Qgdmlld0RvY3VtZW50ID0gdmlldy5kb2N1bWVudDsKICAgIC8qKgogICAgICogRGF0YSBwcm9jZXNzb3IgdXNlZCB0byBjb252ZXJ0IHBhc3RlZCBIVE1MIHRvIGEgdmlldyBzdHJ1Y3R1cmUuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvZGF0YXByb2Nlc3Nvci9odG1sZGF0YXByb2Nlc3Nvcn5IdG1sRGF0YVByb2Nlc3Nvcn0gI19odG1sRGF0YVByb2Nlc3NvcgogICAgICovCgogICAgdGhpcy5faHRtbERhdGFQcm9jZXNzb3IgPSBuZXcgSHRtbERhdGFQcm9jZXNzb3IoKTsKICAgIHZpZXcuYWRkT2JzZXJ2ZXIoQ2xpcGJvYXJkT2JzZXJ2ZXIpOyAvLyBUaGUgY2xpcGJvYXJkIHBhc3RlIHBpcGVsaW5lLgogICAgLy8gUGFzdGluZyBhbmQgZHJvcHBpbmcgaXMgZGlzYWJsZWQgd2hlbiBlZGl0b3IgaXMgcmVhZC1vbmx5LgogICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1LWNsaXBib2FyZC9pc3N1ZXMvMjYuCgogICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdjbGlwYm9hcmRJbnB1dCcsIGV2dCA9PiB7CiAgICAgIGlmIChlZGl0b3IuaXNSZWFkT25seSkgewogICAgICAgIGV2dC5zdG9wKCk7CiAgICAgIH0KICAgIH0sIHsKICAgICAgcHJpb3JpdHk6ICdoaWdoZXN0JwogICAgfSk7CiAgICB0aGlzLmxpc3RlblRvKHZpZXdEb2N1bWVudCwgJ2NsaXBib2FyZElucHV0JywgKGV2dCwgZGF0YSkgPT4gewogICAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBkYXRhLmRhdGFUcmFuc2ZlcjsKICAgICAgbGV0IGNvbnRlbnQgPSAnJzsKCiAgICAgIGlmIChkYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9odG1sJykpIHsKICAgICAgICBjb250ZW50ID0gbm9ybWFsaXplQ2xpcGJvYXJkSHRtbChkYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9odG1sJykpOwogICAgICB9IGVsc2UgaWYgKGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpIHsKICAgICAgICBjb250ZW50ID0gcGxhaW5UZXh0VG9IdG1sKGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BsYWluJykpOwogICAgICB9CgogICAgICBjb250ZW50ID0gdGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9WaWV3KGNvbnRlbnQpOwogICAgICB0aGlzLmZpcmUoJ2lucHV0VHJhbnNmb3JtYXRpb24nLCB7CiAgICAgICAgY29udGVudCwKICAgICAgICBkYXRhVHJhbnNmZXIKICAgICAgfSk7CiAgICAgIHZpZXcuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKTsKICAgIH0sIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsKICAgIHRoaXMubGlzdGVuVG8odGhpcywgJ2lucHV0VHJhbnNmb3JtYXRpb24nLCAoZXZ0LCBkYXRhKSA9PiB7CiAgICAgIGlmICghZGF0YS5jb250ZW50LmlzRW1wdHkpIHsKICAgICAgICBjb25zdCBkYXRhQ29udHJvbGxlciA9IHRoaXMuZWRpdG9yLmRhdGE7CiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmVkaXRvci5tb2RlbDsgLy8gQ29udmVydCB0aGUgcGFzdGVkIGNvbnRlbnQgdG8gYSBtb2RlbCBkb2N1bWVudCBmcmFnbWVudC4KICAgICAgICAvLyBDb252ZXJzaW9uIGlzIGNvbnRleHR1YWwsIGJ1dCBpbiB0aGlzIGNhc2Ugd2UgbmVlZCBhbiAiYWxsIGFsbG93ZWQiIGNvbnRleHQgYW5kIGZvciB0aGF0CiAgICAgICAgLy8gd2UgdXNlIHRoZSAkY2xpcGJvYXJkSG9sZGVyIGl0ZW0uCgogICAgICAgIGNvbnN0IG1vZGVsRnJhZ21lbnQgPSBkYXRhQ29udHJvbGxlci50b01vZGVsKGRhdGEuY29udGVudCwgJyRjbGlwYm9hcmRIb2xkZXInKTsKCiAgICAgICAgaWYgKG1vZGVsRnJhZ21lbnQuY2hpbGRDb3VudCA9PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBtb2RlbC5pbnNlcnRDb250ZW50KG1vZGVsRnJhZ21lbnQpOwogICAgICB9CiAgICB9LCB7CiAgICAgIHByaW9yaXR5OiAnbG93JwogICAgfSk7IC8vIFRoZSBjbGlwYm9hcmQgY29weS9jdXQgcGlwZWxpbmUuCgogICAgZnVuY3Rpb24gb25Db3B5Q3V0KGV2dCwgZGF0YSkgewogICAgICBjb25zdCBkYXRhVHJhbnNmZXIgPSBkYXRhLmRhdGFUcmFuc2ZlcjsKICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zdCBjb250ZW50ID0gZWRpdG9yLmRhdGEudG9WaWV3KGVkaXRvci5tb2RlbC5nZXRTZWxlY3RlZENvbnRlbnQobW9kZWxEb2N1bWVudC5zZWxlY3Rpb24pKTsKICAgICAgdmlld0RvY3VtZW50LmZpcmUoJ2NsaXBib2FyZE91dHB1dCcsIHsKICAgICAgICBkYXRhVHJhbnNmZXIsCiAgICAgICAgY29udGVudCwKICAgICAgICBtZXRob2Q6IGV2dC5uYW1lCiAgICAgIH0pOwogICAgfQoKICAgIHRoaXMubGlzdGVuVG8odmlld0RvY3VtZW50LCAnY29weScsIG9uQ29weUN1dCwgewogICAgICBwcmlvcml0eTogJ2xvdycKICAgIH0pOwogICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdjdXQnLCAoZXZ0LCBkYXRhKSA9PiB7CiAgICAgIC8vIEN1dHRpbmcgaXMgZGlzYWJsZWQgd2hlbiBlZGl0b3IgaXMgcmVhZC1vbmx5LgogICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtY2xpcGJvYXJkL2lzc3Vlcy8yNi4KICAgICAgaWYgKGVkaXRvci5pc1JlYWRPbmx5KSB7CiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIG9uQ29weUN1dChldnQsIGRhdGEpOwogICAgICB9CiAgICB9LCB7CiAgICAgIHByaW9yaXR5OiAnbG93JwogICAgfSk7CiAgICB0aGlzLmxpc3RlblRvKHZpZXdEb2N1bWVudCwgJ2NsaXBib2FyZE91dHB1dCcsIChldnQsIGRhdGEpID0+IHsKICAgICAgaWYgKCFkYXRhLmNvbnRlbnQuaXNFbXB0eSkgewogICAgICAgIGRhdGEuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvaHRtbCcsIHRoaXMuX2h0bWxEYXRhUHJvY2Vzc29yLnRvRGF0YShkYXRhLmNvbnRlbnQpKTsKICAgICAgICBkYXRhLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgdmlld1RvUGxhaW5UZXh0KGRhdGEuY29udGVudCkpOwogICAgICB9CgogICAgICBpZiAoZGF0YS5tZXRob2QgPT0gJ2N1dCcpIHsKICAgICAgICBlZGl0b3IubW9kZWwuZGVsZXRlQ29udGVudChtb2RlbERvY3VtZW50LnNlbGVjdGlvbik7CiAgICAgIH0KICAgIH0sIHsKICAgICAgcHJpb3JpdHk6ICdsb3cnCiAgICB9KTsKICB9Cgp9Ci8qKgogKiBGaXJlZCB3aXRoIGEgYGNvbnRlbnRgIGFuZCBgZGF0YVRyYW5zZmVyYCBvYmplY3RzLiBUaGUgYGNvbnRlbnRgIHdoaWNoIGNvbWVzIGZyb20gdGhlIGNsaXBib2FyZCAod2FzIHBhc3RlZCBvciBkcm9wcGVkKQogKiBzaG91bGQgYmUgcHJvY2Vzc2VkIGluIG9yZGVyIHRvIGJlIGluc2VydGVkIGludG8gdGhlIGVkaXRvci4gVGhlIGBkYXRhVHJhbnNmZXJgIG9iamVjdCBpcyBhdmFpbGFibGUKICogaW4gY2FzZSB0aGUgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIG5lZWRzIGFjY2VzcyB0byBhIHJhdyBjbGlwYm9hcmQgZGF0YS4KICoKICogSXQgaXMgYSBwYXJ0IG9mIHRoZSB7QGdsaW5rIGZyYW1ld29yay9ndWlkZXMvZGVlcC1kaXZlL2NsaXBib2FyZCNpbnB1dC1waXBlbGluZSAiY2xpcGJvYXJkIGlucHV0IHBpcGVsaW5lIn0uCiAqCiAqIEBzZWUgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRvYnNlcnZlcn5DbGlwYm9hcmRPYnNlcnZlcgogKiBAc2VlIG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkfkNsaXBib2FyZAogKiBAZXZlbnQgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmR+Q2xpcGJvYXJkI2V2ZW50OmlucHV0VHJhbnNmb3JtYXRpb24KICogQHBhcmFtIHtPYmplY3R9IGRhdGEgRXZlbnQgZGF0YS4KICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fSBkYXRhLmNvbnRlbnQgRXZlbnQgZGF0YS4gQ29udGVudCB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBlZGl0b3IuCiAqIEl0IGNhbiBiZSBtb2RpZmllZCBieSB0aGUgZXZlbnQgbGlzdGVuZXJzLiBSZWFkIG1vcmUgYWJvdXQgdGhlIGNsaXBib2FyZCBwaXBlbGluZXMgaW4KICoge0BnbGluayBmcmFtZXdvcmsvZ3VpZGVzL2RlZXAtZGl2ZS9jbGlwYm9hcmQgIkNsaXBib2FyZCIgZGVlcCBkaXZlfS4KICogQHBhcmFtIHttb2R1bGU6Y2xpcGJvYXJkL2RhdGF0cmFuc2Zlcn5EYXRhVHJhbnNmZXJ9IGRhdGEuZGF0YVRyYW5zZmVyIERhdGEgdHJhbnNmZXIgaW5zdGFuY2UuCiAqLwoKLyoqCiAqIEZpcmVkIG9uIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Y29weX0gYW5kIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Y3V0fQogKiB3aXRoIGEgY29weSBvZiBzZWxlY3RlZCBjb250ZW50LiBUaGUgY29udGVudCBjYW4gYmUgcHJvY2Vzc2VkIGJlZm9yZSBpdCBlbmRzIHVwIGluIHRoZSBjbGlwYm9hcmQuCiAqCiAqIEl0IGlzIGEgcGFydCBvZiB0aGUge0BnbGluayBmcmFtZXdvcmsvZ3VpZGVzL2RlZXAtZGl2ZS9jbGlwYm9hcmQjb3V0cHV0LXBpcGVsaW5lICJjbGlwYm9hcmQgb3V0cHV0IHBpcGVsaW5lIn0uCiAqCiAqIEBzZWUgbW9kdWxlOmNsaXBib2FyZC9jbGlwYm9hcmRvYnNlcnZlcn5DbGlwYm9hcmRPYnNlcnZlcgogKiBAc2VlIG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkfkNsaXBib2FyZAogKiBAZXZlbnQgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I2V2ZW50OmNsaXBib2FyZE91dHB1dAogKiBAcGFyYW0ge21vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkfkNsaXBib2FyZE91dHB1dEV2ZW50RGF0YX0gZGF0YSBFdmVudCBkYXRhLgogKi8KCi8qKgogKiBUaGUgdmFsdWUgb2YgdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Y2xpcGJvYXJkT3V0cHV0fSBldmVudC4KICoKICogQGNsYXNzIG1vZHVsZTpjbGlwYm9hcmQvY2xpcGJvYXJkfkNsaXBib2FyZE91dHB1dEV2ZW50RGF0YQogKi8KCi8qKgogKiBEYXRhIHRyYW5zZmVyIGluc3RhbmNlLgogKgogKiBAcmVhZG9ubHkKICogQG1lbWJlciB7bW9kdWxlOmNsaXBib2FyZC9kYXRhdHJhbnNmZXJ+RGF0YVRyYW5zZmVyfSBtb2R1bGU6Y2xpcGJvYXJkL2NsaXBib2FyZH5DbGlwYm9hcmRPdXRwdXRFdmVudERhdGEjZGF0YVRyYW5zZmVyCiAqLwoKLyoqCiAqIENvbnRlbnQgdG8gYmUgcHV0IGludG8gdGhlIGNsaXBib2FyZC4gSXQgY2FuIGJlIG1vZGlmaWVkIGJ5IHRoZSBldmVudCBsaXN0ZW5lcnMuCiAqIFJlYWQgbW9yZSBhYm91dCB0aGUgY2xpcGJvYXJkIHBpcGVsaW5lcyBpbiB7QGdsaW5rIGZyYW1ld29yay9ndWlkZXMvZGVlcC1kaXZlL2NsaXBib2FyZCAiQ2xpcGJvYXJkIiBkZWVwIGRpdmV9LgogKgogKiBAbWVtYmVyIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50fSBtb2R1bGU6Y2xpcGJvYXJkL2NsaXBib2FyZH5DbGlwYm9hcmRPdXRwdXRFdmVudERhdGEjY29udGVudAogKi8KCi8qKgogKiBXaGV0aGVyIHRoZSBldmVudCB3YXMgdHJpZ2dlcmVkIGJ5IGNvcHkgb3IgY3V0IG9wZXJhdGlvbi4KICoKICogQG1lbWJlciB7J2NvcHknfCdjdXQnfSBtb2R1bGU6Y2xpcGJvYXJkL2NsaXBib2FyZH5DbGlwYm9hcmRPdXRwdXRFdmVudERhdGEjbWV0aG9kCiAqLw=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-clipboard/src/clipboard.js"],"names":["Plugin","ClipboardObserver","plainTextToHtml","normalizeClipboardHtml","viewToPlainText","HtmlDataProcessor","Clipboard","pluginName","init","editor","modelDocument","model","document","view","editing","viewDocument","_htmlDataProcessor","addObserver","listenTo","evt","isReadOnly","stop","priority","data","dataTransfer","content","getData","toView","fire","scrollToTheSelection","isEmpty","dataController","modelFragment","toModel","childCount","insertContent","onCopyCut","preventDefault","getSelectedContent","selection","method","name","setData","toData","deleteContent"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,MAAP,MAAmB,qCAAnB;AAEA,OAAOC,iBAAP,MAA8B,qBAA9B;AAEA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,OAAOC,sBAAP,MAAmC,gCAAnC;AACA,OAAOC,eAAP,MAA4B,4BAA5B;AAEA,OAAOC,iBAAP,MAA8B,gEAA9B;AAEA;;;;;;;;;;AASA,eAAe,MAAMC,SAAN,SAAwBN,MAAxB,CAA+B;AAC7C;;;AAGA,aAAWO,UAAX,GAAwB;AACvB,WAAO,WAAP;AACA;AAED;;;;;AAGAC,EAAAA,IAAI,GAAG;AACN,UAAMC,MAAM,GAAG,KAAKA,MAApB;AACA,UAAMC,aAAa,GAAGD,MAAM,CAACE,KAAP,CAAaC,QAAnC;AACA,UAAMC,IAAI,GAAGJ,MAAM,CAACK,OAAP,CAAeD,IAA5B;AACA,UAAME,YAAY,GAAGF,IAAI,CAACD,QAA1B;AAEA;;;;;;;AAMA,SAAKI,kBAAL,GAA0B,IAAIX,iBAAJ,EAA1B;AAEAQ,IAAAA,IAAI,CAACI,WAAL,CAAkBhB,iBAAlB,EAdM,CAgBN;AAEA;AACA;;AACA,SAAKiB,QAAL,CAAeH,YAAf,EAA6B,gBAA7B,EAA+CI,GAAG,IAAI;AACrD,UAAKV,MAAM,CAACW,UAAZ,EAAyB;AACxBD,QAAAA,GAAG,CAACE,IAAJ;AACA;AACD,KAJD,EAIG;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAJH;AAMA,SAAKJ,QAAL,CAAeH,YAAf,EAA6B,gBAA7B,EAA+C,CAAEI,GAAF,EAAOI,IAAP,KAAiB;AAC/D,YAAMC,YAAY,GAAGD,IAAI,CAACC,YAA1B;AACA,UAAIC,OAAO,GAAG,EAAd;;AAEA,UAAKD,YAAY,CAACE,OAAb,CAAsB,WAAtB,CAAL,EAA2C;AAC1CD,QAAAA,OAAO,GAAGtB,sBAAsB,CAAEqB,YAAY,CAACE,OAAb,CAAsB,WAAtB,CAAF,CAAhC;AACA,OAFD,MAEO,IAAKF,YAAY,CAACE,OAAb,CAAsB,YAAtB,CAAL,EAA4C;AAClDD,QAAAA,OAAO,GAAGvB,eAAe,CAAEsB,YAAY,CAACE,OAAb,CAAsB,YAAtB,CAAF,CAAzB;AACA;;AAEDD,MAAAA,OAAO,GAAG,KAAKT,kBAAL,CAAwBW,MAAxB,CAAgCF,OAAhC,CAAV;AAEA,WAAKG,IAAL,CAAW,qBAAX,EAAkC;AAAEH,QAAAA,OAAF;AAAWD,QAAAA;AAAX,OAAlC;AAEAX,MAAAA,IAAI,CAACgB,oBAAL;AACA,KAfD,EAeG;AAAEP,MAAAA,QAAQ,EAAE;AAAZ,KAfH;AAiBA,SAAKJ,QAAL,CAAe,IAAf,EAAqB,qBAArB,EAA4C,CAAEC,GAAF,EAAOI,IAAP,KAAiB;AAC5D,UAAK,CAACA,IAAI,CAACE,OAAL,CAAaK,OAAnB,EAA6B;AAC5B,cAAMC,cAAc,GAAG,KAAKtB,MAAL,CAAYc,IAAnC;AACA,cAAMZ,KAAK,GAAG,KAAKF,MAAL,CAAYE,KAA1B,CAF4B,CAI5B;AACA;AACA;;AACA,cAAMqB,aAAa,GAAGD,cAAc,CAACE,OAAf,CAAwBV,IAAI,CAACE,OAA7B,EAAsC,kBAAtC,CAAtB;;AAEA,YAAKO,aAAa,CAACE,UAAd,IAA4B,CAAjC,EAAqC;AACpC;AACA;;AAEDvB,QAAAA,KAAK,CAACwB,aAAN,CAAqBH,aAArB;AACA;AACD,KAhBD,EAgBG;AAAEV,MAAAA,QAAQ,EAAE;AAAZ,KAhBH,EA3CM,CA6DN;;AAEA,aAASc,SAAT,CAAoBjB,GAApB,EAAyBI,IAAzB,EAAgC;AAC/B,YAAMC,YAAY,GAAGD,IAAI,CAACC,YAA1B;AAEAD,MAAAA,IAAI,CAACc,cAAL;AAEA,YAAMZ,OAAO,GAAGhB,MAAM,CAACc,IAAP,CAAYI,MAAZ,CAAoBlB,MAAM,CAACE,KAAP,CAAa2B,kBAAb,CAAiC5B,aAAa,CAAC6B,SAA/C,CAApB,CAAhB;AAEAxB,MAAAA,YAAY,CAACa,IAAb,CAAmB,iBAAnB,EAAsC;AAAEJ,QAAAA,YAAF;AAAgBC,QAAAA,OAAhB;AAAyBe,QAAAA,MAAM,EAAErB,GAAG,CAACsB;AAArC,OAAtC;AACA;;AAED,SAAKvB,QAAL,CAAeH,YAAf,EAA6B,MAA7B,EAAqCqB,SAArC,EAAgD;AAAEd,MAAAA,QAAQ,EAAE;AAAZ,KAAhD;AACA,SAAKJ,QAAL,CAAeH,YAAf,EAA6B,KAA7B,EAAoC,CAAEI,GAAF,EAAOI,IAAP,KAAiB;AACpD;AACA;AACA,UAAKd,MAAM,CAACW,UAAZ,EAAyB;AACxBG,QAAAA,IAAI,CAACc,cAAL;AACA,OAFD,MAEO;AACND,QAAAA,SAAS,CAAEjB,GAAF,EAAOI,IAAP,CAAT;AACA;AACD,KARD,EAQG;AAAED,MAAAA,QAAQ,EAAE;AAAZ,KARH;AAUA,SAAKJ,QAAL,CAAeH,YAAf,EAA6B,iBAA7B,EAAgD,CAAEI,GAAF,EAAOI,IAAP,KAAiB;AAChE,UAAK,CAACA,IAAI,CAACE,OAAL,CAAaK,OAAnB,EAA6B;AAC5BP,QAAAA,IAAI,CAACC,YAAL,CAAkBkB,OAAlB,CAA2B,WAA3B,EAAwC,KAAK1B,kBAAL,CAAwB2B,MAAxB,CAAgCpB,IAAI,CAACE,OAArC,CAAxC;AACAF,QAAAA,IAAI,CAACC,YAAL,CAAkBkB,OAAlB,CAA2B,YAA3B,EAAyCtC,eAAe,CAAEmB,IAAI,CAACE,OAAP,CAAxD;AACA;;AAED,UAAKF,IAAI,CAACiB,MAAL,IAAe,KAApB,EAA4B;AAC3B/B,QAAAA,MAAM,CAACE,KAAP,CAAaiC,aAAb,CAA4BlC,aAAa,CAAC6B,SAA1C;AACA;AACD,KATD,EASG;AAAEjB,MAAAA,QAAQ,EAAE;AAAZ,KATH;AAUA;;AAzG4C;AA4G9C;;;;;;;;;;;;;;;;;AAiBA;;;;;;;;;;;;AAYA;;;;;;AAMA;;;;;;;AAOA;;;;;;;AAOA","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module clipboard/clipboard\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\n\nimport ClipboardObserver from './clipboardobserver';\n\nimport plainTextToHtml from './utils/plaintexttohtml';\nimport normalizeClipboardHtml from './utils/normalizeclipboarddata';\nimport viewToPlainText from './utils/viewtoplaintext.js';\n\nimport HtmlDataProcessor from '@ckeditor/ckeditor5-engine/src/dataprocessor/htmldataprocessor';\n\n/**\n * The clipboard feature. It is responsible for intercepting the `paste` and `drop` events and\n * passing the pasted content through the clipboard pipeline in order to insert it into the editor's content.\n * It also handles the `cut` and `copy` events to fill the native clipboard with serialized editor's data.\n *\n * Read more about the clipboard integration in {@glink framework/guides/deep-dive/clipboard \"Clipboard\" deep dive} guide.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class Clipboard extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'Clipboard';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst modelDocument = editor.model.document;\n\t\tconst view = editor.editing.view;\n\t\tconst viewDocument = view.document;\n\n\t\t/**\n\t\t * Data processor used to convert pasted HTML to a view structure.\n\t\t *\n\t\t * @private\n\t\t * @member {module:engine/dataprocessor/htmldataprocessor~HtmlDataProcessor} #_htmlDataProcessor\n\t\t */\n\t\tthis._htmlDataProcessor = new HtmlDataProcessor();\n\n\t\tview.addObserver( ClipboardObserver );\n\n\t\t// The clipboard paste pipeline.\n\n\t\t// Pasting and dropping is disabled when editor is read-only.\n\t\t// See: https://github.com/ckeditor/ckeditor5-clipboard/issues/26.\n\t\tthis.listenTo( viewDocument, 'clipboardInput', evt => {\n\t\t\tif ( editor.isReadOnly ) {\n\t\t\t\tevt.stop();\n\t\t\t}\n\t\t}, { priority: 'highest' } );\n\n\t\tthis.listenTo( viewDocument, 'clipboardInput', ( evt, data ) => {\n\t\t\tconst dataTransfer = data.dataTransfer;\n\t\t\tlet content = '';\n\n\t\t\tif ( dataTransfer.getData( 'text/html' ) ) {\n\t\t\t\tcontent = normalizeClipboardHtml( dataTransfer.getData( 'text/html' ) );\n\t\t\t} else if ( dataTransfer.getData( 'text/plain' ) ) {\n\t\t\t\tcontent = plainTextToHtml( dataTransfer.getData( 'text/plain' ) );\n\t\t\t}\n\n\t\t\tcontent = this._htmlDataProcessor.toView( content );\n\n\t\t\tthis.fire( 'inputTransformation', { content, dataTransfer } );\n\n\t\t\tview.scrollToTheSelection();\n\t\t}, { priority: 'low' } );\n\n\t\tthis.listenTo( this, 'inputTransformation', ( evt, data ) => {\n\t\t\tif ( !data.content.isEmpty ) {\n\t\t\t\tconst dataController = this.editor.data;\n\t\t\t\tconst model = this.editor.model;\n\n\t\t\t\t// Convert the pasted content to a model document fragment.\n\t\t\t\t// Conversion is contextual, but in this case we need an \"all allowed\" context and for that\n\t\t\t\t// we use the $clipboardHolder item.\n\t\t\t\tconst modelFragment = dataController.toModel( data.content, '$clipboardHolder' );\n\n\t\t\t\tif ( modelFragment.childCount == 0 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tmodel.insertContent( modelFragment );\n\t\t\t}\n\t\t}, { priority: 'low' } );\n\n\t\t// The clipboard copy/cut pipeline.\n\n\t\tfunction onCopyCut( evt, data ) {\n\t\t\tconst dataTransfer = data.dataTransfer;\n\n\t\t\tdata.preventDefault();\n\n\t\t\tconst content = editor.data.toView( editor.model.getSelectedContent( modelDocument.selection ) );\n\n\t\t\tviewDocument.fire( 'clipboardOutput', { dataTransfer, content, method: evt.name } );\n\t\t}\n\n\t\tthis.listenTo( viewDocument, 'copy', onCopyCut, { priority: 'low' } );\n\t\tthis.listenTo( viewDocument, 'cut', ( evt, data ) => {\n\t\t\t// Cutting is disabled when editor is read-only.\n\t\t\t// See: https://github.com/ckeditor/ckeditor5-clipboard/issues/26.\n\t\t\tif ( editor.isReadOnly ) {\n\t\t\t\tdata.preventDefault();\n\t\t\t} else {\n\t\t\t\tonCopyCut( evt, data );\n\t\t\t}\n\t\t}, { priority: 'low' } );\n\n\t\tthis.listenTo( viewDocument, 'clipboardOutput', ( evt, data ) => {\n\t\t\tif ( !data.content.isEmpty ) {\n\t\t\t\tdata.dataTransfer.setData( 'text/html', this._htmlDataProcessor.toData( data.content ) );\n\t\t\t\tdata.dataTransfer.setData( 'text/plain', viewToPlainText( data.content ) );\n\t\t\t}\n\n\t\t\tif ( data.method == 'cut' ) {\n\t\t\t\teditor.model.deleteContent( modelDocument.selection );\n\t\t\t}\n\t\t}, { priority: 'low' } );\n\t}\n}\n\n/**\n * Fired with a `content` and `dataTransfer` objects. The `content` which comes from the clipboard (was pasted or dropped)\n * should be processed in order to be inserted into the editor. The `dataTransfer` object is available\n * in case the transformation functions needs access to a raw clipboard data.\n *\n * It is a part of the {@glink framework/guides/deep-dive/clipboard#input-pipeline \"clipboard input pipeline\"}.\n *\n * @see module:clipboard/clipboardobserver~ClipboardObserver\n * @see module:clipboard/clipboard~Clipboard\n * @event module:clipboard/clipboard~Clipboard#event:inputTransformation\n * @param {Object} data Event data.\n * @param {module:engine/view/documentfragment~DocumentFragment} data.content Event data. Content to be inserted into the editor.\n * It can be modified by the event listeners. Read more about the clipboard pipelines in\n * {@glink framework/guides/deep-dive/clipboard \"Clipboard\" deep dive}.\n * @param {module:clipboard/datatransfer~DataTransfer} data.dataTransfer Data transfer instance.\n */\n\n/**\n * Fired on {@link module:engine/view/document~Document#event:copy} and {@link module:engine/view/document~Document#event:cut}\n * with a copy of selected content. The content can be processed before it ends up in the clipboard.\n *\n * It is a part of the {@glink framework/guides/deep-dive/clipboard#output-pipeline \"clipboard output pipeline\"}.\n *\n * @see module:clipboard/clipboardobserver~ClipboardObserver\n * @see module:clipboard/clipboard~Clipboard\n * @event module:engine/view/document~Document#event:clipboardOutput\n * @param {module:clipboard/clipboard~ClipboardOutputEventData} data Event data.\n */\n\n/**\n * The value of the {@link module:engine/view/document~Document#event:clipboardOutput} event.\n *\n * @class module:clipboard/clipboard~ClipboardOutputEventData\n */\n\n/**\n * Data transfer instance.\n *\n * @readonly\n * @member {module:clipboard/datatransfer~DataTransfer} module:clipboard/clipboard~ClipboardOutputEventData#dataTransfer\n */\n\n/**\n * Content to be put into the clipboard. It can be modified by the event listeners.\n * Read more about the clipboard pipelines in {@glink framework/guides/deep-dive/clipboard \"Clipboard\" deep dive}.\n *\n * @member {module:engine/view/documentfragment~DocumentFragment} module:clipboard/clipboard~ClipboardOutputEventData#content\n */\n\n/**\n * Whether the event was triggered by copy or cut operation.\n *\n * @member {'copy'|'cut'} module:clipboard/clipboard~ClipboardOutputEventData#method\n */\n"]}]}