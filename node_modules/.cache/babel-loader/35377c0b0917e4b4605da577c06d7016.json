{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGxpbmsvbGlua2NvbW1hbmQKICovCmltcG9ydCBDb21tYW5kIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvY29tbWFuZCc7CmltcG9ydCBmaW5kTGlua1JhbmdlIGZyb20gJy4vZmluZGxpbmtyYW5nZSc7CmltcG9ydCB0b01hcCBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy90b21hcCc7CmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL2NvbGxlY3Rpb24nOwovKioKICogVGhlIGxpbmsgY29tbWFuZC4gSXQgaXMgdXNlZCBieSB0aGUge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGluayBsaW5rIGZlYXR1cmV9LgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9jb21tYW5kfkNvbW1hbmQKICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5rQ29tbWFuZCBleHRlbmRzIENvbW1hbmQgewogIC8qKgogICAqIFRoZSB2YWx1ZSBvZiB0aGUgYCdsaW5rSHJlZidgIGF0dHJpYnV0ZSBpZiB0aGUgc3RhcnQgb2YgdGhlIHNlbGVjdGlvbiBpcyBsb2NhdGVkIGluIGEgbm9kZSB3aXRoIHRoaXMgYXR0cmlidXRlLgogICAqCiAgICogQG9ic2VydmFibGUKICAgKiBAcmVhZG9ubHkKICAgKiBAbWVtYmVyIHtPYmplY3R8dW5kZWZpbmVkfSAjdmFsdWUKICAgKi8KICBjb25zdHJ1Y3RvcihlZGl0b3IpIHsKICAgIHN1cGVyKGVkaXRvcik7CiAgICAvKioKICAgICAqIEEgY29sbGVjdGlvbiBvZiB7QGxpbmsgbW9kdWxlOmxpbmsvdXRpbHN+TWFudWFsRGVjb3JhdG9yIG1hbnVhbCBkZWNvcmF0b3JzfQogICAgICogY29ycmVzcG9uZGluZyB0byB0aGUge0BsaW5rIG1vZHVsZTpsaW5rL2xpbmt+TGlua0NvbmZpZyNkZWNvcmF0b3JzIGRlY29yYXRvciBjb25maWd1cmF0aW9ufS4KICAgICAqCiAgICAgKiBZb3UgY2FuIGNvbnNpZGVyIGl0IGEgbW9kZWwgd2l0aCBzdGF0ZXMgb2YgbWFudWFsIGRlY29yYXRvcnMgYWRkZWQgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBsaW5rLgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQHR5cGUge21vZHVsZTp1dGlscy9jb2xsZWN0aW9ufkNvbGxlY3Rpb259CiAgICAgKi8KCiAgICB0aGlzLm1hbnVhbERlY29yYXRvcnMgPSBuZXcgQ29sbGVjdGlvbigpOwogIH0KICAvKioKICAgKiBTeW5jaHJvbml6ZXMgdGhlIHN0YXRlIG9mIHtAbGluayAjbWFudWFsRGVjb3JhdG9yc30gd2l0aCB0aGUgY3VycmVudGx5IHByZXNlbnQgZWxlbWVudHMgaW4gdGhlIG1vZGVsLgogICAqLwoKCiAgcmVzdG9yZU1hbnVhbERlY29yYXRvclN0YXRlcygpIHsKICAgIGZvciAoY29uc3QgbWFudWFsRGVjb3JhdG9yIG9mIHRoaXMubWFudWFsRGVjb3JhdG9ycykgewogICAgICBtYW51YWxEZWNvcmF0b3IudmFsdWUgPSB0aGlzLl9nZXREZWNvcmF0b3JTdGF0ZUZyb21Nb2RlbChtYW51YWxEZWNvcmF0b3IuaWQpOwogICAgfQogIH0KICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwoKCiAgcmVmcmVzaCgpIHsKICAgIGNvbnN0IG1vZGVsID0gdGhpcy5lZGl0b3IubW9kZWw7CiAgICBjb25zdCBkb2MgPSBtb2RlbC5kb2N1bWVudDsKICAgIHRoaXMudmFsdWUgPSBkb2Muc2VsZWN0aW9uLmdldEF0dHJpYnV0ZSgnbGlua0hyZWYnKTsKCiAgICBmb3IgKGNvbnN0IG1hbnVhbERlY29yYXRvciBvZiB0aGlzLm1hbnVhbERlY29yYXRvcnMpIHsKICAgICAgbWFudWFsRGVjb3JhdG9yLnZhbHVlID0gdGhpcy5fZ2V0RGVjb3JhdG9yU3RhdGVGcm9tTW9kZWwobWFudWFsRGVjb3JhdG9yLmlkKTsKICAgIH0KCiAgICB0aGlzLmlzRW5hYmxlZCA9IG1vZGVsLnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKGRvYy5zZWxlY3Rpb24sICdsaW5rSHJlZicpOwogIH0KICAvKioKICAgKiBFeGVjdXRlcyB0aGUgY29tbWFuZC4KICAgKgogICAqIFdoZW4gdGhlIHNlbGVjdGlvbiBpcyBub24tY29sbGFwc2VkLCB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUgd2lsbCBiZSBhcHBsaWVkIHRvIG5vZGVzIGluc2lkZSB0aGUgc2VsZWN0aW9uLCBidXQgb25seSB0bwogICAqIHRob3NlIG5vZGVzIHdoZXJlIHRoZSBgbGlua0hyZWZgIGF0dHJpYnV0ZSBpcyBhbGxvd2VkIChkaXNhbGxvd2VkIG5vZGVzIHdpbGwgYmUgb21pdHRlZCkuCiAgICoKICAgKiBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgY29sbGFwc2VkIGFuZCBpcyBub3QgaW5zaWRlIHRoZSB0ZXh0IHdpdGggdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlLCBhCiAgICogbmV3IHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL3RleHR+VGV4dCB0ZXh0IG5vZGV9IHdpdGggdGhlIGBsaW5rSHJlZmAgYXR0cmlidXRlIHdpbGwgYmUgaW5zZXJ0ZWQgaW4gcGxhY2Ugb2YgdGhlIGNhcmV0LCBidXQKICAgKiBvbmx5IGlmIHN1Y2ggZWxlbWVudCBpcyBhbGxvd2VkIGluIHRoaXMgcGxhY2UuIFRoZSBgX2RhdGFgIG9mIHRoZSBpbnNlcnRlZCB0ZXh0IHdpbGwgZXF1YWwgdGhlIGBocmVmYCBwYXJhbWV0ZXIuCiAgICogVGhlIHNlbGVjdGlvbiB3aWxsIGJlIHVwZGF0ZWQgdG8gd3JhcCB0aGUganVzdCBpbnNlcnRlZCB0ZXh0IG5vZGUuCiAgICoKICAgKiBXaGVuIHRoZSBzZWxlY3Rpb24gaXMgY29sbGFwc2VkIGFuZCBpbnNpZGUgdGhlIHRleHQgd2l0aCB0aGUgYGxpbmtIcmVmYCBhdHRyaWJ1dGUsIHRoZSBhdHRyaWJ1dGUgdmFsdWUgd2lsbCBiZSB1cGRhdGVkLgogICAqCiAgICogIyBEZWNvcmF0b3JzIGFuZCBtb2RlbCBhdHRyaWJ1dGUgbWFuYWdlbWVudAogICAqCiAgICogVGhlcmUgaXMgYW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gdGhpcyBjb21tYW5kIHRoYXQgYXBwbGllcyBvciByZW1vdmVzIG1vZGVsCiAgICoge0BnbGluayBmcmFtZXdvcmsvZ3VpZGVzL2FyY2hpdGVjdHVyZS9lZGl0aW5nLWVuZ2luZSN0ZXh0LWF0dHJpYnV0ZXMgdGV4dCBhdHRyaWJ1dGVzfSBicm91Z2h0IGJ5CiAgICoge0BsaW5rIG1vZHVsZTpsaW5rL3V0aWxzfk1hbnVhbERlY29yYXRvciBtYW51YWwgbGluayBkZWNvcmF0b3JzfS4KICAgKgogICAqIFRleHQgYXR0cmlidXRlIG5hbWVzIGluIHRoZSBtb2RlbCBjb3JyZXNwb25kIHRvIHRoZSBlbnRyaWVzIGluIHRoZSB7QGxpbmsgbW9kdWxlOmxpbmsvbGlua35MaW5rQ29uZmlnI2RlY29yYXRvcnMgY29uZmlndXJhdGlvbn0uCiAgICogRm9yIGV2ZXJ5IGRlY29yYXRvciBjb25maWd1cmVkLCBhIG1vZGVsIHRleHQgYXR0cmlidXRlIGV4aXN0cyB3aXRoIHRoZSAibGluayIgcHJlZml4LiBGb3IgZXhhbXBsZSwgYSBgJ2xpbmtNeURlY29yYXRvcidgIGF0dHJpYnV0ZQogICAqIGNvcnJlc3BvbmRzIHRvIGAnbXlEZWNvcmF0b3InYCBpbiB0aGUgY29uZmlndXJhdGlvbi4KICAgKgogICAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgbGluayBkZWNvcmF0b3JzLCBjaGVjayBvdXQgdGhlIHtAbGluayBtb2R1bGU6bGluay9saW5rfkxpbmtDb25maWcjZGVjb3JhdG9ycyBgY29uZmlnLmxpbmsuZGVjb3JhdG9yc2B9CiAgICogZG9jdW1lbnRhdGlvbi4KICAgKgogICAqIEhlcmUgaXMgaG93IHRvIG1hbmFnZSBkZWNvcmF0b3IgYXR0cmlidXRlcyB3aXRoIHRoZSBsaW5rIGNvbW1hbmQ6CiAgICoKICAgKgkJY29uc3QgbGlua0NvbW1hbmQgPSBlZGl0b3IuY29tbWFuZHMuZ2V0KCAnbGluaycgKTsKICAgKgogICAqCQkvLyBBZGRpbmcgYSBuZXcgZGVjb3JhdG9yIGF0dHJpYnV0ZS4KICAgKgkJbGlua0NvbW1hbmQuZXhlY3V0ZSggJ2h0dHA6Ly9leGFtcGxlLmNvbScsIHsKICAgKgkJCWxpbmtJc0V4dGVybmFsOiB0cnVlCiAgICoJCX0gKTsKICAgKgogICAqCQkvLyBSZW1vdmluZyBhIGRlY29yYXRvciBhdHRyaWJ1dGUgZnJvbSB0aGUgc2VsZWN0aW9uLgogICAqCQlsaW5rQ29tbWFuZC5leGVjdXRlKCAnaHR0cDovL2V4YW1wbGUuY29tJywgewogICAqCQkJbGlua0lzRXh0ZXJuYWw6IGZhbHNlCiAgICoJCX0gKTsKICAgKgogICAqCQkvLyBBZGRpbmcgbXVsdGlwbGUgZGVjb3JhdG9yIGF0dHJpYnV0ZXMgYXQgdGhlIHNhbWUgdGltZS4KICAgKgkJbGlua0NvbW1hbmQuZXhlY3V0ZSggJ2h0dHA6Ly9leGFtcGxlLmNvbScsIHsKICAgKgkJCWxpbmtJc0V4dGVybmFsOiB0cnVlLAogICAqCQkJbGlua0lzRG93bmxvYWRhYmxlOiB0cnVlLAogICAqCQl9ICk7CiAgICoKICAgKgkJLy8gUmVtb3ZpbmcgYW5kIGFkZGluZyBkZWNvcmF0b3IgYXR0cmlidXRlcyBhdCB0aGUgc2FtZSB0aW1lLgogICAqCQlsaW5rQ29tbWFuZC5leGVjdXRlKCAnaHR0cDovL2V4YW1wbGUuY29tJywgewogICAqCQkJbGlua0lzRXh0ZXJuYWw6IGZhbHNlLAogICAqCQkJbGlua0ZvbzogdHJ1ZSwKICAgKgkJCWxpbmtJc0Rvd25sb2FkYWJsZTogZmFsc2UsCiAgICoJCX0gKTsKICAgKgogICAqICoqTm90ZSoqOiBJZiB0aGUgZGVjb3JhdG9yIGF0dHJpYnV0ZSBuYW1lIGlzIG5vdCBzcGVjaWZpZWQsIGl0cyBzdGF0ZSByZW1haW5zIHVudG91Y2hlZC4KICAgKgogICAqICoqTm90ZSoqOiB7QGxpbmsgbW9kdWxlOmxpbmsvdW5saW5rY29tbWFuZH5VbmxpbmtDb21tYW5kI2V4ZWN1dGUgYFVubGlua0NvbW1hbmQjZXhlY3V0ZSgpYH0gcmVtb3ZlcyBhbGwKICAgKiBkZWNvcmF0b3IgYXR0cmlidXRlcy4KICAgKgogICAqIEBmaXJlcyBleGVjdXRlCiAgICogQHBhcmFtIHtTdHJpbmd9IGhyZWYgTGluayBkZXN0aW5hdGlvbi4KICAgKiBAcGFyYW0ge09iamVjdH0gW21hbnVhbERlY29yYXRvcklkcz17fV0gVGhlIGluZm9ybWF0aW9uIGFib3V0IG1hbnVhbCBkZWNvcmF0b3IgYXR0cmlidXRlcyB0byBiZSBhcHBsaWVkIG9yIHJlbW92ZWQgdXBvbiBleGVjdXRpb24uCiAgICovCgoKICBleGVjdXRlKGhyZWYsIG1hbnVhbERlY29yYXRvcklkcyA9IHt9KSB7CiAgICBjb25zdCBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgY29uc3Qgc2VsZWN0aW9uID0gbW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uOyAvLyBTdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgbWFudWFsIGRlY29yYXRvcnMgdG8gdHVybiB0aGVtIG9uL29mZiB3aGVuIGNvbW1hbmQgaXMgYXBwbGllZC4KCiAgICBjb25zdCB0cnV0aHlNYW51YWxEZWNvcmF0b3JzID0gW107CiAgICBjb25zdCBmYWxzeU1hbnVhbERlY29yYXRvcnMgPSBbXTsKCiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gbWFudWFsRGVjb3JhdG9ySWRzKSB7CiAgICAgIGlmIChtYW51YWxEZWNvcmF0b3JJZHNbbmFtZV0pIHsKICAgICAgICB0cnV0aHlNYW51YWxEZWNvcmF0b3JzLnB1c2gobmFtZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmFsc3lNYW51YWxEZWNvcmF0b3JzLnB1c2gobmFtZSk7CiAgICAgIH0KICAgIH0KCiAgICBtb2RlbC5jaGFuZ2Uod3JpdGVyID0+IHsKICAgICAgLy8gSWYgc2VsZWN0aW9uIGlzIGNvbGxhcHNlZCB0aGVuIHVwZGF0ZSBzZWxlY3RlZCBsaW5rIG9yIGluc2VydCBuZXcgb25lIGF0IHRoZSBwbGFjZSBvZiBjYXJldC4KICAgICAgaWYgKHNlbGVjdGlvbi5pc0NvbGxhcHNlZCkgewogICAgICAgIGNvbnN0IHBvc2l0aW9uID0gc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKTsgLy8gV2hlbiBzZWxlY3Rpb24gaXMgaW5zaWRlIHRleHQgd2l0aCBgbGlua0hyZWZgIGF0dHJpYnV0ZS4KCiAgICAgICAgaWYgKHNlbGVjdGlvbi5oYXNBdHRyaWJ1dGUoJ2xpbmtIcmVmJykpIHsKICAgICAgICAgIC8vIFRoZW4gdXBkYXRlIGBsaW5rSHJlZmAgdmFsdWUuCiAgICAgICAgICBjb25zdCBsaW5rUmFuZ2UgPSBmaW5kTGlua1JhbmdlKHBvc2l0aW9uLCBzZWxlY3Rpb24uZ2V0QXR0cmlidXRlKCdsaW5rSHJlZicpLCBtb2RlbCk7CiAgICAgICAgICB3cml0ZXIuc2V0QXR0cmlidXRlKCdsaW5rSHJlZicsIGhyZWYsIGxpbmtSYW5nZSk7CiAgICAgICAgICB0cnV0aHlNYW51YWxEZWNvcmF0b3JzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoaXRlbSwgdHJ1ZSwgbGlua1JhbmdlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgZmFsc3lNYW51YWxEZWNvcmF0b3JzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIHdyaXRlci5yZW1vdmVBdHRyaWJ1dGUoaXRlbSwgbGlua1JhbmdlKTsKICAgICAgICAgIH0pOyAvLyBDcmVhdGUgbmV3IHJhbmdlIHdyYXBwaW5nIGNoYW5nZWQgbGluay4KCiAgICAgICAgICB3cml0ZXIuc2V0U2VsZWN0aW9uKGxpbmtSYW5nZSk7CiAgICAgICAgfSAvLyBJZiBub3QgdGhlbiBpbnNlcnQgdGV4dCBub2RlIHdpdGggYGxpbmtIcmVmYCBhdHRyaWJ1dGUgaW4gcGxhY2Ugb2YgY2FyZXQuCiAgICAgICAgLy8gSG93ZXZlciwgc2luY2Ugc2VsZWN0aW9uIGluIGNvbGxhcHNlZCwgYXR0cmlidXRlIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyBkYXRhIGZvciB0ZXh0IG5vZGUuCiAgICAgICAgLy8gU28sIGlmIGBocmVmYCBpcyBlbXB0eSwgZG8gbm90IGNyZWF0ZSB0ZXh0IG5vZGUuCiAgICAgICAgZWxzZSBpZiAoaHJlZiAhPT0gJycpIHsKICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHRvTWFwKHNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVzKCkpOwogICAgICAgICAgICBhdHRyaWJ1dGVzLnNldCgnbGlua0hyZWYnLCBocmVmKTsKICAgICAgICAgICAgdHJ1dGh5TWFudWFsRGVjb3JhdG9ycy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc2V0KGl0ZW0sIHRydWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHdyaXRlci5jcmVhdGVUZXh0KGhyZWYsIGF0dHJpYnV0ZXMpOwogICAgICAgICAgICBtb2RlbC5pbnNlcnRDb250ZW50KG5vZGUsIHBvc2l0aW9uKTsgLy8gQ3JlYXRlIG5ldyByYW5nZSB3cmFwcGluZyBjcmVhdGVkIG5vZGUuCgogICAgICAgICAgICB3cml0ZXIuc2V0U2VsZWN0aW9uKHdyaXRlci5jcmVhdGVSYW5nZU9uKG5vZGUpKTsKICAgICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBJZiBzZWxlY3Rpb24gaGFzIG5vbi1jb2xsYXBzZWQgcmFuZ2VzLCB3ZSBjaGFuZ2UgYXR0cmlidXRlIG9uIG5vZGVzIGluc2lkZSB0aG9zZSByYW5nZXMKICAgICAgICAvLyBvbWl0dGluZyBub2RlcyB3aGVyZSBgbGlua0hyZWZgIGF0dHJpYnV0ZSBpcyBkaXNhbGxvd2VkLgogICAgICAgIGNvbnN0IHJhbmdlcyA9IG1vZGVsLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhzZWxlY3Rpb24uZ2V0UmFuZ2VzKCksICdsaW5rSHJlZicpOwoKICAgICAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcykgewogICAgICAgICAgd3JpdGVyLnNldEF0dHJpYnV0ZSgnbGlua0hyZWYnLCBocmVmLCByYW5nZSk7CiAgICAgICAgICB0cnV0aHlNYW51YWxEZWNvcmF0b3JzLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoaXRlbSwgdHJ1ZSwgcmFuZ2UpOwogICAgICAgICAgfSk7CiAgICAgICAgICBmYWxzeU1hbnVhbERlY29yYXRvcnMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgd3JpdGVyLnJlbW92ZUF0dHJpYnV0ZShpdGVtLCByYW5nZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KICAvKioKICAgKiBQcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIGEgZGVjb3JhdG9yIHdpdGggYSBnaXZlbiBuYW1lIGlzIHByZXNlbnQgaW4gdGhlIGN1cnJlbnRseSBwcm9jZXNzZWQgc2VsZWN0aW9uLgogICAqCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge1N0cmluZ30gZGVjb3JhdG9yTmFtZSBUaGUgbmFtZSBvZiB0aGUgbWFudWFsIGRlY29yYXRvciB1c2VkIGluIHRoZSBtb2RlbAogICAqIEByZXR1cm5zIHtCb29sZWFufSBUaGUgaW5mb3JtYXRpb24gd2hldGhlciBhIGdpdmVuIGRlY29yYXRvciBpcyBjdXJyZW50bHkgcHJlc2VudCBpbiB0aGUgc2VsZWN0aW9uLgogICAqLwoKCiAgX2dldERlY29yYXRvclN0YXRlRnJvbU1vZGVsKGRlY29yYXRvck5hbWUpIHsKICAgIGNvbnN0IGRvYyA9IHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50OwogICAgcmV0dXJuIGRvYy5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlKGRlY29yYXRvck5hbWUpIHx8IGZhbHNlOwogIH0KCn0="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/linkcommand.js"],"names":["Command","findLinkRange","toMap","Collection","LinkCommand","constructor","editor","manualDecorators","restoreManualDecoratorStates","manualDecorator","value","_getDecoratorStateFromModel","id","refresh","model","doc","document","selection","getAttribute","isEnabled","schema","checkAttributeInSelection","execute","href","manualDecoratorIds","truthyManualDecorators","falsyManualDecorators","name","push","change","writer","isCollapsed","position","getFirstPosition","hasAttribute","linkRange","setAttribute","forEach","item","removeAttribute","setSelection","attributes","getAttributes","set","node","createText","insertContent","createRangeOn","ranges","getValidRanges","getRanges","range","decoratorName"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module link/linkcommand\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command';\nimport findLinkRange from './findlinkrange';\nimport toMap from '@ckeditor/ckeditor5-utils/src/tomap';\nimport Collection from '@ckeditor/ckeditor5-utils/src/collection';\n\n/**\n * The link command. It is used by the {@link module:link/link~Link link feature}.\n *\n * @extends module:core/command~Command\n */\nexport default class LinkCommand extends Command {\n\t/**\n\t * The value of the `'linkHref'` attribute if the start of the selection is located in a node with this attribute.\n\t *\n\t * @observable\n\t * @readonly\n\t * @member {Object|undefined} #value\n\t */\n\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * A collection of {@link module:link/utils~ManualDecorator manual decorators}\n\t\t * corresponding to the {@link module:link/link~LinkConfig#decorators decorator configuration}.\n\t\t *\n\t\t * You can consider it a model with states of manual decorators added to the currently selected link.\n\t\t *\n\t\t * @readonly\n\t\t * @type {module:utils/collection~Collection}\n\t\t */\n\t\tthis.manualDecorators = new Collection();\n\t}\n\n\t/**\n\t * Synchronizes the state of {@link #manualDecorators} with the currently present elements in the model.\n\t */\n\trestoreManualDecoratorStates() {\n\t\tfor ( const manualDecorator of this.manualDecorators ) {\n\t\t\tmanualDecorator.value = this._getDecoratorStateFromModel( manualDecorator.id );\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst model = this.editor.model;\n\t\tconst doc = model.document;\n\n\t\tthis.value = doc.selection.getAttribute( 'linkHref' );\n\n\t\tfor ( const manualDecorator of this.manualDecorators ) {\n\t\t\tmanualDecorator.value = this._getDecoratorStateFromModel( manualDecorator.id );\n\t\t}\n\n\t\tthis.isEnabled = model.schema.checkAttributeInSelection( doc.selection, 'linkHref' );\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t * When the selection is non-collapsed, the `linkHref` attribute will be applied to nodes inside the selection, but only to\n\t * those nodes where the `linkHref` attribute is allowed (disallowed nodes will be omitted).\n\t *\n\t * When the selection is collapsed and is not inside the text with the `linkHref` attribute, a\n\t * new {@link module:engine/model/text~Text text node} with the `linkHref` attribute will be inserted in place of the caret, but\n\t * only if such element is allowed in this place. The `_data` of the inserted text will equal the `href` parameter.\n\t * The selection will be updated to wrap the just inserted text node.\n\t *\n\t * When the selection is collapsed and inside the text with the `linkHref` attribute, the attribute value will be updated.\n\t *\n\t * # Decorators and model attribute management\n\t *\n\t * There is an optional argument to this command that applies or removes model\n\t * {@glink framework/guides/architecture/editing-engine#text-attributes text attributes} brought by\n\t * {@link module:link/utils~ManualDecorator manual link decorators}.\n\t *\n\t * Text attribute names in the model correspond to the entries in the {@link module:link/link~LinkConfig#decorators configuration}.\n\t * For every decorator configured, a model text attribute exists with the \"link\" prefix. For example, a `'linkMyDecorator'` attribute\n\t * corresponds to `'myDecorator'` in the configuration.\n\t *\n\t * To learn more about link decorators, check out the {@link module:link/link~LinkConfig#decorators `config.link.decorators`}\n\t * documentation.\n\t *\n\t * Here is how to manage decorator attributes with the link command:\n\t *\n\t *\t\tconst linkCommand = editor.commands.get( 'link' );\n\t *\n\t *\t\t// Adding a new decorator attribute.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: true\n\t *\t\t} );\n\t *\n\t *\t\t// Removing a decorator attribute from the selection.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: false\n\t *\t\t} );\n\t *\n\t *\t\t// Adding multiple decorator attributes at the same time.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: true,\n\t *\t\t\tlinkIsDownloadable: true,\n\t *\t\t} );\n\t *\n\t *\t\t// Removing and adding decorator attributes at the same time.\n\t *\t\tlinkCommand.execute( 'http://example.com', {\n\t *\t\t\tlinkIsExternal: false,\n\t *\t\t\tlinkFoo: true,\n\t *\t\t\tlinkIsDownloadable: false,\n\t *\t\t} );\n\t *\n\t * **Note**: If the decorator attribute name is not specified, its state remains untouched.\n\t *\n\t * **Note**: {@link module:link/unlinkcommand~UnlinkCommand#execute `UnlinkCommand#execute()`} removes all\n\t * decorator attributes.\n\t *\n\t * @fires execute\n\t * @param {String} href Link destination.\n\t * @param {Object} [manualDecoratorIds={}] The information about manual decorator attributes to be applied or removed upon execution.\n\t */\n\texecute( href, manualDecoratorIds = {} ) {\n\t\tconst model = this.editor.model;\n\t\tconst selection = model.document.selection;\n\t\t// Stores information about manual decorators to turn them on/off when command is applied.\n\t\tconst truthyManualDecorators = [];\n\t\tconst falsyManualDecorators = [];\n\n\t\tfor ( const name in manualDecoratorIds ) {\n\t\t\tif ( manualDecoratorIds[ name ] ) {\n\t\t\t\ttruthyManualDecorators.push( name );\n\t\t\t} else {\n\t\t\t\tfalsyManualDecorators.push( name );\n\t\t\t}\n\t\t}\n\n\t\tmodel.change( writer => {\n\t\t\t// If selection is collapsed then update selected link or insert new one at the place of caret.\n\t\t\tif ( selection.isCollapsed ) {\n\t\t\t\tconst position = selection.getFirstPosition();\n\n\t\t\t\t// When selection is inside text with `linkHref` attribute.\n\t\t\t\tif ( selection.hasAttribute( 'linkHref' ) ) {\n\t\t\t\t\t// Then update `linkHref` value.\n\t\t\t\t\tconst linkRange = findLinkRange( position, selection.getAttribute( 'linkHref' ), model );\n\n\t\t\t\t\twriter.setAttribute( 'linkHref', href, linkRange );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.setAttribute( item, true, linkRange );\n\t\t\t\t\t} );\n\n\t\t\t\t\tfalsyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.removeAttribute( item, linkRange );\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Create new range wrapping changed link.\n\t\t\t\t\twriter.setSelection( linkRange );\n\t\t\t\t}\n\t\t\t\t// If not then insert text node with `linkHref` attribute in place of caret.\n\t\t\t\t// However, since selection in collapsed, attribute value will be used as data for text node.\n\t\t\t\t// So, if `href` is empty, do not create text node.\n\t\t\t\telse if ( href !== '' ) {\n\t\t\t\t\tconst attributes = toMap( selection.getAttributes() );\n\n\t\t\t\t\tattributes.set( 'linkHref', href );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\tattributes.set( item, true );\n\t\t\t\t\t} );\n\n\t\t\t\t\tconst node = writer.createText( href, attributes );\n\n\t\t\t\t\tmodel.insertContent( node, position );\n\n\t\t\t\t\t// Create new range wrapping created node.\n\t\t\t\t\twriter.setSelection( writer.createRangeOn( node ) );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If selection has non-collapsed ranges, we change attribute on nodes inside those ranges\n\t\t\t\t// omitting nodes where `linkHref` attribute is disallowed.\n\t\t\t\tconst ranges = model.schema.getValidRanges( selection.getRanges(), 'linkHref' );\n\n\t\t\t\tfor ( const range of ranges ) {\n\t\t\t\t\twriter.setAttribute( 'linkHref', href, range );\n\n\t\t\t\t\ttruthyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.setAttribute( item, true, range );\n\t\t\t\t\t} );\n\n\t\t\t\t\tfalsyManualDecorators.forEach( item => {\n\t\t\t\t\t\twriter.removeAttribute( item, range );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n\n\t/**\n\t * Provides information whether a decorator with a given name is present in the currently processed selection.\n\t *\n\t * @private\n\t * @param {String} decoratorName The name of the manual decorator used in the model\n\t * @returns {Boolean} The information whether a given decorator is currently present in the selection.\n\t */\n\t_getDecoratorStateFromModel( decoratorName ) {\n\t\tconst doc = this.editor.model.document;\n\t\treturn doc.selection.getAttribute( decoratorName ) || false;\n\t}\n}\n"]}]}