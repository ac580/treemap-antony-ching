{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-table/src/converters/table-layout-post-fixer.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-table/src/converters/table-layout-post-fixer.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHRhYmxlL2NvbnZlcnRlcnMvdGFibGUtbGF5b3V0LXBvc3QtZml4ZXIKICovCmltcG9ydCB7IGNyZWF0ZUVtcHR5VGFibGVDZWxsLCBmaW5kQW5jZXN0b3IsIHVwZGF0ZU51bWVyaWNBdHRyaWJ1dGUgfSBmcm9tICcuLy4uL2NvbW1hbmRzL3V0aWxzJzsKaW1wb3J0IFRhYmxlV2Fsa2VyIGZyb20gJy4vLi4vdGFibGV3YWxrZXInOwovKioKICogSW5qZWN0cyBhIHRhYmxlIGxheW91dCBwb3N0LWZpeGVyIGludG8gdGhlIG1vZGVsLgogKgogKiBUaGUgcm9sZSBvZiB0aGUgdGFibGUgbGF5b3V0IHBvc3QtZml4ZXIgaXMgdG8gZW5zdXJlIHRoYXQgdGhlIHRhYmxlIHJvd3MgaGF2ZSB0aGUgY29ycmVjdCBzdHJ1Y3R1cmUKICogYWZ0ZXIgYSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbCNjaGFuZ2UgYGNoYW5nZSgpYH0gYmxvY2sgd2FzIGV4ZWN1dGVkLgogKgogKiBUaGUgY29ycmVjdCBzdHJ1Y3R1cmUgbWVhbnMgdGhhdDoKICoKICogKiBBbGwgdGFibGUgcm93cyBoYXZlIHRoZSBzYW1lIHNpemUuCiAqICogTm9uZSBvZiBhIHRhYmxlIGNlbGxzIHRoYXQgZXh0ZW5kIHZlcnRpY2FsbHkgYmV5b25kIHRoZWlyIHNlY3Rpb24gKGVpdGhlciBoZWFkZXIgb3IgYm9keSkuCiAqICogQSB0YWJsZSBjZWxsIGhhcyBhbHdheXMgYXQgbGVhc3Qgb25lIGVsZW1lbnQgYXMgY2hpbGQuCiAqCiAqIElmIHRoZSB0YWJsZSBzdHJ1Y3R1cmUgaXMgbm90IGNvcnJlY3QsIHRoZSBwb3N0LWZpeGVyIHdpbGwgYXV0b21hdGljYWxseSBjb3JyZWN0IGl0IGluIHR3byBzdGVwczoKICoKICogMS4gSXQgd2lsbCBjbGlwIHRhYmxlIGNlbGxzIHRoYXQgZXh0ZW5kcyBiZXlvbmQgaXQgc2VjdGlvbi4KICogMi4gSXQgd2lsbCBhZGQgZW1wdHkgdGFibGUgY2VsbHMgdG8gdGhvc2Ugcm93cyB3aGljaCBhcmUgbmFycm93ZXIgdGhlbiB0aGUgd2lkZXN0IHRhYmxlIHJvdy4KICoKICogIyMgQ2xpcHBpbmcgb3ZlcmxhcHBpbmcgdGFibGUgY2VsbHMKICoKICogU3VjaCBzaXR1YXRpb24gbWF5IG9jY3VyIHdoZW4gcGFzdGluZyBhIHRhYmxlIChvciBwYXJ0IG9mIGEgdGFibGUpIHRvIHRoZSBlZGl0b3IgZnJvbSBleHRlcm5hbCBzb3VyY2VzLgogKgogKiBGb3IgZXhhbXBsZSwgc2VlIHRoZSBmb2xsb3dpbmcgdGFibGUgd2hpY2ggaGFzIHRoZSBjZWxsIChGT08pIHdpdGggdGhlIHJvd3NwYW4gYXR0cmlidXRlICgyKToKICoKICoJCTx0YWJsZSBoZWFkaW5nUm93cz0iMSI+CiAqCQkJPHRhYmxlUm93PgogKgkJCQk8dGFibGVDZWxsIHJvd3NwYW49IjIiPjxwYXJhZ3JhcGg+Rk9PPC9wYXJhZ3JhcGg+PC90YWJsZUNlbGw+CiAqCQkJCTx0YWJsZUNlbGwgY29sc3Bhbj0iMiI+PHBhcmFncmFwaD5CQVI8L3BhcmFncmFwaD48L3RhYmxlQ2VsbD4KICoJCQk8L3RhYmxlUm93PgogKgkJCTx0YWJsZVJvdz4KICoJCQkJPHRhYmxlQ2VsbD48cGFyYWdyYXBoPkJBWjwvcGFyYWdyYXBoPjwvdGFibGVDZWxsPgogKgkJCQk8dGFibGVDZWxsPjxwYXJhZ3JhcGg+WFlaPC9wYXJhZ3JhcGg+PC90YWJsZUNlbGw+CiAqCQkJPC90YWJsZVJvdz4KICoJCTwvdGFibGU+CiAqCiAqIHdpbGwgYmUgcmVuZGVyZWQgaW4gdGhlIHZpZXcgYXM6CiAqCiAqCQk8dGFibGU+CiAqCQkJPHRoZWFkPgogKgkJCQk8dHI+CiAqCQkJCQk8dGQgcm93c3Bhbj0iMiI+Rk9PPC90ZD4KICoJCQkJCTx0ZCBjb2xzcGFuPSIyIj5CQVI8L3RkPgogKgkJCQk8L3RyPgogKgkJCTwvdGhlYWQ+CiAqCQkJPHRib2R5PgogKgkJCQk8dHI+CiAqCQkJCQk8dGQ+QkFaPC90ZD4KICoJCQkJCTx0ZD5YWVo8L3RkPgogKgkJCQk8L3RyPgogKgkJCTwvdGJvZHk+CiAqCQk8L3RhYmxlPgogKgogKiBJbiB0aGUgYWJvdmUgZXhhbXBsZSB0aGUgdGFibGUgd2lsbCBiZSByZW5kZXJlZCBhcyBhIHRhYmxlIHdpdGggdHdvIHJvd3MgLSBvbmUgaW4gdGhlIGhlYWRlciBhbmQgc2Vjb25kIG9uZSBpbiB0aGUgYm9keS4KICogVGhlIHRhYmxlIGNlbGwgKEZPTykgY2Fubm90IHNwYW4gb3ZlciBtdWx0aXBsZSByb3dzIGFzIGl0IHdvdWxkIGV4cGFuZCBmcm9tIHRoZSBoZWFkZXIgdG8gdGhlIGJvZHkgc2VjdGlvbi4KICogVGhlIGByb3dzcGFuYCBhdHRyaWJ1dGUgbXVzdCBiZSBjaGFuZ2VkIHRvICgxKS4gVGhlIHZhbHVlICgxKSBpcyBhIGRlZmF1bHQgdmFsdWUgb2YgdGhlIGByb3dzcGFuYCBhdHRyaWJ1dGUKICogc28gdGhlIGByb3dzcGFuYCBhdHRyaWJ1dGUgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIG1vZGVsLgogKgogKiBUaGUgdGFibGUgY2VsbCB3aXRoIEJBWiBjb250ZW50cyB3aWxsIGJlIGluIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIHRhYmxlLgogKgogKiAjIyBBZGRpbmcgbWlzc2luZyB0YWJsZSBjZWxscwogKgogKiBUaGUgdGFibGUgcG9zdC1maXhlciB3aWxsIGluc2VydCBlbXB0eSB0YWJsZSBjZWxscyB0byBlcXVhbGl6ZSB0YWJsZSByb3dzIHNpemVzIChudW1iZXIgb2YgY29sdW1ucykuCiAqIFRoZSBzaXplIG9mIGEgdGFibGUgcm93IGlzIGNhbGN1bGF0ZWQgYnkgY291bnRpbmcgY29sdW1uIHNwYW5zIG9mIHRhYmxlIGNlbGxzIC0gYm90aCBob3Jpem9udGFsIChmcm9tIHRoZSBzYW1lIHJvdykgYW5kCiAqIHZlcnRpY2FsIChmcm9tIHJvd3MgYWJvdmUpLgogKgogKiBJbiB0aGUgYWJvdmUgZXhhbXBsZSwgdGhlIHRhYmxlIHJvdyBpbiB0aGUgYm9keSBzZWN0aW9uIG9mIHRoZSB0YWJsZSBpcyBuYXJyb3dlciB0aGVuIHRoZSByb3cgZnJvbSB0aGUgaGVhZGVyIC0gaXQgaGFzIHR3byBjZWxscwogKiB3aXRoIHRoZSBkZWZhdWx0IGNvbHNwYW4gKDEpLiBUaGUgaGVhZGVyIHJvdyBoYXMgb25lIGNlbGwgd2l0aCBjb2xzcGFuICgxKSBhbmQgc2Vjb25kIHdpdGggY29sc3BhbiAoMikuCiAqIFRoZSB0YWJsZSBjZWxsIChGT08pIGRvZXMgbm90IGV4cGFuZCBiZXlvbmQgdGhlIGhlYWQgc2VjdGlvbiAoYW5kIGFzIHN1Y2ggd2lsbCBiZSBmaXhlZCBpbiB0aGUgZmlyc3Qgc3RlcCBvZiB0aGlzIHBvc3QtZml4ZXIpLgogKiBUaGUgcG9zdC1maXhlciB3aWxsIGFkZCBhIG1pc3NpbmcgdGFibGUgY2VsbCB0byB0aGUgcm93IGluIHRoZSBib2R5IHNlY3Rpb24gb2YgdGhlIHRhYmxlLgogKgogKiBUaGUgdGFibGUgZnJvbSB0aGUgYWJvdmUgZXhhbXBsZSB3aWxsIGJlIGZpeGVkIGFuZCByZW5kZXJlZCB0byB0aGUgdmlldyBhcyBiZWxvdzoKICoKICoJCTx0YWJsZT4KICoJCQk8dGhlYWQ+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZCByb3dzcGFuPSIyIj5GT088L3RkPgogKgkJCQkJPHRkIGNvbHNwYW49IjIiPkJBUjwvdGQ+CiAqCQkJCTwvdHI+CiAqCQkJPC90aGVhZD4KICoJCQk8dGJvZHk+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZD5CQVo8L3RkPgogKgkJCQkJPHRkPlhZWjwvdGQ+CiAqCQkJCTwvdHI+CiAqCQkJPC90Ym9keT4KICoJCTwvdGFibGU+CiAqCiAqICMjIENvbGxhYm9yYXRpb24gJiBVbmRvIC0gRXhwZWN0YXRpb25zIHZzIHBvc3QtZml4ZXIgcmVzdWx0cwogKgogKiBUaGUgdGFibGUgcG9zdC1maXhlciBvbmx5IGVuc3VyZXMgcHJvcGVyIHN0cnVjdHVyZSB3aXRob3V0IGRlZXBlciBhbmFseXNpcyBvZiB0aGUgbmF0dXJlIG9mIGEgY2hhbmdlLiBBcyBzdWNoLCBpdCBtaWdodCBsZWFkCiAqIHRvIGEgc3RydWN0dXJlIHdoaWNoIHdhcyBub3QgaW50ZW5kZWQgYnkgdGhlIHVzZXIgY2hhbmdlcy4gSW4gcGFydGljdWxhciwgaXQgd2lsbCBhbHNvIGZpeCB1bmRvIHN0ZXBzIChpbiBjb25qdW5jdGlvbiB3aXRoIGNvbGxhYm9yYXRpb24pCiAqIGluIHdoaWNoIGVkaXRvciBjb250ZW50IG1pZ2h0IG5vdCByZXR1cm4gdG8gdGhlIG9yaWdpbmFsIHN0YXRlLgogKgogKiBUaGlzIHdpbGwgdXN1YWxseSBoYXBwZW4gd2hlbiBvbmUgb3IgbW9yZSB1c2VycyBjaGFuZ2VzIHNpemUgb2YgdGhlIHRhYmxlLgogKgogKiBBcyBlbiBleGFtcGxlIHNlZSBhIHRhYmxlIGJlbG93OgogKgogKgkJPHRhYmxlPgogKgkJCTx0Ym9keT4KICoJCQkJPHRyPgogKgkJCQkJPHRkPjExPC90ZD4KICoJCQkJCTx0ZD4xMjwvdGQ+CiAqCQkJCTwvdHI+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZD4yMTwvdGQ+CiAqCQkJCQk8dGQ+MjI8L3RkPgogKgkJCQk8L3RyPgogKgkJCTwvdGJvZHk+CiAqCQk8L3RhYmxlPgogKgogKiBhbmQgdXNlciBhY3Rpb25zOgogKgogKiAxLiBCb3RoIHVzZXIgaGF2ZSB0YWJsZSB3aXRoIHR3byByb3dzIGFuZCB0d28gY29sdW1ucy4KICogMi4gVXNlciBBIGFkZHMgYSBjb2x1bW4gYXQgdGhlIGVuZCBvZiB0aGUgdGFibGUgLSB0aGlzIHdpbGwgaW5zZXJ0IGVtcHR5IHRhYmxlIGNlbGxzIHRvIHR3byByb3dzLgogKiAzLiBVc2VyIEIgYWRkcyBhIHJvdyBhdCB0aGUgZW5kIG9mIHRoZSB0YWJsZS0gdGhpcyB3aWxsIGluc2VydCBhIHJvdyB3aXRoIHR3byBlbXB0eSB0YWJsZSBjZWxscy4KICogNC4gQm90aCB1c2VycyB3aWxsIGhhdmUgYSB0YWJsZSBhcyBiZWxvdzoKICoKICoKICoJCTx0YWJsZT4KICoJCQk8dGJvZHk+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZD4xMTwvdGQ+CiAqCQkJCQk8dGQ+MTI8L3RkPgogKgkJCQkJPHRkPihlbXB0eSwgaW5zZXJ0ZWQgYnkgQSk8L3RkPgogKgkJCQk8L3RyPgogKgkJCQk8dHI+CiAqCQkJCQk8dGQ+MjE8L3RkPgogKgkJCQkJPHRkPjIyPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IEEpPC90ZD4KICoJCQkJPC90cj4KICoJCQkJPHRyPgogKgkJCQkJPHRkPihlbXB0eSwgaW5zZXJ0ZWQgYnkgQik8L3RkPgogKgkJCQkJPHRkPihlbXB0eSwgaW5zZXJ0ZWQgYnkgQik8L3RkPgogKgkJCQk8L3RyPgogKgkJCTwvdGJvZHk+CiAqCQk8L3RhYmxlPgogKgogKiBUaGUgbGFzdCByb3cgaXMgc2hvcnRlciB0aGVuIG90aGVycyBzbyB0YWJsZSBwb3N0LWZpeGVyIHdpbGwgYWRkIGVtcHR5IHJvdyB0byB0aGEgbGFzdCByb3c6CiAqCiAqCQk8dGFibGU+CiAqCQkJPHRib2R5PgogKgkJCQk8dHI+CiAqCQkJCQk8dGQ+MTE8L3RkPgogKgkJCQkJPHRkPjEyPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IEEpPC90ZD4KICoJCQkJPC90cj4KICoJCQkJPHRyPgogKgkJCQkJPHRkPjIxPC90ZD4KICoJCQkJCTx0ZD4yMjwvdGQ+CiAqCQkJCQk8dGQ+KGVtcHR5LCBpbnNlcnRlZCBieSBBKTwvdGQ+CiAqCQkJCTwvdHI+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IEIpPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IEIpPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IGEgcG9zdC1maXhlcik8L3RkPgogKgkJCQk8L3RyPgogKgkJCTwvdGJvZHk+CiAqCQk8L3RhYmxlPgogKgogKiBVbmZvcnR1bmF0ZWx5IHVuZG8gZG9lc24ndCBrbm93IHRoZSBuYXR1cmUgb2YgY2hhbmdlcyBhbmQgZGVwZW5kaW5nIHdoaWNoIHVzZXIgd2lsbCBhcHBseSBwb3N0LWZpeGVyIGNoYW5nZXMgdW5kb2luZyB0aGVtIG1pZ2h0IGxlYWQgdG8KICogYnJva2VuIHRhYmxlLiBJZiBVc2VyIEIgd2lsbCB1bmRvIGluc2VydGluZyBjb2x1bW4gdG8gYSB0YWJsZSB0aGUgdW5kbyBlbmdpbmUgd2lsbCB1bmRvIG9ubHkgb3BlcmF0aW9ucyBvZgogKiBpbnNlcnRpbmcgZW1wdHkgY2VsbHMgdG8gcm93cyBmcm9tIGluaXRpYWwgdGFibGUgc3RhdGUgKHJvdyAxICYgMikgYnV0IHRoZSBjZWxsIGluIHBvc3QtZml4ZWQgcm93IHdpbGwgcmVtYWluOgogKgogKgkJPHRhYmxlPgogKgkJCTx0Ym9keT4KICoJCQkJPHRyPgogKgkJCQkJPHRkPjExPC90ZD4KICoJCQkJCTx0ZD4xMjwvdGQ+CiAqCQkJCTwvdHI+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZD4yMTwvdGQ+CiAqCQkJCQk8dGQ+MjI8L3RkPgogKgkJCQk8L3RyPgogKgkJCQk8dHI+CiAqCQkJCQk8dGQ+KGVtcHR5LCBpbnNlcnRlZCBieSBCKTwvdGQ+CiAqCQkJCQk8dGQ+KGVtcHR5LCBpbnNlcnRlZCBieSBCKTwvdGQ+CiAqCQkJCQk8dGQ+KGVtcHR5LCBpbnNlcnRlZCBieSBhIHBvc3QtZml4ZXIpPC90ZD4KICoJCQkJPC90cj4KICoJCQk8L3Rib2R5PgogKgkJPC90YWJsZT4KICoKICogQWZ0ZXIgdW5kbyB0aGUgdGFibGUgcG9zdC1maXhlciB3aWxsIGRldGVjdCB0aGF0IHR3byByb3dzIGFyZSBzaG9ydGVyIHRoZW4gb3RoZXIgYW5kIHdpbGwgZml4IHRhYmxlIHRvOgogKgogKgkJPHRhYmxlPgogKgkJCTx0Ym9keT4KICoJCQkJPHRyPgogKgkJCQkJPHRkPjExPC90ZD4KICoJCQkJCTx0ZD4xMjwvdGQ+CiAqCQkJCQk8dGQ+KGVtcHR5LCBpbnNlcnRlZCBieSBhIHBvc3QtZml4ZXIgYWZ0ZXIgdW5kbyk8L3RkPgogKgkJCQk8L3RyPgogKgkJCQk8dHI+CiAqCQkJCQk8dGQ+MjE8L3RkPgogKgkJCQkJPHRkPjIyPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IGEgcG9zdC1maXhlciBhZnRlciB1bmRvKTwvdGQ+CiAqCQkJCTwvdHI+CiAqCQkJCTx0cj4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IEIpPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IEIpPC90ZD4KICoJCQkJCTx0ZD4oZW1wdHksIGluc2VydGVkIGJ5IGEgcG9zdC1maXhlcik8L3RkPgogKgkJCQk8L3RyPgogKgkJCTwvdGJvZHk+CiAqCQk8L3RhYmxlPgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWx9IG1vZGVsCiAqLwoKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5qZWN0VGFibGVMYXlvdXRQb3N0Rml4ZXIobW9kZWwpIHsKICBtb2RlbC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcih3cml0ZXIgPT4gdGFibGVMYXlvdXRQb3N0Rml4ZXIod3JpdGVyLCBtb2RlbCkpOwp9IC8vIFRoZSB0YWJsZSBsYXlvdXQgcG9zdC1maXhlci4KLy8KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3dyaXRlcn5Xcml0ZXJ9IHdyaXRlcgovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWx9IG1vZGVsCgpmdW5jdGlvbiB0YWJsZUxheW91dFBvc3RGaXhlcih3cml0ZXIsIG1vZGVsKSB7CiAgY29uc3QgY2hhbmdlcyA9IG1vZGVsLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCk7CiAgbGV0IHdhc0ZpeGVkID0gZmFsc2U7IC8vIERvIG5vdCBhbmFseXplIHRoZSBzYW1lIHRhYmxlIG1vcmUgdGhlbiBvbmNlIC0gbWF5IGhhcHBlbiBmb3IgbXVsdGlwbGUgY2hhbmdlcyBpbiB0aGUgc2FtZSB0YWJsZS4KCiAgY29uc3QgYW5hbHl6ZWRUYWJsZXMgPSBuZXcgU2V0KCk7CgogIGZvciAoY29uc3QgZW50cnkgb2YgY2hhbmdlcykgewogICAgbGV0IHRhYmxlOwoKICAgIGlmIChlbnRyeS5uYW1lID09ICd0YWJsZScgJiYgZW50cnkudHlwZSA9PSAnaW5zZXJ0JykgewogICAgICB0YWJsZSA9IGVudHJ5LnBvc2l0aW9uLm5vZGVBZnRlcjsKICAgIH0gLy8gRml4IHRhYmxlIG9uIGFkZGluZy9yZW1vdmluZyB0YWJsZSBjZWxscyBhbmQgcm93cy4KCgogICAgaWYgKGVudHJ5Lm5hbWUgPT0gJ3RhYmxlUm93JyB8fCBlbnRyeS5uYW1lID09ICd0YWJsZUNlbGwnKSB7CiAgICAgIHRhYmxlID0gZmluZEFuY2VzdG9yKCd0YWJsZScsIGVudHJ5LnBvc2l0aW9uKTsKICAgIH0gLy8gRml4IHRhYmxlIG9uIGFueSB0YWJsZSdzIGF0dHJpYnV0ZSBjaGFuZ2UgLSBpbmNsdWRpbmcgYXR0cmlidXRlcyBvZiB0YWJsZSBjZWxscy4KCgogICAgaWYgKGlzVGFibGVBdHRyaWJ1dGVFbnRyeShlbnRyeSkpIHsKICAgICAgdGFibGUgPSBmaW5kQW5jZXN0b3IoJ3RhYmxlJywgZW50cnkucmFuZ2Uuc3RhcnQpOwogICAgfQoKICAgIGlmICh0YWJsZSAmJiAhYW5hbHl6ZWRUYWJsZXMuaGFzKHRhYmxlKSkgewogICAgICAvLyBTdGVwIDE6IGNvcnJlY3Qgcm93c3BhbnMgb2YgdGFibGUgY2VsbHMgaWYgbmVjZXNzYXJ5LgogICAgICAvLyBUaGUgd2FzRml4ZWQgZmxhZyBzaG91bGQgYmUgdHJ1ZSBpZiBhbnkgb2YgdGFibGVzIGluIGJhdGNoIHdhcyBmaXhlZCAtIG1pZ2h0IGJlIG1vcmUgdGhlbiBvbmUuCiAgICAgIHdhc0ZpeGVkID0gZml4VGFibGVDZWxsc1Jvd3NwYW4odGFibGUsIHdyaXRlcikgfHwgd2FzRml4ZWQ7IC8vIFN0ZXAgMjogZml4IHRhYmxlIHJvd3Mgc2l6ZXMuCgogICAgICB3YXNGaXhlZCA9IGZpeFRhYmxlUm93c1NpemVzKHRhYmxlLCB3cml0ZXIpIHx8IHdhc0ZpeGVkOwogICAgICBhbmFseXplZFRhYmxlcy5hZGQodGFibGUpOwogICAgfQogIH0KCiAgcmV0dXJuIHdhc0ZpeGVkOwp9IC8vIEZpeGVzIHRoZSBpbnZhbGlkIHZhbHVlIG9mIHRoZSByb3dzcGFuIGF0dHJpYnV0ZSBiZWNhdXNlIGEgdGFibGUgY2VsbCBjYW5ub3QgdmVydGljYWxseSBleHRlbmQgYmV5b25kIHRoZSB0YWJsZSBzZWN0aW9uIGl0IGJlbG9uZ3MgdG8uCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9lbGVtZW50fkVsZW1lbnR9IHRhYmxlCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC93cml0ZXJ+V3JpdGVyfSB3cml0ZXIKLy8gQHJldHVybnMge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0YWJsZSB3YXMgZml4ZWQuCgoKZnVuY3Rpb24gZml4VGFibGVDZWxsc1Jvd3NwYW4odGFibGUsIHdyaXRlcikgewogIGxldCB3YXNGaXhlZCA9IGZhbHNlOwogIGNvbnN0IGNlbGxzVG9UcmltID0gZmluZENlbGxzVG9UcmltKHRhYmxlKTsKCiAgaWYgKGNlbGxzVG9UcmltLmxlbmd0aCkgewogICAgd2FzRml4ZWQgPSB0cnVlOwoKICAgIGZvciAoY29uc3QgZGF0YSBvZiBjZWxsc1RvVHJpbSkgewogICAgICB1cGRhdGVOdW1lcmljQXR0cmlidXRlKCdyb3dzcGFuJywgZGF0YS5yb3dzcGFuLCBkYXRhLmNlbGwsIHdyaXRlciwgMSk7CiAgICB9CiAgfQoKICByZXR1cm4gd2FzRml4ZWQ7Cn0gLy8gTWFrZXMgYWxsIHRhYmxlIHJvd3MgaW4gYSB0YWJsZSB0aGUgc2FtZSBzaXplLgovLwovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50fSB0YWJsZQovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvd3JpdGVyfldyaXRlcn0gd3JpdGVyCi8vIEByZXR1cm5zIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGFibGUgd2FzIGZpeGVkLgoKCmZ1bmN0aW9uIGZpeFRhYmxlUm93c1NpemVzKHRhYmxlLCB3cml0ZXIpIHsKICBsZXQgd2FzRml4ZWQgPSBmYWxzZTsKICBjb25zdCByb3dzTGVuZ3RocyA9IGdldFJvd3NMZW5ndGhzKHRhYmxlKTsKICBjb25zdCB0YWJsZVNpemUgPSByb3dzTGVuZ3Roc1swXTsKICBjb25zdCBpc1ZhbGlkID0gT2JqZWN0LnZhbHVlcyhyb3dzTGVuZ3RocykuZXZlcnkobGVuZ3RoID0+IGxlbmd0aCA9PT0gdGFibGVTaXplKTsKCiAgaWYgKCFpc1ZhbGlkKSB7CiAgICBjb25zdCBtYXhDb2x1bW5zID0gT2JqZWN0LnZhbHVlcyhyb3dzTGVuZ3RocykucmVkdWNlKChwcmV2LCBjdXJyZW50KSA9PiBjdXJyZW50ID4gcHJldiA/IGN1cnJlbnQgOiBwcmV2LCAwKTsKCiAgICBmb3IgKGNvbnN0IFtyb3dJbmRleCwgc2l6ZV0gb2YgT2JqZWN0LmVudHJpZXMocm93c0xlbmd0aHMpKSB7CiAgICAgIGNvbnN0IGNvbHVtbnNUb0luc2VydCA9IG1heENvbHVtbnMgLSBzaXplOwoKICAgICAgaWYgKGNvbHVtbnNUb0luc2VydCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sdW1uc1RvSW5zZXJ0OyBpKyspIHsKICAgICAgICAgIGNyZWF0ZUVtcHR5VGFibGVDZWxsKHdyaXRlciwgd3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQodGFibGUuZ2V0Q2hpbGQocm93SW5kZXgpLCAnZW5kJykpOwogICAgICAgIH0KCiAgICAgICAgd2FzRml4ZWQgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gd2FzRml4ZWQ7Cn0gLy8gU2VhcmNoZXMgZm9yIHRoZSB0YWJsZSBjZWxscyB0aGF0IGV4dGVuZHMgYmV5b25kIHRoZSB0YWJsZSBzZWN0aW9uIHRvIHdoaWNoIHRoZXkgYmVsb25nIHRvLiBJdCB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBvYmplY3RzCi8vIHRoYXQgaG9sZHMgdGFibGUgY2VsbHMgdG8gYmUgdHJpbW1lZCBhbmQgY29ycmVjdCB2YWx1ZSBvZiBhIHJvd3NwYW4gYXR0cmlidXRlIHRvIHNldC4KLy8KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL2VsZW1lbnR+RWxlbWVudH0gdGFibGUKLy8gQHJldHVybnMge0FycmF5Ljx7e2NlbGwsIHJvd3NwYW59fT59CgoKZnVuY3Rpb24gZmluZENlbGxzVG9UcmltKHRhYmxlKSB7CiAgY29uc3QgaGVhZGluZ1Jvd3MgPSBwYXJzZUludCh0YWJsZS5nZXRBdHRyaWJ1dGUoJ2hlYWRpbmdSb3dzJykgfHwgMCk7CiAgY29uc3QgbWF4Um93cyA9IHRhYmxlLmNoaWxkQ291bnQ7CiAgY29uc3QgY2VsbHNUb1RyaW0gPSBbXTsKCiAgZm9yIChjb25zdCB7CiAgICByb3csCiAgICByb3dzcGFuLAogICAgY2VsbAogIH0gb2YgbmV3IFRhYmxlV2Fsa2VyKHRhYmxlKSkgewogICAgLy8gU2tpcCBjZWxscyB0aGF0IGRvIG5vdCBleHBhbmQgb3ZlciBpdHMgcm93LgogICAgaWYgKHJvd3NwYW4gPCAyKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIGNvbnN0IGlzSW5IZWFkZXIgPSByb3cgPCBoZWFkaW5nUm93czsgLy8gUm93IGxpbWl0IGlzIGVpdGhlciBlbmQgb2YgaGVhZGVyIHNlY3Rpb24gb3Igd2hvbGUgdGFibGUgYXMgdGFibGUgYm9keSBpcyBhZnRlciB0aGUgaGVhZGVyLgoKICAgIGNvbnN0IHJvd0xpbWl0ID0gaXNJbkhlYWRlciA/IGhlYWRpbmdSb3dzIDogbWF4Um93czsgLy8gSWYgdGFibGUgY2VsbCBleHBhbmRzIG92ZXIgaXRzIGxpbWl0IHJlZHVjZSBpdCBoZWlnaHQgdG8gcHJvcGVyIHZhbHVlLgoKICAgIGlmIChyb3cgKyByb3dzcGFuID4gcm93TGltaXQpIHsKICAgICAgY29uc3QgbmV3Um93c3BhbiA9IHJvd0xpbWl0IC0gcm93OwogICAgICBjZWxsc1RvVHJpbS5wdXNoKHsKICAgICAgICBjZWxsLAogICAgICAgIHJvd3NwYW46IG5ld1Jvd3NwYW4KICAgICAgfSk7CiAgICB9CiAgfQoKICByZXR1cm4gY2VsbHNUb1RyaW07Cn0gLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBsZW5ndGhzIG9mIHJvd3MgYXNzaWduZWQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm93IGluZGV4LgovLwovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50fSB0YWJsZQovLyBAcmV0dXJucyB7T2JqZWN0fQoKCmZ1bmN0aW9uIGdldFJvd3NMZW5ndGhzKHRhYmxlKSB7CiAgY29uc3QgbGVuZ3RocyA9IHt9OwoKICBmb3IgKGNvbnN0IHsKICAgIHJvdwogIH0gb2YgbmV3IFRhYmxlV2Fsa2VyKHRhYmxlLCB7CiAgICBpbmNsdWRlU3Bhbm5lZDogdHJ1ZQogIH0pKSB7CiAgICBpZiAoIWxlbmd0aHNbcm93XSkgewogICAgICBsZW5ndGhzW3Jvd10gPSAwOwogICAgfQoKICAgIGxlbmd0aHNbcm93XSArPSAxOwogIH0KCiAgcmV0dXJuIGxlbmd0aHM7Cn0gLy8gQ2hlY2tzIGlmIHRoZSBkaWZmZXIgZW50cnkgZm9yIGFuIGF0dHJpYnV0ZSBjaGFuZ2UgaXMgb25lIG9mIHRhYmxlJ3MgYXR0cmlidXRlcy4KLy8KLy8gQHBhcmFtIGVudHJ5Ci8vIEByZXR1cm5zIHtCb29sZWFufQoKCmZ1bmN0aW9uIGlzVGFibGVBdHRyaWJ1dGVFbnRyeShlbnRyeSkgewogIGNvbnN0IGlzQXR0cmlidXRlVHlwZSA9IGVudHJ5LnR5cGUgPT09ICdhdHRyaWJ1dGUnOwogIGNvbnN0IGtleSA9IGVudHJ5LmF0dHJpYnV0ZUtleTsKICByZXR1cm4gaXNBdHRyaWJ1dGVUeXBlICYmIChrZXkgPT09ICdoZWFkaW5nUm93cycgfHwga2V5ID09PSAnY29sc3BhbicgfHwga2V5ID09PSAncm93c3BhbicpOwp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-table/src/converters/table-layout-post-fixer.js"],"names":["createEmptyTableCell","findAncestor","updateNumericAttribute","TableWalker","injectTableLayoutPostFixer","model","document","registerPostFixer","writer","tableLayoutPostFixer","changes","differ","getChanges","wasFixed","analyzedTables","Set","entry","table","name","type","position","nodeAfter","isTableAttributeEntry","range","start","has","fixTableCellsRowspan","fixTableRowsSizes","add","cellsToTrim","findCellsToTrim","length","data","rowspan","cell","rowsLengths","getRowsLengths","tableSize","isValid","Object","values","every","maxColumns","reduce","prev","current","rowIndex","size","entries","columnsToInsert","i","createPositionAt","getChild","headingRows","parseInt","getAttribute","maxRows","childCount","row","isInHeader","rowLimit","newRowspan","push","lengths","includeSpanned","isAttributeType","key","attributeKey"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module table/converters/table-layout-post-fixer\n */\n\nimport { createEmptyTableCell, findAncestor, updateNumericAttribute } from './../commands/utils';\nimport TableWalker from './../tablewalker';\n\n/**\n * Injects a table layout post-fixer into the model.\n *\n * The role of the table layout post-fixer is to ensure that the table rows have the correct structure\n * after a {@link module:engine/model/model~Model#change `change()`} block was executed.\n *\n * The correct structure means that:\n *\n * * All table rows have the same size.\n * * None of a table cells that extend vertically beyond their section (either header or body).\n * * A table cell has always at least one element as child.\n *\n * If the table structure is not correct, the post-fixer will automatically correct it in two steps:\n *\n * 1. It will clip table cells that extends beyond it section.\n * 2. It will add empty table cells to those rows which are narrower then the widest table row.\n *\n * ## Clipping overlapping table cells\n *\n * Such situation may occur when pasting a table (or part of a table) to the editor from external sources.\n *\n * For example, see the following table which has the cell (FOO) with the rowspan attribute (2):\n *\n *\t\t<table headingRows=\"1\">\n *\t\t\t<tableRow>\n *\t\t\t\t<tableCell rowspan=\"2\"><paragraph>FOO</paragraph></tableCell>\n *\t\t\t\t<tableCell colspan=\"2\"><paragraph>BAR</paragraph></tableCell>\n *\t\t\t</tableRow>\n *\t\t\t<tableRow>\n *\t\t\t\t<tableCell><paragraph>BAZ</paragraph></tableCell>\n *\t\t\t\t<tableCell><paragraph>XYZ</paragraph></tableCell>\n *\t\t\t</tableRow>\n *\t\t</table>\n *\n * will be rendered in the view as:\n *\n *\t\t<table>\n *\t\t\t<thead>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td rowspan=\"2\">FOO</td>\n *\t\t\t\t\t<td colspan=\"2\">BAR</td>\n *\t\t\t\t</tr>\n *\t\t\t</thead>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>BAZ</td>\n *\t\t\t\t\t<td>XYZ</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n *\n * In the above example the table will be rendered as a table with two rows - one in the header and second one in the body.\n * The table cell (FOO) cannot span over multiple rows as it would expand from the header to the body section.\n * The `rowspan` attribute must be changed to (1). The value (1) is a default value of the `rowspan` attribute\n * so the `rowspan` attribute will be removed from the model.\n *\n * The table cell with BAZ contents will be in the first column of the table.\n *\n * ## Adding missing table cells\n *\n * The table post-fixer will insert empty table cells to equalize table rows sizes (number of columns).\n * The size of a table row is calculated by counting column spans of table cells - both horizontal (from the same row) and\n * vertical (from rows above).\n *\n * In the above example, the table row in the body section of the table is narrower then the row from the header - it has two cells\n * with the default colspan (1). The header row has one cell with colspan (1) and second with colspan (2).\n * The table cell (FOO) does not expand beyond the head section (and as such will be fixed in the first step of this post-fixer).\n * The post-fixer will add a missing table cell to the row in the body section of the table.\n *\n * The table from the above example will be fixed and rendered to the view as below:\n *\n *\t\t<table>\n *\t\t\t<thead>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td rowspan=\"2\">FOO</td>\n *\t\t\t\t\t<td colspan=\"2\">BAR</td>\n *\t\t\t\t</tr>\n *\t\t\t</thead>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>BAZ</td>\n *\t\t\t\t\t<td>XYZ</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n *\n * ## Collaboration & Undo - Expectations vs post-fixer results\n *\n * The table post-fixer only ensures proper structure without deeper analysis of the nature of a change. As such, it might lead\n * to a structure which was not intended by the user changes. In particular, it will also fix undo steps (in conjunction with collaboration)\n * in which editor content might not return to the original state.\n *\n * This will usually happen when one or more users changes size of the table.\n *\n * As en example see a table below:\n *\n *\t\t<table>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>11</td>\n *\t\t\t\t\t<td>12</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>21</td>\n *\t\t\t\t\t<td>22</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n *\n * and user actions:\n *\n * 1. Both user have table with two rows and two columns.\n * 2. User A adds a column at the end of the table - this will insert empty table cells to two rows.\n * 3. User B adds a row at the end of the table- this will insert a row with two empty table cells.\n * 4. Both users will have a table as below:\n *\n *\n *\t\t<table>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>11</td>\n *\t\t\t\t\t<td>12</td>\n *\t\t\t\t\t<td>(empty, inserted by A)</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>21</td>\n *\t\t\t\t\t<td>22</td>\n *\t\t\t\t\t<td>(empty, inserted by A)</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n *\n * The last row is shorter then others so table post-fixer will add empty row to tha last row:\n *\n *\t\t<table>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>11</td>\n *\t\t\t\t\t<td>12</td>\n *\t\t\t\t\t<td>(empty, inserted by A)</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>21</td>\n *\t\t\t\t\t<td>22</td>\n *\t\t\t\t\t<td>(empty, inserted by A)</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by a post-fixer)</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n *\n * Unfortunately undo doesn't know the nature of changes and depending which user will apply post-fixer changes undoing them might lead to\n * broken table. If User B will undo inserting column to a table the undo engine will undo only operations of\n * inserting empty cells to rows from initial table state (row 1 & 2) but the cell in post-fixed row will remain:\n *\n *\t\t<table>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>11</td>\n *\t\t\t\t\t<td>12</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>21</td>\n *\t\t\t\t\t<td>22</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by a post-fixer)</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n *\n * After undo the table post-fixer will detect that two rows are shorter then other and will fix table to:\n *\n *\t\t<table>\n *\t\t\t<tbody>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>11</td>\n *\t\t\t\t\t<td>12</td>\n *\t\t\t\t\t<td>(empty, inserted by a post-fixer after undo)</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>21</td>\n *\t\t\t\t\t<td>22</td>\n *\t\t\t\t\t<td>(empty, inserted by a post-fixer after undo)</td>\n *\t\t\t\t</tr>\n *\t\t\t\t<tr>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by B)</td>\n *\t\t\t\t\t<td>(empty, inserted by a post-fixer)</td>\n *\t\t\t\t</tr>\n *\t\t\t</tbody>\n *\t\t</table>\n * @param {module:engine/model/model~Model} model\n */\nexport default function injectTableLayoutPostFixer( model ) {\n\tmodel.document.registerPostFixer( writer => tableLayoutPostFixer( writer, model ) );\n}\n\n// The table layout post-fixer.\n//\n// @param {module:engine/model/writer~Writer} writer\n// @param {module:engine/model/model~Model} model\nfunction tableLayoutPostFixer( writer, model ) {\n\tconst changes = model.document.differ.getChanges();\n\n\tlet wasFixed = false;\n\n\t// Do not analyze the same table more then once - may happen for multiple changes in the same table.\n\tconst analyzedTables = new Set();\n\n\tfor ( const entry of changes ) {\n\t\tlet table;\n\n\t\tif ( entry.name == 'table' && entry.type == 'insert' ) {\n\t\t\ttable = entry.position.nodeAfter;\n\t\t}\n\n\t\t// Fix table on adding/removing table cells and rows.\n\t\tif ( entry.name == 'tableRow' || entry.name == 'tableCell' ) {\n\t\t\ttable = findAncestor( 'table', entry.position );\n\t\t}\n\n\t\t// Fix table on any table's attribute change - including attributes of table cells.\n\t\tif ( isTableAttributeEntry( entry ) ) {\n\t\t\ttable = findAncestor( 'table', entry.range.start );\n\t\t}\n\n\t\tif ( table && !analyzedTables.has( table ) ) {\n\t\t\t// Step 1: correct rowspans of table cells if necessary.\n\t\t\t// The wasFixed flag should be true if any of tables in batch was fixed - might be more then one.\n\t\t\twasFixed = fixTableCellsRowspan( table, writer ) || wasFixed;\n\t\t\t// Step 2: fix table rows sizes.\n\t\t\twasFixed = fixTableRowsSizes( table, writer ) || wasFixed;\n\n\t\t\tanalyzedTables.add( table );\n\t\t}\n\t}\n\n\treturn wasFixed;\n}\n\n// Fixes the invalid value of the rowspan attribute because a table cell cannot vertically extend beyond the table section it belongs to.\n//\n// @param {module:engine/model/element~Element} table\n// @param {module:engine/model/writer~Writer} writer\n// @returns {Boolean} Returns true if table was fixed.\nfunction fixTableCellsRowspan( table, writer ) {\n\tlet wasFixed = false;\n\n\tconst cellsToTrim = findCellsToTrim( table );\n\n\tif ( cellsToTrim.length ) {\n\t\twasFixed = true;\n\n\t\tfor ( const data of cellsToTrim ) {\n\t\t\tupdateNumericAttribute( 'rowspan', data.rowspan, data.cell, writer, 1 );\n\t\t}\n\t}\n\n\treturn wasFixed;\n}\n\n// Makes all table rows in a table the same size.\n//\n// @param {module:engine/model/element~Element} table\n// @param {module:engine/model/writer~Writer} writer\n// @returns {Boolean} Returns true if table was fixed.\nfunction fixTableRowsSizes( table, writer ) {\n\tlet wasFixed = false;\n\n\tconst rowsLengths = getRowsLengths( table );\n\tconst tableSize = rowsLengths[ 0 ];\n\n\tconst isValid = Object.values( rowsLengths ).every( length => length === tableSize );\n\n\tif ( !isValid ) {\n\t\tconst maxColumns = Object.values( rowsLengths ).reduce( ( prev, current ) => current > prev ? current : prev, 0 );\n\n\t\tfor ( const [ rowIndex, size ] of Object.entries( rowsLengths ) ) {\n\t\t\tconst columnsToInsert = maxColumns - size;\n\n\t\t\tif ( columnsToInsert ) {\n\t\t\t\tfor ( let i = 0; i < columnsToInsert; i++ ) {\n\t\t\t\t\tcreateEmptyTableCell( writer, writer.createPositionAt( table.getChild( rowIndex ), 'end' ) );\n\t\t\t\t}\n\n\t\t\t\twasFixed = true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn wasFixed;\n}\n\n// Searches for the table cells that extends beyond the table section to which they belong to. It will return an array of objects\n// that holds table cells to be trimmed and correct value of a rowspan attribute to set.\n//\n// @param {module:engine/model/element~Element} table\n// @returns {Array.<{{cell, rowspan}}>}\nfunction findCellsToTrim( table ) {\n\tconst headingRows = parseInt( table.getAttribute( 'headingRows' ) || 0 );\n\tconst maxRows = table.childCount;\n\n\tconst cellsToTrim = [];\n\n\tfor ( const { row, rowspan, cell } of new TableWalker( table ) ) {\n\t\t// Skip cells that do not expand over its row.\n\t\tif ( rowspan < 2 ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst isInHeader = row < headingRows;\n\n\t\t// Row limit is either end of header section or whole table as table body is after the header.\n\t\tconst rowLimit = isInHeader ? headingRows : maxRows;\n\n\t\t// If table cell expands over its limit reduce it height to proper value.\n\t\tif ( row + rowspan > rowLimit ) {\n\t\t\tconst newRowspan = rowLimit - row;\n\n\t\t\tcellsToTrim.push( { cell, rowspan: newRowspan } );\n\t\t}\n\t}\n\n\treturn cellsToTrim;\n}\n\n// Returns an object with lengths of rows assigned to the corresponding row index.\n//\n// @param {module:engine/model/element~Element} table\n// @returns {Object}\nfunction getRowsLengths( table ) {\n\tconst lengths = {};\n\n\tfor ( const { row } of new TableWalker( table, { includeSpanned: true } ) ) {\n\t\tif ( !lengths[ row ] ) {\n\t\t\tlengths[ row ] = 0;\n\t\t}\n\n\t\tlengths[ row ] += 1;\n\t}\n\n\treturn lengths;\n}\n\n// Checks if the differ entry for an attribute change is one of table's attributes.\n//\n// @param entry\n// @returns {Boolean}\nfunction isTableAttributeEntry( entry ) {\n\tconst isAttributeType = entry.type === 'attribute';\n\tconst key = entry.attributeKey;\n\n\treturn isAttributeType && ( key === 'headingRows' || key === 'colspan' || key === 'rowspan' );\n}\n"]}]}