{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/documentfragment.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/documentfragment.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnRmcmFnbWVudAogKi8KaW1wb3J0IE5vZGVMaXN0IGZyb20gJy4vbm9kZWxpc3QnOwppbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnOwppbXBvcnQgVGV4dCBmcm9tICcuL3RleHQnOwppbXBvcnQgVGV4dFByb3h5IGZyb20gJy4vdGV4dHByb3h5JzsKaW1wb3J0IGlzSXRlcmFibGUgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvaXNpdGVyYWJsZSc7IC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gY29uc3QgeyBzdHJpbmdpZnlNYXAgfSA9IHJlcXVpcmUoICcuLi9kZXYtdXRpbHMvdXRpbHMnICk7CgovKioKICogRG9jdW1lbnRGcmFnbWVudCByZXByZXNlbnRzIGEgcGFydCBvZiBtb2RlbCB3aGljaCBkb2VzIG5vdCBoYXZlIGEgY29tbW9uIHJvb3QgYnV0IGl0J3MgdG9wLWxldmVsIG5vZGVzCiAqIGNhbiBiZSBzZWVuIGFzIHNpYmxpbmdzLiBJbiBvdGhlciB3b3JkcywgaXQgaXMgYSBkZXRhY2hlZCBwYXJ0IG9mIG1vZGVsIHRyZWUsIHdpdGhvdXQgYSByb290LgogKgogKiBEb2N1bWVudEZyYWdtZW50IGhhcyBvd24ge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbWFya2VyY29sbGVjdGlvbn5NYXJrZXJDb2xsZWN0aW9ufS4gTWFya2VycyBmcm9tIHRoaXMgY29sbGVjdGlvbgogKiB3aWxsIGJlIHNldCB0byB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWwjbWFya2VycyBtb2RlbCBtYXJrZXJzfSBieSBhCiAqIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL3dyaXRlcn5Xcml0ZXIjaW5zZXJ0fSBmdW5jdGlvbi4KICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBEb2N1bWVudEZyYWdtZW50IHsKICAvKioKICAgKiBDcmVhdGVzIGFuIGVtcHR5IGBEb2N1bWVudEZyYWdtZW50YC4KICAgKgogICAqICoqTm90ZToqKiBDb25zdHJ1Y3RvciBvZiB0aGlzIGNsYXNzIHNob3VsZG4ndCBiZSB1c2VkIGRpcmVjdGx5IGluIHRoZSBjb2RlLgogICAqIFVzZSB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvd3JpdGVyfldyaXRlciNjcmVhdGVEb2N1bWVudEZyYWdtZW50fSBtZXRob2QgaW5zdGVhZC4KICAgKgogICAqIEBwcm90ZWN0ZWQKICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlfEl0ZXJhYmxlLjxtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZT59IFtjaGlsZHJlbl0KICAgKiBOb2RlcyB0byBiZSBjb250YWluZWQgaW5zaWRlIHRoZSBgRG9jdW1lbnRGcmFnbWVudGAuCiAgICovCiAgY29uc3RydWN0b3IoY2hpbGRyZW4pIHsKICAgIC8qKgogICAgICogRG9jdW1lbnRGcmFnbWVudCBzdGF0aWMgbWFya2VycyBtYXAuIFRoaXMgaXMgYSBsaXN0IG9mIG5hbWVzIGFuZCB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZSByYW5nZXN9CiAgICAgKiB3aGljaCB3aWxsIGJlIHNldCBhcyBNYXJrZXJzIHRvIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL21vZGVsfk1vZGVsI21hcmtlcnMgbW9kZWwgbWFya2VycyBjb2xsZWN0aW9ufQogICAgICogd2hlbiBEb2N1bWVudEZyYWdtZW50IHdpbGwgYmUgaW5zZXJ0ZWQgdG8gdGhlIGRvY3VtZW50LgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7TWFwPFN0cmluZyxtb2R1bGU6ZW5naW5lL21vZGVsL3JhbmdlflJhbmdlPn0gbW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudGZyYWdtZW50fkRvY3VtZW50RnJhZ21lbnQjbWFya2VycwogICAgICovCiAgICB0aGlzLm1hcmtlcnMgPSBuZXcgTWFwKCk7CiAgICAvKioKICAgICAqIExpc3Qgb2Ygbm9kZXMgY29udGFpbmVkIGluc2lkZSB0aGUgZG9jdW1lbnQgZnJhZ21lbnQuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZWxpc3R+Tm9kZUxpc3R9IG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnRmcmFnbWVudH5Eb2N1bWVudEZyYWdtZW50I19jaGlsZHJlbgogICAgICovCgogICAgdGhpcy5fY2hpbGRyZW4gPSBuZXcgTm9kZUxpc3QoKTsKCiAgICBpZiAoY2hpbGRyZW4pIHsKICAgICAgdGhpcy5faW5zZXJ0Q2hpbGQoMCwgY2hpbGRyZW4pOwogICAgfQogIH0KICAvKioKICAgKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIHRoYXQgaXRlcmF0ZXMgb3ZlciBhbGwgbm9kZXMgY29udGFpbmVkIGluc2lkZSB0aGlzIGRvY3VtZW50IGZyYWdtZW50LgogICAqCiAgICogQHJldHVybnMge0l0ZXJhYmxlLjxtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZT59CiAgICovCgoKICBbU3ltYm9sLml0ZXJhdG9yXSgpIHsKICAgIHJldHVybiB0aGlzLmdldENoaWxkcmVuKCk7CiAgfQogIC8qKgogICAqIE51bWJlciBvZiB0aGlzIGRvY3VtZW50IGZyYWdtZW50J3MgY2hpbGRyZW4uCiAgICoKICAgKiBAcmVhZG9ubHkKICAgKiBAdHlwZSB7TnVtYmVyfQogICAqLwoKCiAgZ2V0IGNoaWxkQ291bnQoKSB7CiAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoOwogIH0KICAvKioKICAgKiBTdW0gb2Yge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlI29mZnNldFNpemUgb2Zmc2V0IHNpemVzfSBvZiBhbGwgb2YgdGhpcyBkb2N1bWVudCBmcmFnbWVudCdzIGNoaWxkcmVuLgogICAqCiAgICogQHJlYWRvbmx5CiAgICogQHR5cGUge051bWJlcn0KICAgKi8KCgogIGdldCBtYXhPZmZzZXQoKSB7CiAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ubWF4T2Zmc2V0OwogIH0KICAvKioKICAgKiBJcyBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIG5vZGVzIGluc2lkZSB0aGlzIGRvY3VtZW50IGZyYWdtZW50LCBgZmFsc2VgIG90aGVyd2lzZS4KICAgKgogICAqIEByZWFkb25seQogICAqIEB0eXBlIHtCb29sZWFufQogICAqLwoKCiAgZ2V0IGlzRW1wdHkoKSB7CiAgICByZXR1cm4gdGhpcy5jaGlsZENvdW50ID09PSAwOwogIH0KICAvKioKICAgKiBBcnRpZmljaWFsIHJvb3Qgb2YgYERvY3VtZW50RnJhZ21lbnRgLiBSZXR1cm5zIGl0c2VsZi4gQWRkZWQgZm9yIGNvbXBhdGliaWxpdHkgcmVhc29ucy4KICAgKgogICAqIEByZWFkb25seQogICAqIEB0eXBlIHttb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50ZnJhZ21lbnR+RG9jdW1lbnRGcmFnbWVudH0KICAgKi8KCgogIGdldCByb290KCkgewogICAgcmV0dXJuIHRoaXM7CiAgfQogIC8qKgogICAqIEFydGlmaWNpYWwgcGFyZW50IG9mIGBEb2N1bWVudEZyYWdtZW50YC4gUmV0dXJucyBgbnVsbGAuIEFkZGVkIGZvciBjb21wYXRpYmlsaXR5IHJlYXNvbnMuCiAgICoKICAgKiBAcmVhZG9ubHkKICAgKiBAdHlwZSB7bnVsbH0KICAgKi8KCgogIGdldCBwYXJlbnQoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgLyoqCiAgICogQ2hlY2tzIHdoZXRoZXIgdGhpcyBvYmplY3QgaXMgb2YgdGhlIGdpdmVuIHR5cGUuCiAgICoKICAgKgkJZG9jRnJhZy5pcyggJ2RvY3VtZW50RnJhZ21lbnQnICk7IC8vIC0+IHRydWUKICAgKgkJZG9jRnJhZy5pcyggJ21vZGVsOmRvY3VtZW50RnJhZ21lbnQnICk7IC8vIC0+IHRydWUKICAgKgogICAqCQlkb2NGcmFnLmlzKCAndmlldzpkb2N1bWVudEZyYWdtZW50JyApOyAvLyAtPiBmYWxzZQogICAqCQlkb2NGcmFnLmlzKCAnZWxlbWVudCcgKTsgLy8gLT4gZmFsc2UKICAgKgkJZG9jRnJhZy5pcyggJ25vZGUnICk7IC8vIC0+IGZhbHNlCiAgICoKICAgKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGUjaXMgQ2hlY2sgdGhlIGVudGlyZSBsaXN0IG9mIG1vZGVsIG9iamVjdHN9IHdoaWNoIGltcGxlbWVudCB0aGUgYGlzKClgIG1ldGhvZC4KICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAgICogQHJldHVybnMge0Jvb2xlYW59CiAgICovCgoKICBpcyh0eXBlKSB7CiAgICByZXR1cm4gdHlwZSA9PSAnZG9jdW1lbnRGcmFnbWVudCcgfHwgdHlwZSA9PSAnbW9kZWw6ZG9jdW1lbnRGcmFnbWVudCc7CiAgfQogIC8qKgogICAqIEdldHMgdGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleC4gUmV0dXJucyBgbnVsbGAgaWYgaW5jb3JyZWN0IGluZGV4IHdhcyBwYXNzZWQuCiAgICoKICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggb2YgY2hpbGQuCiAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlfG51bGx9IENoaWxkIG5vZGUuCiAgICovCgoKICBnZXRDaGlsZChpbmRleCkgewogICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGUoaW5kZXgpOwogIH0KICAvKioKICAgKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIHRoYXQgaXRlcmF0ZXMgb3ZlciBhbGwgb2YgdGhpcyBkb2N1bWVudCBmcmFnbWVudCdzIGNoaWxkcmVuLgogICAqCiAgICogQHJldHVybnMge0l0ZXJhYmxlLjxtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZT59CiAgICovCgoKICBnZXRDaGlsZHJlbigpIHsKICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCk7CiAgfQogIC8qKgogICAqIFJldHVybnMgYW4gaW5kZXggb2YgdGhlIGdpdmVuIGNoaWxkIG5vZGUuIFJldHVybnMgYG51bGxgIGlmIGdpdmVuIG5vZGUgaXMgbm90IGEgY2hpbGQgb2YgdGhpcyBkb2N1bWVudCBmcmFnbWVudC4KICAgKgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGV9IG5vZGUgQ2hpbGQgbm9kZSB0byBsb29rIGZvci4KICAgKiBAcmV0dXJucyB7TnVtYmVyfG51bGx9IENoaWxkIG5vZGUncyBpbmRleC4KICAgKi8KCgogIGdldENoaWxkSW5kZXgobm9kZSkgewogICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVJbmRleChub2RlKTsKICB9CiAgLyoqCiAgICogUmV0dXJucyB0aGUgc3RhcnRpbmcgb2Zmc2V0IG9mIGdpdmVuIGNoaWxkLiBTdGFydGluZyBvZmZzZXQgaXMgZXF1YWwgdG8gdGhlIHN1bSBvZgogICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZSNvZmZzZXRTaXplIG9mZnNldCBzaXplc30gb2YgYWxsIG5vZGUncyBzaWJsaW5ncyB0aGF0IGFyZSBiZWZvcmUgaXQuIFJldHVybnMgYG51bGxgIGlmCiAgICogZ2l2ZW4gbm9kZSBpcyBub3QgYSBjaGlsZCBvZiB0aGlzIGRvY3VtZW50IGZyYWdtZW50LgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZX0gbm9kZSBDaGlsZCBub2RlIHRvIGxvb2sgZm9yLgogICAqIEByZXR1cm5zIHtOdW1iZXJ8bnVsbH0gQ2hpbGQgbm9kZSdzIHN0YXJ0aW5nIG9mZnNldC4KICAgKi8KCgogIGdldENoaWxkU3RhcnRPZmZzZXQobm9kZSkgewogICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVTdGFydE9mZnNldChub2RlKTsKICB9CiAgLyoqCiAgICogUmV0dXJucyBwYXRoIHRvIGEgYERvY3VtZW50RnJhZ21lbnRgLCB3aGljaCBpcyBhbiBlbXB0eSBhcnJheS4gQWRkZWQgZm9yIGNvbXBhdGliaWxpdHkgcmVhc29ucy4KICAgKgogICAqIEByZXR1cm5zIHtBcnJheX0KICAgKi8KCgogIGdldFBhdGgoKSB7CiAgICByZXR1cm4gW107CiAgfQogIC8qKgogICAqIFJldHVybnMgYSBkZXNjZW5kYW50IG5vZGUgYnkgaXRzIHBhdGggcmVsYXRpdmUgdG8gdGhpcyBlbGVtZW50LgogICAqCiAgICoJCS8vIDx0aGlzPmE8Yj5jPC9iPjwvdGhpcz4KICAgKgkJdGhpcy5nZXROb2RlQnlQYXRoKCBbIDAgXSApOyAgICAgLy8gLT4gImEiCiAgICoJCXRoaXMuZ2V0Tm9kZUJ5UGF0aCggWyAxIF0gKTsgICAgIC8vIC0+IDxiPgogICAqCQl0aGlzLmdldE5vZGVCeVBhdGgoIFsgMSwgMCBdICk7ICAvLyAtPiAiYyIKICAgKgogICAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IHJlbGF0aXZlUGF0aCBQYXRoIG9mIHRoZSBub2RlIHRvIGZpbmQsIHJlbGF0aXZlIHRvIHRoaXMgZWxlbWVudC4KICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGV8bW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudGZyYWdtZW50fkRvY3VtZW50RnJhZ21lbnR9CiAgICovCgoKICBnZXROb2RlQnlQYXRoKHJlbGF0aXZlUGF0aCkgewogICAgbGV0IG5vZGUgPSB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtdGhpcwoKICAgIGZvciAoY29uc3QgaW5kZXggb2YgcmVsYXRpdmVQYXRoKSB7CiAgICAgIG5vZGUgPSBub2RlLmdldENoaWxkKG5vZGUub2Zmc2V0VG9JbmRleChpbmRleCkpOwogICAgfQoKICAgIHJldHVybiBub2RlOwogIH0KICAvKioKICAgKiBDb252ZXJ0cyBvZmZzZXQgInBvc2l0aW9uIiB0byBpbmRleCAicG9zaXRpb24iLgogICAqCiAgICogUmV0dXJucyBpbmRleCBvZiBhIG5vZGUgdGhhdCBvY2N1cGllcyBnaXZlbiBvZmZzZXQuIElmIGdpdmVuIG9mZnNldCBpcyB0b28gbG93LCByZXR1cm5zIGAwYC4gSWYgZ2l2ZW4gb2Zmc2V0IGlzCiAgICogdG9vIGhpZ2gsIHJldHVybnMgaW5kZXggYWZ0ZXIgbGFzdCBjaGlsZH0uCiAgICoKICAgKgkJY29uc3QgdGV4dE5vZGUgPSBuZXcgVGV4dCggJ2ZvbycgKTsKICAgKgkJY29uc3QgcEVsZW1lbnQgPSBuZXcgRWxlbWVudCggJ3AnICk7CiAgICoJCWNvbnN0IGRvY0ZyYWcgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCggWyB0ZXh0Tm9kZSwgcEVsZW1lbnQgXSApOwogICAqCQlkb2NGcmFnLm9mZnNldFRvSW5kZXgoIC0xICk7IC8vIFJldHVybnMgMCwgYmVjYXVzZSBvZmZzZXQgaXMgdG9vIGxvdy4KICAgKgkJZG9jRnJhZy5vZmZzZXRUb0luZGV4KCAwICk7IC8vIFJldHVybnMgMCwgYmVjYXVzZSBvZmZzZXQgMCBpcyB0YWtlbiBieSBgdGV4dE5vZGVgIHdoaWNoIGlzIGF0IGluZGV4IDAuCiAgICoJCWRvY0ZyYWcub2Zmc2V0VG9JbmRleCggMSApOyAvLyBSZXR1cm5zIDAsIGJlY2F1c2UgYHRleHROb2RlYCBoYXMgYG9mZnNldFNpemVgIGVxdWFsIHRvIDMsIHNvIGl0IG9jY3VwaWVzIG9mZnNldCAxIHRvby4KICAgKgkJZG9jRnJhZy5vZmZzZXRUb0luZGV4KCAyICk7IC8vIFJldHVybnMgMC4KICAgKgkJZG9jRnJhZy5vZmZzZXRUb0luZGV4KCAzICk7IC8vIFJldHVybnMgMS4KICAgKgkJZG9jRnJhZy5vZmZzZXRUb0luZGV4KCA0ICk7IC8vIFJldHVybnMgMi4gVGhlcmUgYXJlIG5vIG5vZGVzIGF0IG9mZnNldCA0LCBzbyBsYXN0IGF2YWlsYWJsZSBpbmRleCBpcyByZXR1cm5lZC4KICAgKgogICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgT2Zmc2V0IHRvIGxvb2sgZm9yLgogICAqIEByZXR1cm5zIHtOdW1iZXJ9IEluZGV4IG9mIGEgbm9kZSB0aGF0IG9jY3VwaWVzIGdpdmVuIG9mZnNldC4KICAgKi8KCgogIG9mZnNldFRvSW5kZXgob2Zmc2V0KSB7CiAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4ub2Zmc2V0VG9JbmRleChvZmZzZXQpOwogIH0KICAvKioKICAgKiBDb252ZXJ0cyBgRG9jdW1lbnRGcmFnbWVudGAgaW5zdGFuY2UgdG8gcGxhaW4gb2JqZWN0IGFuZCByZXR1cm5zIGl0LgogICAqIFRha2VzIGNhcmUgb2YgY29udmVydGluZyBhbGwgb2YgdGhpcyBkb2N1bWVudCBmcmFnbWVudCdzIGNoaWxkcmVuLgogICAqCiAgICogQHJldHVybnMge09iamVjdH0gYERvY3VtZW50RnJhZ21lbnRgIGluc3RhbmNlIGNvbnZlcnRlZCB0byBwbGFpbiBvYmplY3QuCiAgICovCgoKICB0b0pTT04oKSB7CiAgICBjb25zdCBqc29uID0gW107CgogICAgZm9yIChjb25zdCBub2RlIG9mIHRoaXMuX2NoaWxkcmVuKSB7CiAgICAgIGpzb24ucHVzaChub2RlLnRvSlNPTigpKTsKICAgIH0KCiAgICByZXR1cm4ganNvbjsKICB9CiAgLyoqCiAgICogQ3JlYXRlcyBhIGBEb2N1bWVudEZyYWdtZW50YCBpbnN0YW5jZSBmcm9tIGdpdmVuIHBsYWluIG9iamVjdCAoaS5lLiBwYXJzZWQgSlNPTiBzdHJpbmcpLgogICAqIENvbnZlcnRzIGBEb2N1bWVudEZyYWdtZW50YCBjaGlsZHJlbiB0byBwcm9wZXIgbm9kZXMuCiAgICoKICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiBQbGFpbiBvYmplY3QgdG8gYmUgY29udmVydGVkIHRvIGBEb2N1bWVudEZyYWdtZW50YC4KICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudGZyYWdtZW50fkRvY3VtZW50RnJhZ21lbnR9IGBEb2N1bWVudEZyYWdtZW50YCBpbnN0YW5jZSBjcmVhdGVkIHVzaW5nIGdpdmVuIHBsYWluIG9iamVjdC4KICAgKi8KCgogIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7CiAgICBjb25zdCBjaGlsZHJlbiA9IFtdOwoKICAgIGZvciAoY29uc3QgY2hpbGQgb2YganNvbikgewogICAgICBpZiAoY2hpbGQubmFtZSkgewogICAgICAgIC8vIElmIGNoaWxkIGhhcyBuYW1lIHByb3BlcnR5LCBpdCBpcyBhbiBFbGVtZW50LgogICAgICAgIGNoaWxkcmVuLnB1c2goRWxlbWVudC5mcm9tSlNPTihjaGlsZCkpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIE90aGVyd2lzZSwgaXQgaXMgYSBUZXh0IG5vZGUuCiAgICAgICAgY2hpbGRyZW4ucHVzaChUZXh0LmZyb21KU09OKGNoaWxkKSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbmV3IERvY3VtZW50RnJhZ21lbnQoY2hpbGRyZW4pOwogIH0KICAvKioKICAgKiB7QGxpbmsgI19pbnNlcnRDaGlsZCBJbnNlcnRzfSBvbmUgb3IgbW9yZSBub2RlcyBhdCB0aGUgZW5kIG9mIHRoaXMgZG9jdW1lbnQgZnJhZ21lbnQuCiAgICoKICAgKiBAcHJvdGVjdGVkCiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL2l0ZW1+SXRlbXxJdGVyYWJsZS48bW9kdWxlOmVuZ2luZS9tb2RlbC9pdGVtfkl0ZW0+fSBpdGVtcyBJdGVtcyB0byBiZSBpbnNlcnRlZC4KICAgKi8KCgogIF9hcHBlbmRDaGlsZChpdGVtcykgewogICAgdGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LCBpdGVtcyk7CiAgfQogIC8qKgogICAqIEluc2VydHMgb25lIG9yIG1vcmUgbm9kZXMgYXQgdGhlIGdpdmVuIGluZGV4IGFuZCBzZXRzIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZSNwYXJlbnQgcGFyZW50fSBvZiB0aGVzZSBub2RlcwogICAqIHRvIHRoaXMgZG9jdW1lbnQgZnJhZ21lbnQuCiAgICoKICAgKiBAcHJvdGVjdGVkCiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IEluZGV4IGF0IHdoaWNoIG5vZGVzIHNob3VsZCBiZSBpbnNlcnRlZC4KICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvaXRlbX5JdGVtfEl0ZXJhYmxlLjxtb2R1bGU6ZW5naW5lL21vZGVsL2l0ZW1+SXRlbT59IGl0ZW1zIEl0ZW1zIHRvIGJlIGluc2VydGVkLgogICAqLwoKCiAgX2luc2VydENoaWxkKGluZGV4LCBpdGVtcykgewogICAgY29uc3Qgbm9kZXMgPSBub3JtYWxpemUoaXRlbXMpOwoKICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2RlcykgewogICAgICAvLyBJZiBub2RlIHRoYXQgaXMgYmVpbmcgYWRkZWQgdG8gdGhpcyBlbGVtZW50IGlzIGFscmVhZHkgaW5zaWRlIGFub3RoZXIgZWxlbWVudCwgZmlyc3QgcmVtb3ZlIGl0IGZyb20gdGhlIG9sZCBwYXJlbnQuCiAgICAgIGlmIChub2RlLnBhcmVudCAhPT0gbnVsbCkgewogICAgICAgIG5vZGUuX3JlbW92ZSgpOwogICAgICB9CgogICAgICBub2RlLnBhcmVudCA9IHRoaXM7CiAgICB9CgogICAgdGhpcy5fY2hpbGRyZW4uX2luc2VydE5vZGVzKGluZGV4LCBub2Rlcyk7CiAgfQogIC8qKgogICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgbm9kZXMgc3RhcnRpbmcgYXQgdGhlIGdpdmVuIGluZGV4CiAgICogYW5kIHNldHMge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlI3BhcmVudCBwYXJlbnR9IG9mIHRoZXNlIG5vZGVzIHRvIGBudWxsYC4KICAgKgogICAqIEBwcm90ZWN0ZWQKICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggb2YgdGhlIGZpcnN0IG5vZGUgdG8gcmVtb3ZlLgogICAqIEBwYXJhbSB7TnVtYmVyfSBbaG93TWFueT0xXSBOdW1iZXIgb2Ygbm9kZXMgdG8gcmVtb3ZlLgogICAqIEByZXR1cm5zIHtBcnJheS48bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGU+fSBBcnJheSBjb250YWluaW5nIHJlbW92ZWQgbm9kZXMuCiAgICovCgoKICBfcmVtb3ZlQ2hpbGRyZW4oaW5kZXgsIGhvd01hbnkgPSAxKSB7CiAgICBjb25zdCBub2RlcyA9IHRoaXMuX2NoaWxkcmVuLl9yZW1vdmVOb2RlcyhpbmRleCwgaG93TWFueSk7CgogICAgZm9yIChjb25zdCBub2RlIG9mIG5vZGVzKSB7CiAgICAgIG5vZGUucGFyZW50ID0gbnVsbDsKICAgIH0KCiAgICByZXR1cm4gbm9kZXM7CiAgfSAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIHRvU3RyaW5nKCkgewogIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCXJldHVybiAnZG9jdW1lbnRGcmFnbWVudCc7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyBsb2coKSB7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyAJY29uc29sZS5sb2coICdNb2RlbERvY3VtZW50RnJhZ21lbnQ6ICcgKyB0aGlzICk7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyBwcmludFRyZWUoKSB7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwlsZXQgc3RyaW5nID0gJ01vZGVsRG9jdW1lbnRGcmFnbWVudDogWyc7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwlmb3IgKCBjb25zdCBjaGlsZCBvZiB0aGlzLmdldENoaWxkcmVuKCkgKSB7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwkJc3RyaW5nICs9ICdcbic7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwkJaWYgKCBjaGlsZC5pcyggJ3RleHQnICkgKSB7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwkJCWNvbnN0IHRleHRBdHRycyA9IHN0cmluZ2lmeU1hcCggY2hpbGQuX2F0dHJzICk7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwkJCXN0cmluZyArPSAnXHQnLnJlcGVhdCggMSApOwogIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8JCQlpZiAoIHRleHRBdHRycyAhPT0gJycgKSB7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwkJCQlzdHJpbmcgKz0gYDwkdGV4dCR7IHRleHRBdHRycyB9PmAgKyBjaGlsZC5kYXRhICsgJzwvJHRleHQ+JzsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCQkJfSBlbHNlIHsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCQkJCXN0cmluZyArPSBjaGlsZC5kYXRhOwogIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8JCQl9CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLwkJfSBlbHNlIHsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCQkJc3RyaW5nICs9IGNoaWxkLnByaW50VHJlZSggMSApOwogIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8JCX0KICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCX0KICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCXN0cmluZyArPSAnXG5dJzsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCXJldHVybiBzdHJpbmc7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyBsb2dUcmVlKCkgewogIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gCWNvbnNvbGUubG9nKCB0aGlzLnByaW50VHJlZSgpICk7CiAgLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB9CgoKfSAvLyBDb252ZXJ0cyBzdHJpbmdzIHRvIFRleHQgYW5kIG5vbi1pdGVyYWJsZXMgdG8gYXJyYXlzLgovLwovLyBAcGFyYW0ge1N0cmluZ3xtb2R1bGU6ZW5naW5lL21vZGVsL2l0ZW1+SXRlbXxJdGVyYWJsZS48bW9kdWxlOmVuZ2luZS9tb2RlbC9pdGVtfkl0ZW0+fQovLyBAcmV0dXJucyB7SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0KCmZ1bmN0aW9uIG5vcm1hbGl6ZShub2RlcykgewogIC8vIFNlcGFyYXRlIGNvbmRpdGlvbiBiZWNhdXNlIHN0cmluZyBpcyBpdGVyYWJsZS4KICBpZiAodHlwZW9mIG5vZGVzID09ICdzdHJpbmcnKSB7CiAgICByZXR1cm4gW25ldyBUZXh0KG5vZGVzKV07CiAgfQoKICBpZiAoIWlzSXRlcmFibGUobm9kZXMpKSB7CiAgICBub2RlcyA9IFtub2Rlc107CiAgfSAvLyBBcnJheS5mcm9tIHRvIGVuYWJsZSAubWFwKCkgb24gbm9uLWFycmF5cy4KCgogIHJldHVybiBBcnJheS5mcm9tKG5vZGVzKS5tYXAobm9kZSA9PiB7CiAgICBpZiAodHlwZW9mIG5vZGUgPT0gJ3N0cmluZycpIHsKICAgICAgcmV0dXJuIG5ldyBUZXh0KG5vZGUpOwogICAgfQoKICAgIGlmIChub2RlIGluc3RhbmNlb2YgVGV4dFByb3h5KSB7CiAgICAgIHJldHVybiBuZXcgVGV4dChub2RlLmRhdGEsIG5vZGUuZ2V0QXR0cmlidXRlcygpKTsKICAgIH0KCiAgICByZXR1cm4gbm9kZTsKICB9KTsKfQ=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/documentfragment.js"],"names":["NodeList","Element","Text","TextProxy","isIterable","DocumentFragment","constructor","children","markers","Map","_children","_insertChild","Symbol","iterator","getChildren","childCount","length","maxOffset","isEmpty","root","parent","is","type","getChild","index","getNode","getChildIndex","node","getNodeIndex","getChildStartOffset","getNodeStartOffset","getPath","getNodeByPath","relativePath","offsetToIndex","offset","toJSON","json","push","fromJSON","child","name","_appendChild","items","nodes","normalize","_remove","_insertNodes","_removeChildren","howMany","_removeNodes","Array","from","map","data","getAttributes"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module module:engine/model/documentfragment\n */\n\nimport NodeList from './nodelist';\nimport Element from './element';\nimport Text from './text';\nimport TextProxy from './textproxy';\nimport isIterable from '@ckeditor/ckeditor5-utils/src/isiterable';\n\n// @if CK_DEBUG_ENGINE // const { stringifyMap } = require( '../dev-utils/utils' );\n\n/**\n * DocumentFragment represents a part of model which does not have a common root but it's top-level nodes\n * can be seen as siblings. In other words, it is a detached part of model tree, without a root.\n *\n * DocumentFragment has own {@link module:engine/model/markercollection~MarkerCollection}. Markers from this collection\n * will be set to the {@link module:engine/model/model~Model#markers model markers} by a\n * {@link module:engine/model/writer~Writer#insert} function.\n */\nexport default class DocumentFragment {\n\t/**\n\t * Creates an empty `DocumentFragment`.\n\t *\n\t * **Note:** Constructor of this class shouldn't be used directly in the code.\n\t * Use the {@link module:engine/model/writer~Writer#createDocumentFragment} method instead.\n\t *\n\t * @protected\n\t * @param {module:engine/model/node~Node|Iterable.<module:engine/model/node~Node>} [children]\n\t * Nodes to be contained inside the `DocumentFragment`.\n\t */\n\tconstructor( children ) {\n\t\t/**\n\t\t * DocumentFragment static markers map. This is a list of names and {@link module:engine/model/range~Range ranges}\n\t\t * which will be set as Markers to {@link module:engine/model/model~Model#markers model markers collection}\n\t\t * when DocumentFragment will be inserted to the document.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Map<String,module:engine/model/range~Range>} module:engine/model/documentfragment~DocumentFragment#markers\n\t\t */\n\t\tthis.markers = new Map();\n\n\t\t/**\n\t\t * List of nodes contained inside the document fragment.\n\t\t *\n\t\t * @private\n\t\t * @member {module:engine/model/nodelist~NodeList} module:engine/model/documentfragment~DocumentFragment#_children\n\t\t */\n\t\tthis._children = new NodeList();\n\n\t\tif ( children ) {\n\t\t\tthis._insertChild( 0, children );\n\t\t}\n\t}\n\n\t/**\n\t * Returns an iterator that iterates over all nodes contained inside this document fragment.\n\t *\n\t * @returns {Iterable.<module:engine/model/node~Node>}\n\t */\n\t[ Symbol.iterator ]() {\n\t\treturn this.getChildren();\n\t}\n\n\t/**\n\t * Number of this document fragment's children.\n\t *\n\t * @readonly\n\t * @type {Number}\n\t */\n\tget childCount() {\n\t\treturn this._children.length;\n\t}\n\n\t/**\n\t * Sum of {@link module:engine/model/node~Node#offsetSize offset sizes} of all of this document fragment's children.\n\t *\n\t * @readonly\n\t * @type {Number}\n\t */\n\tget maxOffset() {\n\t\treturn this._children.maxOffset;\n\t}\n\n\t/**\n\t * Is `true` if there are no nodes inside this document fragment, `false` otherwise.\n\t *\n\t * @readonly\n\t * @type {Boolean}\n\t */\n\tget isEmpty() {\n\t\treturn this.childCount === 0;\n\t}\n\n\t/**\n\t * Artificial root of `DocumentFragment`. Returns itself. Added for compatibility reasons.\n\t *\n\t * @readonly\n\t * @type {module:engine/model/documentfragment~DocumentFragment}\n\t */\n\tget root() {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Artificial parent of `DocumentFragment`. Returns `null`. Added for compatibility reasons.\n\t *\n\t * @readonly\n\t * @type {null}\n\t */\n\tget parent() {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Checks whether this object is of the given type.\n\t *\n\t *\t\tdocFrag.is( 'documentFragment' ); // -> true\n\t *\t\tdocFrag.is( 'model:documentFragment' ); // -> true\n\t *\n\t *\t\tdocFrag.is( 'view:documentFragment' ); // -> false\n\t *\t\tdocFrag.is( 'element' ); // -> false\n\t *\t\tdocFrag.is( 'node' ); // -> false\n\t *\n\t * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n\t *\n\t * @param {String} type\n\t * @returns {Boolean}\n\t */\n\tis( type ) {\n\t\treturn type == 'documentFragment' || type == 'model:documentFragment';\n\t}\n\n\t/**\n\t * Gets the child at the given index. Returns `null` if incorrect index was passed.\n\t *\n\t * @param {Number} index Index of child.\n\t * @returns {module:engine/model/node~Node|null} Child node.\n\t */\n\tgetChild( index ) {\n\t\treturn this._children.getNode( index );\n\t}\n\n\t/**\n\t * Returns an iterator that iterates over all of this document fragment's children.\n\t *\n\t * @returns {Iterable.<module:engine/model/node~Node>}\n\t */\n\tgetChildren() {\n\t\treturn this._children[ Symbol.iterator ]();\n\t}\n\n\t/**\n\t * Returns an index of the given child node. Returns `null` if given node is not a child of this document fragment.\n\t *\n\t * @param {module:engine/model/node~Node} node Child node to look for.\n\t * @returns {Number|null} Child node's index.\n\t */\n\tgetChildIndex( node ) {\n\t\treturn this._children.getNodeIndex( node );\n\t}\n\n\t/**\n\t * Returns the starting offset of given child. Starting offset is equal to the sum of\n\t * {@link module:engine/model/node~Node#offsetSize offset sizes} of all node's siblings that are before it. Returns `null` if\n\t * given node is not a child of this document fragment.\n\t *\n\t * @param {module:engine/model/node~Node} node Child node to look for.\n\t * @returns {Number|null} Child node's starting offset.\n\t */\n\tgetChildStartOffset( node ) {\n\t\treturn this._children.getNodeStartOffset( node );\n\t}\n\n\t/**\n\t * Returns path to a `DocumentFragment`, which is an empty array. Added for compatibility reasons.\n\t *\n\t * @returns {Array}\n\t */\n\tgetPath() {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns a descendant node by its path relative to this element.\n\t *\n\t *\t\t// <this>a<b>c</b></this>\n\t *\t\tthis.getNodeByPath( [ 0 ] );     // -> \"a\"\n\t *\t\tthis.getNodeByPath( [ 1 ] );     // -> <b>\n\t *\t\tthis.getNodeByPath( [ 1, 0 ] );  // -> \"c\"\n\t *\n\t * @param {Array.<Number>} relativePath Path of the node to find, relative to this element.\n\t * @returns {module:engine/model/node~Node|module:engine/model/documentfragment~DocumentFragment}\n\t */\n\tgetNodeByPath( relativePath ) {\n\t\tlet node = this; // eslint-disable-line consistent-this\n\n\t\tfor ( const index of relativePath ) {\n\t\t\tnode = node.getChild( node.offsetToIndex( index ) );\n\t\t}\n\n\t\treturn node;\n\t}\n\n\t/**\n\t * Converts offset \"position\" to index \"position\".\n\t *\n\t * Returns index of a node that occupies given offset. If given offset is too low, returns `0`. If given offset is\n\t * too high, returns index after last child}.\n\t *\n\t *\t\tconst textNode = new Text( 'foo' );\n\t *\t\tconst pElement = new Element( 'p' );\n\t *\t\tconst docFrag = new DocumentFragment( [ textNode, pElement ] );\n\t *\t\tdocFrag.offsetToIndex( -1 ); // Returns 0, because offset is too low.\n\t *\t\tdocFrag.offsetToIndex( 0 ); // Returns 0, because offset 0 is taken by `textNode` which is at index 0.\n\t *\t\tdocFrag.offsetToIndex( 1 ); // Returns 0, because `textNode` has `offsetSize` equal to 3, so it occupies offset 1 too.\n\t *\t\tdocFrag.offsetToIndex( 2 ); // Returns 0.\n\t *\t\tdocFrag.offsetToIndex( 3 ); // Returns 1.\n\t *\t\tdocFrag.offsetToIndex( 4 ); // Returns 2. There are no nodes at offset 4, so last available index is returned.\n\t *\n\t * @param {Number} offset Offset to look for.\n\t * @returns {Number} Index of a node that occupies given offset.\n\t */\n\toffsetToIndex( offset ) {\n\t\treturn this._children.offsetToIndex( offset );\n\t}\n\n\t/**\n\t * Converts `DocumentFragment` instance to plain object and returns it.\n\t * Takes care of converting all of this document fragment's children.\n\t *\n\t * @returns {Object} `DocumentFragment` instance converted to plain object.\n\t */\n\ttoJSON() {\n\t\tconst json = [];\n\n\t\tfor ( const node of this._children ) {\n\t\t\tjson.push( node.toJSON() );\n\t\t}\n\n\t\treturn json;\n\t}\n\n\t/**\n\t * Creates a `DocumentFragment` instance from given plain object (i.e. parsed JSON string).\n\t * Converts `DocumentFragment` children to proper nodes.\n\t *\n\t * @param {Object} json Plain object to be converted to `DocumentFragment`.\n\t * @returns {module:engine/model/documentfragment~DocumentFragment} `DocumentFragment` instance created using given plain object.\n\t */\n\tstatic fromJSON( json ) {\n\t\tconst children = [];\n\n\t\tfor ( const child of json ) {\n\t\t\tif ( child.name ) {\n\t\t\t\t// If child has name property, it is an Element.\n\t\t\t\tchildren.push( Element.fromJSON( child ) );\n\t\t\t} else {\n\t\t\t\t// Otherwise, it is a Text node.\n\t\t\t\tchildren.push( Text.fromJSON( child ) );\n\t\t\t}\n\t\t}\n\n\t\treturn new DocumentFragment( children );\n\t}\n\n\t/**\n\t * {@link #_insertChild Inserts} one or more nodes at the end of this document fragment.\n\t *\n\t * @protected\n\t * @param {module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>} items Items to be inserted.\n\t */\n\t_appendChild( items ) {\n\t\tthis._insertChild( this.childCount, items );\n\t}\n\n\t/**\n\t * Inserts one or more nodes at the given index and sets {@link module:engine/model/node~Node#parent parent} of these nodes\n\t * to this document fragment.\n\t *\n\t * @protected\n\t * @param {Number} index Index at which nodes should be inserted.\n\t * @param {module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>} items Items to be inserted.\n\t */\n\t_insertChild( index, items ) {\n\t\tconst nodes = normalize( items );\n\n\t\tfor ( const node of nodes ) {\n\t\t\t// If node that is being added to this element is already inside another element, first remove it from the old parent.\n\t\t\tif ( node.parent !== null ) {\n\t\t\t\tnode._remove();\n\t\t\t}\n\n\t\t\tnode.parent = this;\n\t\t}\n\n\t\tthis._children._insertNodes( index, nodes );\n\t}\n\n\t/**\n\t * Removes one or more nodes starting at the given index\n\t * and sets {@link module:engine/model/node~Node#parent parent} of these nodes to `null`.\n\t *\n\t * @protected\n\t * @param {Number} index Index of the first node to remove.\n\t * @param {Number} [howMany=1] Number of nodes to remove.\n\t * @returns {Array.<module:engine/model/node~Node>} Array containing removed nodes.\n\t */\n\t_removeChildren( index, howMany = 1 ) {\n\t\tconst nodes = this._children._removeNodes( index, howMany );\n\n\t\tfor ( const node of nodes ) {\n\t\t\tnode.parent = null;\n\t\t}\n\n\t\treturn nodes;\n\t}\n\n\t// @if CK_DEBUG_ENGINE // toString() {\n\t// @if CK_DEBUG_ENGINE // \treturn 'documentFragment';\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // log() {\n\t// @if CK_DEBUG_ENGINE // \tconsole.log( 'ModelDocumentFragment: ' + this );\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // printTree() {\n\t// @if CK_DEBUG_ENGINE //\tlet string = 'ModelDocumentFragment: [';\n\n\t// @if CK_DEBUG_ENGINE //\tfor ( const child of this.getChildren() ) {\n\t// @if CK_DEBUG_ENGINE //\t\tstring += '\\n';\n\n\t// @if CK_DEBUG_ENGINE //\t\tif ( child.is( 'text' ) ) {\n\t// @if CK_DEBUG_ENGINE //\t\t\tconst textAttrs = stringifyMap( child._attrs );\n\n\t// @if CK_DEBUG_ENGINE //\t\t\tstring += '\\t'.repeat( 1 );\n\n\t// @if CK_DEBUG_ENGINE //\t\t\tif ( textAttrs !== '' ) {\n\t// @if CK_DEBUG_ENGINE //\t\t\t\tstring += `<$text${ textAttrs }>` + child.data + '</$text>';\n\t// @if CK_DEBUG_ENGINE //\t\t\t} else {\n\t// @if CK_DEBUG_ENGINE //\t\t\t\tstring += child.data;\n\t// @if CK_DEBUG_ENGINE //\t\t\t}\n\t// @if CK_DEBUG_ENGINE //\t\t} else {\n\t// @if CK_DEBUG_ENGINE //\t\t\tstring += child.printTree( 1 );\n\t// @if CK_DEBUG_ENGINE //\t\t}\n\t// @if CK_DEBUG_ENGINE //\t}\n\n\t// @if CK_DEBUG_ENGINE //\tstring += '\\n]';\n\n\t// @if CK_DEBUG_ENGINE //\treturn string;\n\t// @if CK_DEBUG_ENGINE // }\n\n\t// @if CK_DEBUG_ENGINE // logTree() {\n\t// @if CK_DEBUG_ENGINE // \tconsole.log( this.printTree() );\n\t// @if CK_DEBUG_ENGINE // }\n}\n\n// Converts strings to Text and non-iterables to arrays.\n//\n// @param {String|module:engine/model/item~Item|Iterable.<module:engine/model/item~Item>}\n// @returns {Iterable.<module:engine/model/node~Node>}\nfunction normalize( nodes ) {\n\t// Separate condition because string is iterable.\n\tif ( typeof nodes == 'string' ) {\n\t\treturn [ new Text( nodes ) ];\n\t}\n\n\tif ( !isIterable( nodes ) ) {\n\t\tnodes = [ nodes ];\n\t}\n\n\t// Array.from to enable .map() on non-arrays.\n\treturn Array.from( nodes )\n\t\t.map( node => {\n\t\t\tif ( typeof node == 'string' ) {\n\t\t\t\treturn new Text( node );\n\t\t\t}\n\n\t\t\tif ( node instanceof TextProxy ) {\n\t\t\t\treturn new Text( node.data, node.getAttributes() );\n\t\t\t}\n\n\t\t\treturn node;\n\t\t} );\n}\n"]}]}