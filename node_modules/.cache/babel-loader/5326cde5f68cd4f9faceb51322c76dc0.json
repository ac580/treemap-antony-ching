{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/liverange.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/liverange.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS9tb2RlbC9saXZlcmFuZ2UKICovCmltcG9ydCBSYW5nZSBmcm9tICcuL3JhbmdlJzsKaW1wb3J0IEVtaXR0ZXJNaXhpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9lbWl0dGVybWl4aW4nOwppbXBvcnQgbWl4IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL21peCc7Ci8qKgogKiBgTGl2ZVJhbmdlYCBpcyBhIHR5cGUgb2Yge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2UgUmFuZ2V9CiAqIHRoYXQgdXBkYXRlcyBpdHNlbGYgYXMge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnR+RG9jdW1lbnQgZG9jdW1lbnR9CiAqIGlzIGNoYW5nZWQgdGhyb3VnaCBvcGVyYXRpb25zLiBJdCBtYXkgYmUgdXNlZCBhcyBhIGJvb2ttYXJrLgogKgogKiAqKk5vdGU6KiogQmUgdmVyeSBjYXJlZnVsIHdoZW4gZGVhbGluZyB3aXRoIGBMaXZlUmFuZ2VgLiBFYWNoIGBMaXZlUmFuZ2VgIGluc3RhbmNlIGJpbmQgZXZlbnRzIHRoYXQgbWlnaHQKICogaGF2ZSB0byBiZSB1bmJvdW5kLiBVc2Uge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbGl2ZXJhbmdlfkxpdmVSYW5nZSNkZXRhY2ggZGV0YWNofSB3aGVuZXZlciB5b3UgZG9uJ3QgbmVlZCBgTGl2ZVJhbmdlYCBhbnltb3JlLgogKi8KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpdmVSYW5nZSBleHRlbmRzIFJhbmdlIHsKICAvKioKICAgKiBDcmVhdGVzIGEgbGl2ZSByYW5nZS4KICAgKgogICAqIEBzZWUgbW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZQogICAqLwogIGNvbnN0cnVjdG9yKHN0YXJ0LCBlbmQpIHsKICAgIHN1cGVyKHN0YXJ0LCBlbmQpOwogICAgYmluZFdpdGhEb2N1bWVudC5jYWxsKHRoaXMpOwogIH0KICAvKioKICAgKiBVbmJpbmRzIGFsbCBldmVudHMgcHJldmlvdXNseSBib3VuZCBieSBgTGl2ZVJhbmdlYC4gVXNlIGl0IHdoZW5ldmVyIHlvdSBkb24ndCBuZWVkIGBMaXZlUmFuZ2VgIGluc3RhbmNlCiAgICogYW55bW9yZSAoaS5lLiB3aGVuIGxlYXZpbmcgc2NvcGUgaW4gd2hpY2ggaXQgd2FzIGRlY2xhcmVkIG9yIGJlZm9yZSByZS1hc3NpZ25pbmcgdmFyaWFibGUgdGhhdCB3YXMKICAgKiByZWZlcnJpbmcgdG8gaXQpLgogICAqLwoKCiAgZGV0YWNoKCkgewogICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7CiAgfQogIC8qKgogICAqIENoZWNrcyB3aGV0aGVyIHRoaXMgb2JqZWN0IGlzIG9mIHRoZSBnaXZlbi4KICAgKgogICAqCQlsaXZlUmFuZ2UuaXMoICdyYW5nZScgKTsgLy8gLT4gdHJ1ZQogICAqCQlsaXZlUmFuZ2UuaXMoICdtb2RlbDpyYW5nZScgKTsgLy8gLT4gdHJ1ZQogICAqCQlsaXZlUmFuZ2UuaXMoICdsaXZlUmFuZ2UnICk7IC8vIC0+IHRydWUKICAgKgkJbGl2ZVJhbmdlLmlzKCAnbW9kZWw6bGl2ZVJhbmdlJyApOyAvLyAtPiB0cnVlCiAgICoKICAgKgkJbGl2ZVJhbmdlLmlzKCAndmlldzpyYW5nZScgKTsgLy8gLT4gZmFsc2UKICAgKgkJbGl2ZVJhbmdlLmlzKCAnZG9jdW1lbnRTZWxlY3Rpb24nICk7IC8vIC0+IGZhbHNlCiAgICoKICAgKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGUjaXMgQ2hlY2sgdGhlIGVudGlyZSBsaXN0IG9mIG1vZGVsIG9iamVjdHN9IHdoaWNoIGltcGxlbWVudCB0aGUgYGlzKClgIG1ldGhvZC4KICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlCiAgICogQHJldHVybnMge0Jvb2xlYW59CiAgICovCgoKICBpcyh0eXBlKSB7CiAgICByZXR1cm4gdHlwZSA9PSAnbGl2ZVJhbmdlJyB8fCB0eXBlID09ICdtb2RlbDpsaXZlUmFuZ2UnIHx8IHN1cGVyLmlzKHR5cGUpOwogIH0KICAvKioKICAgKiBDcmVhdGVzIGEge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2UgcmFuZ2UgaW5zdGFuY2V9IHRoYXQgaXMgZXF1YWwgdG8gdGhpcyBsaXZlIHJhbmdlLgogICAqCiAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2V9CiAgICovCgoKICB0b1JhbmdlKCkgewogICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgfQogIC8qKgogICAqIENyZWF0ZXMgYSBgTGl2ZVJhbmdlYCBpbnN0YW5jZSB0aGF0IGlzIGVxdWFsIHRvIHRoZSBnaXZlbiByYW5nZS4KICAgKgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZX0gcmFuZ2UKICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9saXZlcmFuZ2V+TGl2ZVJhbmdlfQogICAqLwoKCiAgc3RhdGljIGZyb21SYW5nZShyYW5nZSkgewogICAgcmV0dXJuIG5ldyBMaXZlUmFuZ2UocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7CiAgfQogIC8qKgogICAqIEBzZWUgbW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZS5fY3JlYXRlSW4KICAgKiBAc3RhdGljCiAgICogQHByb3RlY3RlZAogICAqIEBtZXRob2QgbW9kdWxlOmVuZ2luZS9tb2RlbC9saXZlcmFuZ2V+TGl2ZVJhbmdlLl9jcmVhdGVJbgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQKICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9saXZlcmFuZ2V+TGl2ZVJhbmdlfQogICAqLwoKICAvKioKICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2UuX2NyZWF0ZU9uCiAgICogQHN0YXRpYwogICAqIEBwcm90ZWN0ZWQKICAgKiBAbWV0aG9kIG1vZHVsZTplbmdpbmUvbW9kZWwvbGl2ZXJhbmdlfkxpdmVSYW5nZS5fY3JlYXRlT24KICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50CiAgICogQHJldHVybnMge21vZHVsZTplbmdpbmUvbW9kZWwvbGl2ZXJhbmdlfkxpdmVSYW5nZX0KICAgKi8KCiAgLyoqCiAgICogQHNlZSBtb2R1bGU6ZW5naW5lL21vZGVsL3JhbmdlflJhbmdlLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdAogICAqIEBzdGF0aWMKICAgKiBAcHJvdGVjdGVkCiAgICogQG1ldGhvZCBtb2R1bGU6ZW5naW5lL21vZGVsL2xpdmVyYW5nZX5MaXZlUmFuZ2UuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0CiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3Bvc2l0aW9uflBvc2l0aW9ufSBwb3NpdGlvbgogICAqIEBwYXJhbSB7TnVtYmVyfSBzaGlmdAogICAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL21vZGVsL2xpdmVyYW5nZX5MaXZlUmFuZ2V9CiAgICovCgogIC8qKgogICAqIEZpcmVkIHdoZW4gYExpdmVSYW5nZWAgaW5zdGFuY2UgYm91bmRhcmllcyBoYXZlIGNoYW5nZWQgZHVlIHRvIGNoYW5nZXMgaW4gdGhlCiAgICoge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnR+RG9jdW1lbnQgZG9jdW1lbnR9LgogICAqCiAgICogQGV2ZW50IGNoYW5nZTpyYW5nZQogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZX0gb2xkUmFuZ2UgUmFuZ2Ugd2l0aCBzdGFydCBhbmQgZW5kIHBvc2l0aW9uIGVxdWFsIHRvIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb24gb2YgdGhpcyBsaXZlCiAgICogcmFuZ2UgYmVmb3JlIGl0IGdvdCBjaGFuZ2VkLgogICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIE9iamVjdCB3aXRoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNoYW5nZS4KICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvcG9zaXRpb25+UG9zaXRpb258bnVsbH0gZGF0YS5kZWxldGlvblBvc2l0aW9uIFNvdXJjZSBwb3NpdGlvbiBmb3IgcmVtb3ZlIGFuZCBtZXJnZSBjaGFuZ2VzLgogICAqIEF2YWlsYWJsZSBpZiB0aGUgcmFuZ2Ugd2FzIG1vdmVkIHRvIHRoZSBncmF2ZXlhcmQgcm9vdCwgYG51bGxgIG90aGVyd2lzZS4KICAgKi8KCiAgLyoqCiAgICogRmlyZWQgd2hlbiBgTGl2ZVJhbmdlYCBpbnN0YW5jZSBib3VuZGFyaWVzIGhhdmUgbm90IGNoYW5nZWQgYWZ0ZXIgYSBjaGFuZ2UgaW4ge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnR+RG9jdW1lbnQgZG9jdW1lbnR9CiAgICogYnV0IHRoZSBjaGFuZ2UgdG9vayBwbGFjZSBpbnNpZGUgdGhlIHJhbmdlLCBlZmZlY3RpdmVseSBjaGFuZ2luZyBpdHMgY29udGVudC4KICAgKgogICAqIEBldmVudCBjaGFuZ2U6Y29udGVudAogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9yYW5nZX5SYW5nZX0gcmFuZ2UgUmFuZ2Ugd2l0aCBzdGFydCBhbmQgZW5kIHBvc2l0aW9uIGVxdWFsIHRvIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb24gb2YKICAgKiBjaGFuZ2UgcmFuZ2UuCiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgT2JqZWN0IHdpdGggYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2hhbmdlLgogICAqIEBwYXJhbSB7bnVsbH0gZGF0YS5kZWxldGlvblBvc2l0aW9uIER1ZSB0byB0aGUgbmF0dXJlIG9mIHRoaXMgZXZlbnQsIHRoaXMgcHJvcGVydHkgaXMgYWx3YXlzIHNldCB0byBgbnVsbGAuIEl0IGlzIHBhc3NlZAogICAqIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2xpdmVyYW5nZX5MaXZlUmFuZ2UjZXZlbnQ6Y2hhbmdlOnJhbmdlfSBldmVudC4KICAgKi8KCgp9IC8vIEJpbmRzIHRoaXMgYExpdmVSYW5nZWAgdG8gdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50fkRvY3VtZW50IGRvY3VtZW50fQovLyB0aGF0IG93bnMgdGhpcyByYW5nZSdzIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL3JhbmdlflJhbmdlI3Jvb3Qgcm9vdH0uCi8vCi8vIEBwcml2YXRlCgpmdW5jdGlvbiBiaW5kV2l0aERvY3VtZW50KCkgewogIHRoaXMubGlzdGVuVG8odGhpcy5yb290LmRvY3VtZW50Lm1vZGVsLCAnYXBwbHlPcGVyYXRpb24nLCAoZXZlbnQsIGFyZ3MpID0+IHsKICAgIGNvbnN0IG9wZXJhdGlvbiA9IGFyZ3NbMF07CgogICAgaWYgKCFvcGVyYXRpb24uaXNEb2N1bWVudE9wZXJhdGlvbikgewogICAgICByZXR1cm47CiAgICB9CgogICAgdHJhbnNmb3JtLmNhbGwodGhpcywgb3BlcmF0aW9uKTsKICB9LCB7CiAgICBwcmlvcml0eTogJ2xvdycKICB9KTsKfSAvLyBVcGRhdGVzIHRoaXMgcmFuZ2UgYWNjb3JkaW5nbHkgdG8gdGhlIHVwZGF0ZXMgYXBwbGllZCB0byB0aGUgbW9kZWwuIEJhc2VzIG9uIGNoYW5nZSBldmVudHMuCi8vCi8vIEBwcml2YXRlCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9vcGVyYXRpb24vb3BlcmF0aW9ufk9wZXJhdGlvbn0gb3BlcmF0aW9uIEV4ZWN1dGVkIG9wZXJhdGlvbi4KCgpmdW5jdGlvbiB0cmFuc2Zvcm0ob3BlcmF0aW9uKSB7CiAgLy8gVHJhbnNmb3JtIHRoZSByYW5nZSBieSB0aGUgb3BlcmF0aW9uLiBKb2luIHRoZSByZXN1bHQgcmFuZ2VzIGlmIG5lZWRlZC4KICBjb25zdCByYW5nZXMgPSB0aGlzLmdldFRyYW5zZm9ybWVkQnlPcGVyYXRpb24ob3BlcmF0aW9uKTsKCiAgY29uc3QgcmVzdWx0ID0gUmFuZ2UuX2NyZWF0ZUZyb21SYW5nZXMocmFuZ2VzKTsKCiAgY29uc3QgYm91bmRhcmllc0NoYW5nZWQgPSAhcmVzdWx0LmlzRXF1YWwodGhpcyk7CiAgY29uc3QgY29udGVudENoYW5nZWQgPSBkb2VzT3BlcmF0aW9uQ2hhbmdlUmFuZ2VDb250ZW50KHRoaXMsIG9wZXJhdGlvbik7CiAgbGV0IGRlbGV0aW9uUG9zaXRpb24gPSBudWxsOwoKICBpZiAoYm91bmRhcmllc0NoYW5nZWQpIHsKICAgIC8vIElmIHJhbmdlIGJvdW5kYXJpZXMgaGF2ZSBjaGFuZ2VkLCBmaXJlIGBjaGFuZ2U6cmFuZ2VgIGV2ZW50LgogICAgLy8KICAgIGlmIChyZXN1bHQucm9vdC5yb290TmFtZSA9PSAnJGdyYXZleWFyZCcpIHsKICAgICAgLy8gSWYgdGhlIHJhbmdlIHdhcyBtb3ZlZCB0byB0aGUgZ3JhdmV5YXJkIHJvb3QsIHNldCBgZGVsZXRpb25Qb3NpdGlvbmAuCiAgICAgIGlmIChvcGVyYXRpb24udHlwZSA9PSAncmVtb3ZlJykgewogICAgICAgIGRlbGV0aW9uUG9zaXRpb24gPSBvcGVyYXRpb24uc291cmNlUG9zaXRpb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gTWVyZ2Ugb3BlcmF0aW9uLgogICAgICAgIGRlbGV0aW9uUG9zaXRpb24gPSBvcGVyYXRpb24uZGVsZXRpb25Qb3NpdGlvbjsKICAgICAgfQogICAgfQoKICAgIGNvbnN0IG9sZFJhbmdlID0gdGhpcy50b1JhbmdlKCk7CiAgICB0aGlzLnN0YXJ0ID0gcmVzdWx0LnN0YXJ0OwogICAgdGhpcy5lbmQgPSByZXN1bHQuZW5kOwogICAgdGhpcy5maXJlKCdjaGFuZ2U6cmFuZ2UnLCBvbGRSYW5nZSwgewogICAgICBkZWxldGlvblBvc2l0aW9uCiAgICB9KTsKICB9IGVsc2UgaWYgKGNvbnRlbnRDaGFuZ2VkKSB7CiAgICAvLyBJZiByYW5nZSBib3VuZGFyaWVzIGhhdmUgbm90IGNoYW5nZWQsIGJ1dCB0aGVyZSB3YXMgY2hhbmdlIGluc2lkZSB0aGUgcmFuZ2UsIGZpcmUgYGNoYW5nZTpjb250ZW50YCBldmVudC4KICAgIHRoaXMuZmlyZSgnY2hhbmdlOmNvbnRlbnQnLCB0aGlzLnRvUmFuZ2UoKSwgewogICAgICBkZWxldGlvblBvc2l0aW9uCiAgICB9KTsKICB9Cn0gLy8gQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gb3BlcmF0aW9uIGNoYW5nZXMgc29tZXRoaW5nIGluc2lkZSB0aGUgcmFuZ2UgKGV2ZW4gaWYgaXQgZG9lcyBub3QgY2hhbmdlIGJvdW5kYXJpZXMpLgovLwovLyBAcHJpdmF0ZQovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvcmFuZ2V+UmFuZ2V9IHJhbmdlIFJhbmdlIHRvIGNoZWNrLgovLyBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvb3BlcmF0aW9uL29wZXJhdGlvbn5PcGVyYXRpb259IG9wZXJhdGlvbiBFeGVjdXRlZCBvcGVyYXRpb24uCi8vIEByZXR1cm5zIHtCb29sZWFufQoKCmZ1bmN0aW9uIGRvZXNPcGVyYXRpb25DaGFuZ2VSYW5nZUNvbnRlbnQocmFuZ2UsIG9wZXJhdGlvbikgewogIHN3aXRjaCAob3BlcmF0aW9uLnR5cGUpIHsKICAgIGNhc2UgJ2luc2VydCc6CiAgICAgIHJldHVybiByYW5nZS5jb250YWluc1Bvc2l0aW9uKG9wZXJhdGlvbi5wb3NpdGlvbik7CgogICAgY2FzZSAnbW92ZSc6CiAgICBjYXNlICdyZW1vdmUnOgogICAgY2FzZSAncmVpbnNlcnQnOgogICAgY2FzZSAnbWVyZ2UnOgogICAgICByZXR1cm4gcmFuZ2UuY29udGFpbnNQb3NpdGlvbihvcGVyYXRpb24uc291cmNlUG9zaXRpb24pIHx8IHJhbmdlLnN0YXJ0LmlzRXF1YWwob3BlcmF0aW9uLnNvdXJjZVBvc2l0aW9uKSB8fCByYW5nZS5jb250YWluc1Bvc2l0aW9uKG9wZXJhdGlvbi50YXJnZXRQb3NpdGlvbik7CgogICAgY2FzZSAnc3BsaXQnOgogICAgICByZXR1cm4gcmFuZ2UuY29udGFpbnNQb3NpdGlvbihvcGVyYXRpb24uc3BsaXRQb3NpdGlvbikgfHwgcmFuZ2UuY29udGFpbnNQb3NpdGlvbihvcGVyYXRpb24uaW5zZXJ0aW9uUG9zaXRpb24pOwogIH0KCiAgcmV0dXJuIGZhbHNlOwp9CgptaXgoTGl2ZVJhbmdlLCBFbWl0dGVyTWl4aW4pOw=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/liverange.js"],"names":["Range","EmitterMixin","mix","LiveRange","constructor","start","end","bindWithDocument","call","detach","stopListening","is","type","toRange","fromRange","range","listenTo","root","document","model","event","args","operation","isDocumentOperation","transform","priority","ranges","getTransformedByOperation","result","_createFromRanges","boundariesChanged","isEqual","contentChanged","doesOperationChangeRangeContent","deletionPosition","rootName","sourcePosition","oldRange","fire","containsPosition","position","targetPosition","splitPosition","insertionPosition"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/liverange\n */\n\nimport Range from './range';\nimport EmitterMixin from '@ckeditor/ckeditor5-utils/src/emittermixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\n\n/**\n * `LiveRange` is a type of {@link module:engine/model/range~Range Range}\n * that updates itself as {@link module:engine/model/document~Document document}\n * is changed through operations. It may be used as a bookmark.\n *\n * **Note:** Be very careful when dealing with `LiveRange`. Each `LiveRange` instance bind events that might\n * have to be unbound. Use {@link module:engine/model/liverange~LiveRange#detach detach} whenever you don't need `LiveRange` anymore.\n */\nexport default class LiveRange extends Range {\n\t/**\n\t * Creates a live range.\n\t *\n\t * @see module:engine/model/range~Range\n\t */\n\tconstructor( start, end ) {\n\t\tsuper( start, end );\n\n\t\tbindWithDocument.call( this );\n\t}\n\n\t/**\n\t * Unbinds all events previously bound by `LiveRange`. Use it whenever you don't need `LiveRange` instance\n\t * anymore (i.e. when leaving scope in which it was declared or before re-assigning variable that was\n\t * referring to it).\n\t */\n\tdetach() {\n\t\tthis.stopListening();\n\t}\n\n\t/**\n\t * Checks whether this object is of the given.\n\t *\n\t *\t\tliveRange.is( 'range' ); // -> true\n\t *\t\tliveRange.is( 'model:range' ); // -> true\n\t *\t\tliveRange.is( 'liveRange' ); // -> true\n\t *\t\tliveRange.is( 'model:liveRange' ); // -> true\n\t *\n\t *\t\tliveRange.is( 'view:range' ); // -> false\n\t *\t\tliveRange.is( 'documentSelection' ); // -> false\n\t *\n\t * {@link module:engine/model/node~Node#is Check the entire list of model objects} which implement the `is()` method.\n\t *\n\t * @param {String} type\n\t * @returns {Boolean}\n\t */\n\tis( type ) {\n\t\treturn type == 'liveRange' || type == 'model:liveRange' || super.is( type );\n\t}\n\n\t/**\n\t * Creates a {@link module:engine/model/range~Range range instance} that is equal to this live range.\n\t *\n\t * @returns {module:engine/model/range~Range}\n\t */\n\ttoRange() {\n\t\treturn new Range( this.start, this.end );\n\t}\n\n\t/**\n\t * Creates a `LiveRange` instance that is equal to the given range.\n\t *\n\t * @param {module:engine/model/range~Range} range\n\t * @returns {module:engine/model/liverange~LiveRange}\n\t */\n\tstatic fromRange( range ) {\n\t\treturn new LiveRange( range.start, range.end );\n\t}\n\n\t/**\n\t * @see module:engine/model/range~Range._createIn\n\t * @static\n\t * @protected\n\t * @method module:engine/model/liverange~LiveRange._createIn\n\t * @param {module:engine/model/element~Element} element\n\t * @returns {module:engine/model/liverange~LiveRange}\n\t */\n\n\t/**\n\t * @see module:engine/model/range~Range._createOn\n\t * @static\n\t * @protected\n\t * @method module:engine/model/liverange~LiveRange._createOn\n\t * @param {module:engine/model/element~Element} element\n\t * @returns {module:engine/model/liverange~LiveRange}\n\t */\n\n\t/**\n\t * @see module:engine/model/range~Range._createFromPositionAndShift\n\t * @static\n\t * @protected\n\t * @method module:engine/model/liverange~LiveRange._createFromPositionAndShift\n\t * @param {module:engine/model/position~Position} position\n\t * @param {Number} shift\n\t * @returns {module:engine/model/liverange~LiveRange}\n\t */\n\n\t/**\n\t * Fired when `LiveRange` instance boundaries have changed due to changes in the\n\t * {@link module:engine/model/document~Document document}.\n\t *\n\t * @event change:range\n\t * @param {module:engine/model/range~Range} oldRange Range with start and end position equal to start and end position of this live\n\t * range before it got changed.\n\t * @param {Object} data Object with additional information about the change.\n\t * @param {module:engine/model/position~Position|null} data.deletionPosition Source position for remove and merge changes.\n\t * Available if the range was moved to the graveyard root, `null` otherwise.\n\t */\n\n\t/**\n\t * Fired when `LiveRange` instance boundaries have not changed after a change in {@link module:engine/model/document~Document document}\n\t * but the change took place inside the range, effectively changing its content.\n\t *\n\t * @event change:content\n\t * @param {module:engine/model/range~Range} range Range with start and end position equal to start and end position of\n\t * change range.\n\t * @param {Object} data Object with additional information about the change.\n\t * @param {null} data.deletionPosition Due to the nature of this event, this property is always set to `null`. It is passed\n\t * for compatibility with the {@link module:engine/model/liverange~LiveRange#event:change:range} event.\n\t */\n}\n\n// Binds this `LiveRange` to the {@link module:engine/model/document~Document document}\n// that owns this range's {@link module:engine/model/range~Range#root root}.\n//\n// @private\nfunction bindWithDocument() {\n\tthis.listenTo(\n\t\tthis.root.document.model,\n\t\t'applyOperation',\n\t\t( event, args ) => {\n\t\t\tconst operation = args[ 0 ];\n\n\t\t\tif ( !operation.isDocumentOperation ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttransform.call( this, operation );\n\t\t},\n\t\t{ priority: 'low' }\n\t);\n}\n\n// Updates this range accordingly to the updates applied to the model. Bases on change events.\n//\n// @private\n// @param {module:engine/model/operation/operation~Operation} operation Executed operation.\nfunction transform( operation ) {\n\t// Transform the range by the operation. Join the result ranges if needed.\n\tconst ranges = this.getTransformedByOperation( operation );\n\tconst result = Range._createFromRanges( ranges );\n\n\tconst boundariesChanged = !result.isEqual( this );\n\tconst contentChanged = doesOperationChangeRangeContent( this, operation );\n\n\tlet deletionPosition = null;\n\n\tif ( boundariesChanged ) {\n\t\t// If range boundaries have changed, fire `change:range` event.\n\t\t//\n\t\tif ( result.root.rootName == '$graveyard' ) {\n\t\t\t// If the range was moved to the graveyard root, set `deletionPosition`.\n\t\t\tif ( operation.type == 'remove' ) {\n\t\t\t\tdeletionPosition = operation.sourcePosition;\n\t\t\t} else {\n\t\t\t\t// Merge operation.\n\t\t\t\tdeletionPosition = operation.deletionPosition;\n\t\t\t}\n\t\t}\n\n\t\tconst oldRange = this.toRange();\n\n\t\tthis.start = result.start;\n\t\tthis.end = result.end;\n\n\t\tthis.fire( 'change:range', oldRange, { deletionPosition } );\n\t} else if ( contentChanged ) {\n\t\t// If range boundaries have not changed, but there was change inside the range, fire `change:content` event.\n\t\tthis.fire( 'change:content', this.toRange(), { deletionPosition } );\n\t}\n}\n\n// Checks whether given operation changes something inside the range (even if it does not change boundaries).\n//\n// @private\n// @param {module:engine/model/range~Range} range Range to check.\n// @param {module:engine/model/operation/operation~Operation} operation Executed operation.\n// @returns {Boolean}\nfunction doesOperationChangeRangeContent( range, operation ) {\n\tswitch ( operation.type ) {\n\t\tcase 'insert':\n\t\t\treturn range.containsPosition( operation.position );\n\t\tcase 'move':\n\t\tcase 'remove':\n\t\tcase 'reinsert':\n\t\tcase 'merge':\n\t\t\treturn range.containsPosition( operation.sourcePosition ) ||\n\t\t\t\trange.start.isEqual( operation.sourcePosition ) ||\n\t\t\t\trange.containsPosition( operation.targetPosition );\n\t\tcase 'split':\n\t\t\treturn range.containsPosition( operation.splitPosition ) || range.containsPosition( operation.insertionPosition );\n\t}\n\n\treturn false;\n}\n\nmix( LiveRange, EmitterMixin );\n"]}]}