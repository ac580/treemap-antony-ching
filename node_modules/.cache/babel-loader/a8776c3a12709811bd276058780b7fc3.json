{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/imageresize.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/imageresize.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGltYWdlL2ltYWdlcmVzaXplCiAqLwppbXBvcnQgUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvcGx1Z2luJzsKaW1wb3J0IFdpZGdldFJlc2l6ZSBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXdpZGdldC9zcmMvd2lkZ2V0cmVzaXplJzsKaW1wb3J0IEltYWdlUmVzaXplQ29tbWFuZCBmcm9tICcuL2ltYWdlcmVzaXplL2ltYWdlcmVzaXplY29tbWFuZCc7CmltcG9ydCAnLi4vdGhlbWUvaW1hZ2VyZXNpemUuY3NzJzsKLyoqCiAqIFRoZSBpbWFnZSByZXNpemUgcGx1Z2luLgogKgogKiBJdCBhZGRzIGEgcG9zc2liaWxpdHkgdG8gcmVzaXplIGVhY2ggaW1hZ2UgdXNpbmcgaGFuZGxlcy4KICoKICogQGV4dGVuZHMgbW9kdWxlOmNvcmUvcGx1Z2luflBsdWdpbgogKi8KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlUmVzaXplIGV4dGVuZHMgUGx1Z2luIHsKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogIHN0YXRpYyBnZXQgcmVxdWlyZXMoKSB7CiAgICByZXR1cm4gW1dpZGdldFJlc2l6ZV07CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKSB7CiAgICByZXR1cm4gJ0ltYWdlUmVzaXplJzsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIGluaXQoKSB7CiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgIGNvbnN0IGNvbW1hbmQgPSBuZXcgSW1hZ2VSZXNpemVDb21tYW5kKGVkaXRvcik7CgogICAgdGhpcy5fcmVnaXN0ZXJTY2hlbWEoKTsKCiAgICB0aGlzLl9yZWdpc3RlckNvbnZlcnRlcnMoKTsKCiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdpbWFnZVJlc2l6ZScsIGNvbW1hbmQpOwogICAgZWRpdG9yLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyLm9uKCdpbnNlcnQ6aW1hZ2UnLCAoZXZ0LCBkYXRhLCBjb252ZXJzaW9uQXBpKSA9PiB7CiAgICAgIGNvbnN0IHdpZGdldCA9IGNvbnZlcnNpb25BcGkubWFwcGVyLnRvVmlld0VsZW1lbnQoZGF0YS5pdGVtKTsKICAgICAgY29uc3QgcmVzaXplciA9IGVkaXRvci5wbHVnaW5zLmdldChXaWRnZXRSZXNpemUpLmF0dGFjaFRvKHsKICAgICAgICB1bml0OiBlZGl0b3IuY29uZmlnLmdldCgnaW1hZ2UucmVzaXplVW5pdCcpIHx8ICclJywKICAgICAgICBtb2RlbEVsZW1lbnQ6IGRhdGEuaXRlbSwKICAgICAgICB2aWV3RWxlbWVudDogd2lkZ2V0LAogICAgICAgIGRvd25jYXN0V3JpdGVyOiBjb252ZXJzaW9uQXBpLndyaXRlciwKCiAgICAgICAgZ2V0SGFuZGxlSG9zdChkb21XaWRnZXRFbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gZG9tV2lkZ2V0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpbWcnKTsKICAgICAgICB9LAoKICAgICAgICBnZXRSZXNpemVIb3N0KGRvbVdpZGdldEVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBkb21XaWRnZXRFbGVtZW50OwogICAgICAgIH0sCgogICAgICAgIC8vIFRPRE8gY29uc2lkZXIgb3RoZXIgcG9zaXRpb25zLgogICAgICAgIGlzQ2VudGVyZWQoKSB7CiAgICAgICAgICBjb25zdCBpbWFnZVN0eWxlID0gZGF0YS5pdGVtLmdldEF0dHJpYnV0ZSgnaW1hZ2VTdHlsZScpOwogICAgICAgICAgcmV0dXJuICFpbWFnZVN0eWxlIHx8IGltYWdlU3R5bGUgPT0gJ2Z1bGwnIHx8IGltYWdlU3R5bGUgPT0gJ2FsaWduQ2VudGVyJzsKICAgICAgICB9LAoKICAgICAgICBvbkNvbW1pdChuZXdWYWx1ZSkgewogICAgICAgICAgZWRpdG9yLmV4ZWN1dGUoJ2ltYWdlUmVzaXplJywgewogICAgICAgICAgICB3aWR0aDogbmV3VmFsdWUKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIH0pOwogICAgICByZXNpemVyLm9uKCd1cGRhdGVTaXplJywgKCkgPT4gewogICAgICAgIGlmICghd2lkZ2V0Lmhhc0NsYXNzKCdpbWFnZV9yZXNpemVkJykpIHsKICAgICAgICAgIGVkaXRvci5lZGl0aW5nLnZpZXcuY2hhbmdlKHdyaXRlciA9PiB7CiAgICAgICAgICAgIHdyaXRlci5hZGRDbGFzcygnaW1hZ2VfcmVzaXplZCcsIHdpZGdldCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXNpemVyLmJpbmQoJ2lzRW5hYmxlZCcpLnRvKGNvbW1hbmQpOwogICAgfSwgewogICAgICBwcmlvcml0eTogJ2xvdycKICAgIH0pOwogIH0KICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwoKCiAgX3JlZ2lzdGVyU2NoZW1hKCkgewogICAgdGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLmV4dGVuZCgnaW1hZ2UnLCB7CiAgICAgIGFsbG93QXR0cmlidXRlczogJ3dpZHRoJwogICAgfSk7CiAgfQogIC8qKgogICAqIFJlZ2lzdGVycyBpbWFnZSByZXNpemUgY29udmVydGVycy4KICAgKgogICAqIEBwcml2YXRlCiAgICovCgoKICBfcmVnaXN0ZXJDb252ZXJ0ZXJzKCkgewogICAgY29uc3QgZWRpdG9yID0gdGhpcy5lZGl0b3I7IC8vIERlZGljYXRlZCBjb252ZXJ0ZXIgdG8gcHJvcGFnYXRlIGltYWdlJ3MgYXR0cmlidXRlIHRvIHRoZSBpbWcgdGFnLgoKICAgIGVkaXRvci5jb252ZXJzaW9uLmZvcignZG93bmNhc3QnKS5hZGQoZGlzcGF0Y2hlciA9PiBkaXNwYXRjaGVyLm9uKCdhdHRyaWJ1dGU6d2lkdGg6aW1hZ2UnLCAoZXZ0LCBkYXRhLCBjb252ZXJzaW9uQXBpKSA9PiB7CiAgICAgIGlmICghY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLmNvbnN1bWUoZGF0YS5pdGVtLCBldnQubmFtZSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHZpZXdXcml0ZXIgPSBjb252ZXJzaW9uQXBpLndyaXRlcjsKICAgICAgY29uc3QgZmlndXJlID0gY29udmVyc2lvbkFwaS5tYXBwZXIudG9WaWV3RWxlbWVudChkYXRhLml0ZW0pOwoKICAgICAgaWYgKGRhdGEuYXR0cmlidXRlTmV3VmFsdWUgIT09IG51bGwpIHsKICAgICAgICB2aWV3V3JpdGVyLnNldFN0eWxlKCd3aWR0aCcsIGRhdGEuYXR0cmlidXRlTmV3VmFsdWUsIGZpZ3VyZSk7CiAgICAgICAgdmlld1dyaXRlci5hZGRDbGFzcygnaW1hZ2VfcmVzaXplZCcsIGZpZ3VyZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmlld1dyaXRlci5yZW1vdmVTdHlsZSgnd2lkdGgnLCBmaWd1cmUpOwogICAgICAgIHZpZXdXcml0ZXIucmVtb3ZlQ2xhc3MoJ2ltYWdlX3Jlc2l6ZWQnLCBmaWd1cmUpOwogICAgICB9CiAgICB9KSk7CiAgICBlZGl0b3IuY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHsKICAgICAgdmlldzogewogICAgICAgIG5hbWU6ICdmaWd1cmUnLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgd2lkdGg6IC8uKy8KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1vZGVsOiB7CiAgICAgICAga2V5OiAnd2lkdGgnLAogICAgICAgIHZhbHVlOiB2aWV3RWxlbWVudCA9PiB2aWV3RWxlbWVudC5nZXRTdHlsZSgnd2lkdGgnKQogICAgICB9CiAgICB9KTsKICB9Cgp9Ci8qKgogKiBUaGUgYXZhaWxhYmxlIG9wdGlvbnMgYXJlIGAncHgnYCBvciBgJyUnYC4KICoKICogRGV0ZXJtaW5lcyB0aGUgc2l6ZSB1bml0IGFwcGxpZWQgdG8gdGhlIHJlc2l6ZWQgaW1hZ2UuCiAqCiAqCQlDbGFzc2ljRWRpdG9yCiAqCQkJLmNyZWF0ZSggZWRpdG9yRWxlbWVudCwgewogKgkJCQlpbWFnZTogewogKgkJCQkJcmVzaXplVW5pdDogJ3B4JwogKgkJCQl9CiAqCQkJfSApCiAqCQkJLnRoZW4oIC4uLiApCiAqCQkJLmNhdGNoKCAuLi4gKTsKICoKICoKICogVGhpcyBvcHRpb24gaXMgdXNlZCBieSB0aGUge0BsaW5rIG1vZHVsZTppbWFnZS9pbWFnZXJlc2l6ZX5JbWFnZVJlc2l6ZX0gZmVhdHVyZS4KICoKICogQGRlZmF1bHQgJyUnCiAqIEBtZW1iZXIge1N0cmluZ30gbW9kdWxlOmltYWdlL2ltYWdlfkltYWdlQ29uZmlnI3Jlc2l6ZVVuaXQKICov"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/imageresize.js"],"names":["Plugin","WidgetResize","ImageResizeCommand","ImageResize","requires","pluginName","init","editor","command","_registerSchema","_registerConverters","commands","add","editing","downcastDispatcher","on","evt","data","conversionApi","widget","mapper","toViewElement","item","resizer","plugins","get","attachTo","unit","config","modelElement","viewElement","downcastWriter","writer","getHandleHost","domWidgetElement","querySelector","getResizeHost","isCentered","imageStyle","getAttribute","onCommit","newValue","execute","width","hasClass","view","change","addClass","bind","to","priority","model","schema","extend","allowAttributes","conversion","for","dispatcher","consumable","consume","name","viewWriter","figure","attributeNewValue","setStyle","removeStyle","removeClass","attributeToAttribute","styles","key","value","getStyle"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module image/imageresize\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport WidgetResize from '@ckeditor/ckeditor5-widget/src/widgetresize';\nimport ImageResizeCommand from './imageresize/imageresizecommand';\n\nimport '../theme/imageresize.css';\n\n/**\n * The image resize plugin.\n *\n * It adds a possibility to resize each image using handles.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class ImageResize extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ WidgetResize ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'ImageResize';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst command = new ImageResizeCommand( editor );\n\n\t\tthis._registerSchema();\n\t\tthis._registerConverters();\n\n\t\teditor.commands.add( 'imageResize', command );\n\n\t\teditor.editing.downcastDispatcher.on( 'insert:image', ( evt, data, conversionApi ) => {\n\t\t\tconst widget = conversionApi.mapper.toViewElement( data.item );\n\n\t\t\tconst resizer = editor.plugins\n\t\t\t\t.get( WidgetResize )\n\t\t\t\t.attachTo( {\n\t\t\t\t\tunit: editor.config.get( 'image.resizeUnit' ) || '%',\n\n\t\t\t\t\tmodelElement: data.item,\n\t\t\t\t\tviewElement: widget,\n\t\t\t\t\tdowncastWriter: conversionApi.writer,\n\n\t\t\t\t\tgetHandleHost( domWidgetElement ) {\n\t\t\t\t\t\treturn domWidgetElement.querySelector( 'img' );\n\t\t\t\t\t},\n\t\t\t\t\tgetResizeHost( domWidgetElement ) {\n\t\t\t\t\t\treturn domWidgetElement;\n\t\t\t\t\t},\n\t\t\t\t\t// TODO consider other positions.\n\t\t\t\t\tisCentered() {\n\t\t\t\t\t\tconst imageStyle = data.item.getAttribute( 'imageStyle' );\n\n\t\t\t\t\t\treturn !imageStyle || imageStyle == 'full' || imageStyle == 'alignCenter';\n\t\t\t\t\t},\n\n\t\t\t\t\tonCommit( newValue ) {\n\t\t\t\t\t\teditor.execute( 'imageResize', { width: newValue } );\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\tresizer.on( 'updateSize', () => {\n\t\t\t\tif ( !widget.hasClass( 'image_resized' ) ) {\n\t\t\t\t\teditor.editing.view.change( writer => {\n\t\t\t\t\t\twriter.addClass( 'image_resized', widget );\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tresizer.bind( 'isEnabled' ).to( command );\n\t\t}, { priority: 'low' } );\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_registerSchema() {\n\t\tthis.editor.model.schema.extend( 'image', {\n\t\t\tallowAttributes: 'width'\n\t\t} );\n\t}\n\n\t/**\n\t * Registers image resize converters.\n\t *\n\t * @private\n\t */\n\t_registerConverters() {\n\t\tconst editor = this.editor;\n\n\t\t// Dedicated converter to propagate image's attribute to the img tag.\n\t\teditor.conversion.for( 'downcast' ).add( dispatcher =>\n\t\t\tdispatcher.on( 'attribute:width:image', ( evt, data, conversionApi ) => {\n\t\t\t\tif ( !conversionApi.consumable.consume( data.item, evt.name ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst viewWriter = conversionApi.writer;\n\t\t\t\tconst figure = conversionApi.mapper.toViewElement( data.item );\n\n\t\t\t\tif ( data.attributeNewValue !== null ) {\n\t\t\t\t\tviewWriter.setStyle( 'width', data.attributeNewValue, figure );\n\t\t\t\t\tviewWriter.addClass( 'image_resized', figure );\n\t\t\t\t} else {\n\t\t\t\t\tviewWriter.removeStyle( 'width', figure );\n\t\t\t\t\tviewWriter.removeClass( 'image_resized', figure );\n\t\t\t\t}\n\t\t\t} )\n\t\t);\n\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.attributeToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'figure',\n\t\t\t\t\tstyles: {\n\t\t\t\t\t\twidth: /.+/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: 'width',\n\t\t\t\t\tvalue: viewElement => viewElement.getStyle( 'width' )\n\t\t\t\t}\n\t\t\t} );\n\t}\n}\n\n/**\n * The available options are `'px'` or `'%'`.\n *\n * Determines the size unit applied to the resized image.\n *\n *\t\tClassicEditor\n *\t\t\t.create( editorElement, {\n *\t\t\t\timage: {\n *\t\t\t\t\tresizeUnit: 'px'\n *\t\t\t\t}\n *\t\t\t} )\n *\t\t\t.then( ... )\n *\t\t\t.catch( ... );\n *\n *\n * This option is used by the {@link module:image/imageresize~ImageResize} feature.\n *\n * @default '%'\n * @member {String} module:image/image~ImageConfig#resizeUnit\n */\n"]}]}