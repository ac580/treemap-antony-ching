{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/utils/automaticdecorators.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/utils/automaticdecorators.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZC4KICovCgovKioKICogQG1vZHVsZSBsaW5rL3V0aWxzCiAqLwoKLyoqCiAqIEhlbHBlciBjbGFzcyB0aGF0IHRpZXMgdG9nZXRoZXIgYWxsIHtAbGluayBtb2R1bGU6bGluay9saW5rfkxpbmtEZWNvcmF0b3JBdXRvbWF0aWNEZWZpbml0aW9ufSBhbmQgcHJvdmlkZXMKICogYSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35Eb3duY2FzdEhlbHBlcnMjYXR0cmlidXRlVG9FbGVtZW50IGRvd25jYXN0IGRpc3BhdGNoZXJ9IGZvciB0aGVtLgogKi8KZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXV0b21hdGljRGVjb3JhdG9ycyB7CiAgY29uc3RydWN0b3IoKSB7CiAgICAvKioKICAgICAqIFN0b3JlcyB0aGUgZGVmaW5pdGlvbiBvZiB7QGxpbmsgbW9kdWxlOmxpbmsvbGlua35MaW5rRGVjb3JhdG9yQXV0b21hdGljRGVmaW5pdGlvbiBhdXRvbWF0aWMgZGVjb3JhdG9yc30uCiAgICAgKiBUaGlzIGRhdGEgaXMgdXNlZCBhcyBhIHNvdXJjZSBmb3IgYSBkb3duY2FzdCBkaXNwYXRjaGVyIHRvIGNyZWF0ZSBhIHByb3BlciBjb252ZXJzaW9uIHRvIG91dHB1dCBkYXRhLgogICAgICoKICAgICAqIEBwcml2YXRlCiAgICAgKiBAdHlwZSB7U2V0fQogICAgICovCiAgICB0aGlzLl9kZWZpbml0aW9ucyA9IG5ldyBTZXQoKTsKICB9CiAgLyoqCiAgICogR2l2ZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG51bWJlciBvZiBkZWNvcmF0b3JzIHN0b3JlZCBpbiB0aGUge0BsaW5rIG1vZHVsZTpsaW5rL3V0aWxzfkF1dG9tYXRpY0RlY29yYXRvcnN9IGluc3RhbmNlLgogICAqCiAgICogQHJlYWRvbmx5CiAgICogQHByb3RlY3RlZAogICAqIEB0eXBlIHtOdW1iZXJ9CiAgICovCgoKICBnZXQgbGVuZ3RoKCkgewogICAgcmV0dXJuIHRoaXMuX2RlZmluaXRpb25zLnNpemU7CiAgfQogIC8qKgogICAqIEFkZHMgYXV0b21hdGljIGRlY29yYXRvciBvYmplY3RzIG9yIGFuIGFycmF5IHdpdGggdGhlbSB0byBiZSB1c2VkIGR1cmluZyBkb3duY2FzdGluZy4KICAgKgogICAqIEBwYXJhbSB7bW9kdWxlOmxpbmsvbGlua35MaW5rRGVjb3JhdG9yQXV0b21hdGljRGVmaW5pdGlvbnxBcnJheS48bW9kdWxlOmxpbmsvbGlua35MaW5rRGVjb3JhdG9yQXV0b21hdGljRGVmaW5pdGlvbj59IGl0ZW0KICAgKiBBIGNvbmZpZ3VyYXRpb24gb2JqZWN0IG9mIGF1dG9tYXRpYyBydWxlcyBmb3IgZGVjb3JhdGluZyBsaW5rcy4gSXQgbWlnaHQgYWxzbyBiZSBhbiBhcnJheSBvZiBzdWNoIG9iamVjdHMuCiAgICovCgoKICBhZGQoaXRlbSkgewogICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHsKICAgICAgaXRlbS5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5fZGVmaW5pdGlvbnMuYWRkKGl0ZW0pKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX2RlZmluaXRpb25zLmFkZChpdGVtKTsKICAgIH0KICB9CiAgLyoqCiAgICogUHJvdmlkZXMgdGhlIGNvbnZlcnNpb24gaGVscGVyIHVzZWQgaW4gdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzfkRvd25jYXN0SGVscGVycyNhZGR9IG1ldGhvZC4KICAgKgogICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBkaXNwYXRjaGVyIGZ1bmN0aW9uIHVzZWQgYXMgY29udmVyc2lvbiBoZWxwZXIKICAgKiBpbiB7QGxpbmsgbW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35Eb3duY2FzdEhlbHBlcnMjYWRkfS4KICAgKi8KCgogIGdldERpc3BhdGNoZXIoKSB7CiAgICByZXR1cm4gZGlzcGF0Y2hlciA9PiB7CiAgICAgIGRpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTpsaW5rSHJlZicsIChldnQsIGRhdGEsIGNvbnZlcnNpb25BcGkpID0+IHsKICAgICAgICAvLyBUaGVyZSBpcyBvbmx5IHRlc3QgYXMgdGhpcyBiZWhhdmlvciBkZWNvcmF0ZXMgbGlua3MgYW5kCiAgICAgICAgLy8gaXQgaXMgcnVuIGJlZm9yZSBkaXNwYXRjaGVyIHdoaWNoIGFjdHVhbGx5IGNvbnN1bWVzIHRoaXMgbm9kZS4KICAgICAgICAvLyBUaGlzIGFsbG93cyBvbiB3cml0aW5nIG93biBkaXNwYXRjaGVyIHdpdGggaGlnaGVzdCBwcmlvcml0eSwKICAgICAgICAvLyB3aGljaCBibG9ja3MgYm90aCBuYXRpdmUgY29udmVydGVyIGFuZCB0aGlzIGFkZGl0aW9uYWwgZGVjb3JhdGlvbi4KICAgICAgICBpZiAoIWNvbnZlcnNpb25BcGkuY29uc3VtYWJsZS50ZXN0KGRhdGEuaXRlbSwgJ2F0dHJpYnV0ZTpsaW5rSHJlZicpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCB2aWV3V3JpdGVyID0gY29udmVyc2lvbkFwaS53cml0ZXI7CiAgICAgICAgY29uc3Qgdmlld1NlbGVjdGlvbiA9IHZpZXdXcml0ZXIuZG9jdW1lbnQuc2VsZWN0aW9uOwoKICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5fZGVmaW5pdGlvbnMpIHsKICAgICAgICAgIGNvbnN0IHZpZXdFbGVtZW50ID0gdmlld1dyaXRlci5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KCdhJywgaXRlbS5hdHRyaWJ1dGVzLCB7CiAgICAgICAgICAgIHByaW9yaXR5OiA1CiAgICAgICAgICB9KTsKICAgICAgICAgIHZpZXdXcml0ZXIuc2V0Q3VzdG9tUHJvcGVydHkoJ2xpbmsnLCB0cnVlLCB2aWV3RWxlbWVudCk7CgogICAgICAgICAgaWYgKGl0ZW0uY2FsbGJhY2soZGF0YS5hdHRyaWJ1dGVOZXdWYWx1ZSkpIHsKICAgICAgICAgICAgaWYgKGRhdGEuaXRlbS5pcygnc2VsZWN0aW9uJykpIHsKICAgICAgICAgICAgICB2aWV3V3JpdGVyLndyYXAodmlld1NlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCksIHZpZXdFbGVtZW50KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2aWV3V3JpdGVyLndyYXAoY29udmVyc2lvbkFwaS5tYXBwZXIudG9WaWV3UmFuZ2UoZGF0YS5yYW5nZSksIHZpZXdFbGVtZW50KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmlld1dyaXRlci51bndyYXAoY29udmVyc2lvbkFwaS5tYXBwZXIudG9WaWV3UmFuZ2UoZGF0YS5yYW5nZSksIHZpZXdFbGVtZW50KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBwcmlvcml0eTogJ2hpZ2gnCiAgICAgIH0pOwogICAgfTsKICB9Cgp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-link/src/utils/automaticdecorators.js"],"names":["AutomaticDecorators","constructor","_definitions","Set","length","size","add","item","Array","isArray","forEach","getDispatcher","dispatcher","on","evt","data","conversionApi","consumable","test","viewWriter","writer","viewSelection","document","selection","viewElement","createAttributeElement","attributes","priority","setCustomProperty","callback","attributeNewValue","is","wrap","getFirstRange","mapper","toViewRange","range","unwrap"],"mappings":"AAAA;;;;;AAKA;;;;AAIA;;;;AAIA,eAAe,MAAMA,mBAAN,CAA0B;AACxCC,EAAAA,WAAW,GAAG;AACb;;;;;;;AAOA,SAAKC,YAAL,GAAoB,IAAIC,GAAJ,EAApB;AACA;AAED;;;;;;;;;AAOA,MAAIC,MAAJ,GAAa;AACZ,WAAO,KAAKF,YAAL,CAAkBG,IAAzB;AACA;AAED;;;;;;;;AAMAC,EAAAA,GAAG,CAAEC,IAAF,EAAS;AACX,QAAKC,KAAK,CAACC,OAAN,CAAeF,IAAf,CAAL,EAA6B;AAC5BA,MAAAA,IAAI,CAACG,OAAL,CAAcH,IAAI,IAAI,KAAKL,YAAL,CAAkBI,GAAlB,CAAuBC,IAAvB,CAAtB;AACA,KAFD,MAEO;AACN,WAAKL,YAAL,CAAkBI,GAAlB,CAAuBC,IAAvB;AACA;AACD;AAED;;;;;;;;AAMAI,EAAAA,aAAa,GAAG;AACf,WAAOC,UAAU,IAAI;AACpBA,MAAAA,UAAU,CAACC,EAAX,CAAe,oBAAf,EAAqC,CAAEC,GAAF,EAAOC,IAAP,EAAaC,aAAb,KAAgC;AACpE;AACA;AACA;AACA;AACA,YAAK,CAACA,aAAa,CAACC,UAAd,CAAyBC,IAAzB,CAA+BH,IAAI,CAACR,IAApC,EAA0C,oBAA1C,CAAN,EAAyE;AACxE;AACA;;AACD,cAAMY,UAAU,GAAGH,aAAa,CAACI,MAAjC;AACA,cAAMC,aAAa,GAAGF,UAAU,CAACG,QAAX,CAAoBC,SAA1C;;AAEA,aAAM,MAAMhB,IAAZ,IAAoB,KAAKL,YAAzB,EAAwC;AACvC,gBAAMsB,WAAW,GAAGL,UAAU,CAACM,sBAAX,CAAmC,GAAnC,EAAwClB,IAAI,CAACmB,UAA7C,EAAyD;AAC5EC,YAAAA,QAAQ,EAAE;AADkE,WAAzD,CAApB;AAGAR,UAAAA,UAAU,CAACS,iBAAX,CAA8B,MAA9B,EAAsC,IAAtC,EAA4CJ,WAA5C;;AACA,cAAKjB,IAAI,CAACsB,QAAL,CAAed,IAAI,CAACe,iBAApB,CAAL,EAA+C;AAC9C,gBAAKf,IAAI,CAACR,IAAL,CAAUwB,EAAV,CAAc,WAAd,CAAL,EAAmC;AAClCZ,cAAAA,UAAU,CAACa,IAAX,CAAiBX,aAAa,CAACY,aAAd,EAAjB,EAAgDT,WAAhD;AACA,aAFD,MAEO;AACNL,cAAAA,UAAU,CAACa,IAAX,CAAiBhB,aAAa,CAACkB,MAAd,CAAqBC,WAArB,CAAkCpB,IAAI,CAACqB,KAAvC,CAAjB,EAAiEZ,WAAjE;AACA;AACD,WAND,MAMO;AACNL,YAAAA,UAAU,CAACkB,MAAX,CAAmBrB,aAAa,CAACkB,MAAd,CAAqBC,WAArB,CAAkCpB,IAAI,CAACqB,KAAvC,CAAnB,EAAmEZ,WAAnE;AACA;AACD;AACD,OA1BD,EA0BG;AAAEG,QAAAA,QAAQ,EAAE;AAAZ,OA1BH;AA2BA,KA5BD;AA6BA;;AAzEuC","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md.\n */\n\n/**\n * @module link/utils\n */\n\n/**\n * Helper class that ties together all {@link module:link/link~LinkDecoratorAutomaticDefinition} and provides\n * a {@link module:engine/conversion/downcasthelpers~DowncastHelpers#attributeToElement downcast dispatcher} for them.\n */\nexport default class AutomaticDecorators {\n\tconstructor() {\n\t\t/**\n\t\t * Stores the definition of {@link module:link/link~LinkDecoratorAutomaticDefinition automatic decorators}.\n\t\t * This data is used as a source for a downcast dispatcher to create a proper conversion to output data.\n\t\t *\n\t\t * @private\n\t\t * @type {Set}\n\t\t */\n\t\tthis._definitions = new Set();\n\t}\n\n\t/**\n\t * Gives information about the number of decorators stored in the {@link module:link/utils~AutomaticDecorators} instance.\n\t *\n\t * @readonly\n\t * @protected\n\t * @type {Number}\n\t */\n\tget length() {\n\t\treturn this._definitions.size;\n\t}\n\n\t/**\n\t * Adds automatic decorator objects or an array with them to be used during downcasting.\n\t *\n\t * @param {module:link/link~LinkDecoratorAutomaticDefinition|Array.<module:link/link~LinkDecoratorAutomaticDefinition>} item\n\t * A configuration object of automatic rules for decorating links. It might also be an array of such objects.\n\t */\n\tadd( item ) {\n\t\tif ( Array.isArray( item ) ) {\n\t\t\titem.forEach( item => this._definitions.add( item ) );\n\t\t} else {\n\t\t\tthis._definitions.add( item );\n\t\t}\n\t}\n\n\t/**\n\t * Provides the conversion helper used in the {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add} method.\n\t *\n\t * @returns {Function} A dispatcher function used as conversion helper\n\t * in {@link module:engine/conversion/downcasthelpers~DowncastHelpers#add}.\n\t */\n\tgetDispatcher() {\n\t\treturn dispatcher => {\n\t\t\tdispatcher.on( 'attribute:linkHref', ( evt, data, conversionApi ) => {\n\t\t\t\t// There is only test as this behavior decorates links and\n\t\t\t\t// it is run before dispatcher which actually consumes this node.\n\t\t\t\t// This allows on writing own dispatcher with highest priority,\n\t\t\t\t// which blocks both native converter and this additional decoration.\n\t\t\t\tif ( !conversionApi.consumable.test( data.item, 'attribute:linkHref' ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst viewWriter = conversionApi.writer;\n\t\t\t\tconst viewSelection = viewWriter.document.selection;\n\n\t\t\t\tfor ( const item of this._definitions ) {\n\t\t\t\t\tconst viewElement = viewWriter.createAttributeElement( 'a', item.attributes, {\n\t\t\t\t\t\tpriority: 5\n\t\t\t\t\t} );\n\t\t\t\t\tviewWriter.setCustomProperty( 'link', true, viewElement );\n\t\t\t\t\tif ( item.callback( data.attributeNewValue ) ) {\n\t\t\t\t\t\tif ( data.item.is( 'selection' ) ) {\n\t\t\t\t\t\t\tviewWriter.wrap( viewSelection.getFirstRange(), viewElement );\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tviewWriter.wrap( conversionApi.mapper.toViewRange( data.range ), viewElement );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tviewWriter.unwrap( conversionApi.mapper.toViewRange( data.range ), viewElement );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, { priority: 'high' } );\n\t\t};\n\t}\n}\n"]}]}