{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/nodelist.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/nodelist.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS9tb2RlbC9ub2RlbGlzdAogKi8KaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJzsKaW1wb3J0IENLRWRpdG9yRXJyb3IgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvY2tlZGl0b3JlcnJvcic7Ci8qKgogKiBQcm92aWRlcyBhbiBpbnRlcmZhY2UgdG8gb3BlcmF0ZSBvbiBhIGxpc3Qgb2Yge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlIG5vZGVzfS4gYE5vZGVMaXN0YCBpcyB1c2VkIGludGVybmFsbHkKICogaW4gY2xhc3NlcyBsaWtlIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2VsZW1lbnR+RWxlbWVudCBFbGVtZW50fQogKiBvciB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudGZyYWdtZW50fkRvY3VtZW50RnJhZ21lbnQgRG9jdW1lbnRGcmFnbWVudH0uCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9kZUxpc3QgewogIC8qKgogICAqIENyZWF0ZXMgYW4gZW1wdHkgbm9kZSBsaXN0LgogICAqCiAgICogQHByb3RlY3RlZAogICAqIEBwYXJhbSB7SXRlcmFibGUuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0gbm9kZXMgTm9kZXMgY29udGFpbmVkIGluIHRoaXMgbm9kZSBsaXN0LgogICAqLwogIGNvbnN0cnVjdG9yKG5vZGVzKSB7CiAgICAvKioKICAgICAqIE5vZGVzIGNvbnRhaW5lZCBpbiB0aGlzIG5vZGUgbGlzdC4KICAgICAqCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1lbWJlciB7QXJyYXkuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0KICAgICAqLwogICAgdGhpcy5fbm9kZXMgPSBbXTsKCiAgICBpZiAobm9kZXMpIHsKICAgICAgdGhpcy5faW5zZXJ0Tm9kZXMoMCwgbm9kZXMpOwogICAgfQogIH0KICAvKioKICAgKiBJdGVyYWJsZSBpbnRlcmZhY2UuCiAgICoKICAgKiBJdGVyYXRlcyBvdmVyIGFsbCBub2RlcyBjb250YWluZWQgaW5zaWRlIHRoaXMgbm9kZSBsaXN0LgogICAqCiAgICogQHJldHVybnMge0l0ZXJhYmxlLjxtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZT59CiAgICovCgoKICBbU3ltYm9sLml0ZXJhdG9yXSgpIHsKICAgIHJldHVybiB0aGlzLl9ub2Rlc1tTeW1ib2wuaXRlcmF0b3JdKCk7CiAgfQogIC8qKgogICAqIE51bWJlciBvZiBub2RlcyBjb250YWluZWQgaW5zaWRlIHRoaXMgbm9kZSBsaXN0LgogICAqCiAgICogQHJlYWRvbmx5CiAgICogQHR5cGUge051bWJlcn0KICAgKi8KCgogIGdldCBsZW5ndGgoKSB7CiAgICByZXR1cm4gdGhpcy5fbm9kZXMubGVuZ3RoOwogIH0KICAvKioKICAgKiBTdW0gb2Yge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlI29mZnNldFNpemUgb2Zmc2V0IHNpemVzfSBvZiBhbGwgbm9kZXMgY29udGFpbmVkIGluc2lkZSB0aGlzIG5vZGUgbGlzdC4KICAgKgogICAqIEByZWFkb25seQogICAqIEB0eXBlIHtOdW1iZXJ9CiAgICovCgoKICBnZXQgbWF4T2Zmc2V0KCkgewogICAgcmV0dXJuIHRoaXMuX25vZGVzLnJlZHVjZSgoc3VtLCBub2RlKSA9PiBzdW0gKyBub2RlLm9mZnNldFNpemUsIDApOwogIH0KICAvKioKICAgKiBHZXRzIHRoZSBub2RlIGF0IHRoZSBnaXZlbiBpbmRleC4gUmV0dXJucyBgbnVsbGAgaWYgaW5jb3JyZWN0IGluZGV4IHdhcyBwYXNzZWQuCiAgICoKICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggSW5kZXggb2Ygbm9kZS4KICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGV8bnVsbH0gTm9kZSBhdCBnaXZlbiBpbmRleC4KICAgKi8KCgogIGdldE5vZGUoaW5kZXgpIHsKICAgIHJldHVybiB0aGlzLl9ub2Rlc1tpbmRleF0gfHwgbnVsbDsKICB9CiAgLyoqCiAgICogUmV0dXJucyBhbiBpbmRleCBvZiB0aGUgZ2l2ZW4gbm9kZS4gUmV0dXJucyBgbnVsbGAgaWYgZ2l2ZW4gbm9kZSBpcyBub3QgaW5zaWRlIHRoaXMgbm9kZSBsaXN0LgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZX0gbm9kZSBDaGlsZCBub2RlIHRvIGxvb2sgZm9yLgogICAqIEByZXR1cm5zIHtOdW1iZXJ8bnVsbH0gQ2hpbGQgbm9kZSdzIGluZGV4LgogICAqLwoKCiAgZ2V0Tm9kZUluZGV4KG5vZGUpIHsKICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbm9kZXMuaW5kZXhPZihub2RlKTsKCiAgICByZXR1cm4gaW5kZXggPT0gLTEgPyBudWxsIDogaW5kZXg7CiAgfQogIC8qKgogICAqIFJldHVybnMgdGhlIHN0YXJ0aW5nIG9mZnNldCBvZiBnaXZlbiBub2RlLiBTdGFydGluZyBvZmZzZXQgaXMgZXF1YWwgdG8gdGhlIHN1bSBvZgogICAqIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZSNvZmZzZXRTaXplIG9mZnNldCBzaXplc30gb2YgYWxsIG5vZGVzIHRoYXQgYXJlIGJlZm9yZSB0aGlzIG5vZGUgaW4gdGhpcyBub2RlIGxpc3QuCiAgICoKICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlfSBub2RlIE5vZGUgdG8gbG9vayBmb3IuCiAgICogQHJldHVybnMge051bWJlcnxudWxsfSBOb2RlJ3Mgc3RhcnRpbmcgb2Zmc2V0LgogICAqLwoKCiAgZ2V0Tm9kZVN0YXJ0T2Zmc2V0KG5vZGUpIHsKICAgIGNvbnN0IGluZGV4ID0gdGhpcy5nZXROb2RlSW5kZXgobm9kZSk7CiAgICByZXR1cm4gaW5kZXggPT09IG51bGwgPyBudWxsIDogdGhpcy5fbm9kZXMuc2xpY2UoMCwgaW5kZXgpLnJlZHVjZSgoc3VtLCBub2RlKSA9PiBzdW0gKyBub2RlLm9mZnNldFNpemUsIDApOwogIH0KICAvKioKICAgKiBDb252ZXJ0cyBpbmRleCB0byBvZmZzZXQgaW4gbm9kZSBsaXN0LgogICAqCiAgICogUmV0dXJucyBzdGFydGluZyBvZmZzZXQgb2YgYSBub2RlIHRoYXQgaXMgYXQgZ2l2ZW4gaW5kZXguIFRocm93cyB7QGxpbmsgbW9kdWxlOnV0aWxzL2NrZWRpdG9yZXJyb3J+Q0tFZGl0b3JFcnJvciBDS0VkaXRvckVycm9yfQogICAqIGBtb2RlbC1ub2RlbGlzdC1pbmRleC1vdXQtb2YtYm91bmRzYCBpZiBnaXZlbiBpbmRleCBpcyBsZXNzIHRoYW4gYDBgIG9yIG1vcmUgdGhhbiB7QGxpbmsgI2xlbmd0aH0uCiAgICoKICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggTm9kZSdzIGluZGV4LgogICAqIEByZXR1cm5zIHtOdW1iZXJ9IE5vZGUncyBzdGFydGluZyBvZmZzZXQuCiAgICovCgoKICBpbmRleFRvT2Zmc2V0KGluZGV4KSB7CiAgICBpZiAoaW5kZXggPT0gdGhpcy5fbm9kZXMubGVuZ3RoKSB7CiAgICAgIHJldHVybiB0aGlzLm1heE9mZnNldDsKICAgIH0KCiAgICBjb25zdCBub2RlID0gdGhpcy5fbm9kZXNbaW5kZXhdOwoKICAgIGlmICghbm9kZSkgewogICAgICAvKioKICAgICAgICogR2l2ZW4gaW5kZXggY2Fubm90IGJlIGZvdW5kIGluIHRoZSBub2RlIGxpc3QuCiAgICAgICAqCiAgICAgICAqIEBlcnJvciBub2RlbGlzdC1pbmRleC1vdXQtb2YtYm91bmRzCiAgICAgICAqLwogICAgICB0aHJvdyBuZXcgQ0tFZGl0b3JFcnJvcignbW9kZWwtbm9kZWxpc3QtaW5kZXgtb3V0LW9mLWJvdW5kczogR2l2ZW4gaW5kZXggY2Fubm90IGJlIGZvdW5kIGluIHRoZSBub2RlIGxpc3QuJywgdGhpcyk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZVN0YXJ0T2Zmc2V0KG5vZGUpOwogIH0KICAvKioKICAgKiBDb252ZXJ0cyBvZmZzZXQgaW4gbm9kZSBsaXN0IHRvIGluZGV4LgogICAqCiAgICogUmV0dXJucyBpbmRleCBvZiBhIG5vZGUgdGhhdCBvY2N1cGllcyBnaXZlbiBvZmZzZXQuIFRocm93cyB7QGxpbmsgbW9kdWxlOnV0aWxzL2NrZWRpdG9yZXJyb3J+Q0tFZGl0b3JFcnJvciBDS0VkaXRvckVycm9yfQogICAqIGBtb2RlbC1ub2RlbGlzdC1vZmZzZXQtb3V0LW9mLWJvdW5kc2AgaWYgZ2l2ZW4gb2Zmc2V0IGlzIGxlc3MgdGhhbiBgMGAgb3IgbW9yZSB0aGFuIHtAbGluayAjbWF4T2Zmc2V0fS4KICAgKgogICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgT2Zmc2V0IHRvIGxvb2sgZm9yLgogICAqIEByZXR1cm5zIHtOdW1iZXJ9IEluZGV4IG9mIGEgbm9kZSB0aGF0IG9jY3VwaWVzIGdpdmVuIG9mZnNldC4KICAgKi8KCgogIG9mZnNldFRvSW5kZXgob2Zmc2V0KSB7CiAgICBsZXQgdG90YWxPZmZzZXQgPSAwOwoKICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0aGlzLl9ub2RlcykgewogICAgICBpZiAob2Zmc2V0ID49IHRvdGFsT2Zmc2V0ICYmIG9mZnNldCA8IHRvdGFsT2Zmc2V0ICsgbm9kZS5vZmZzZXRTaXplKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZUluZGV4KG5vZGUpOwogICAgICB9CgogICAgICB0b3RhbE9mZnNldCArPSBub2RlLm9mZnNldFNpemU7CiAgICB9CgogICAgaWYgKHRvdGFsT2Zmc2V0ICE9IG9mZnNldCkgewogICAgICAvKioKICAgICAgICogR2l2ZW4gb2Zmc2V0IGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgbm9kZSBsaXN0LgogICAgICAgKgogICAgICAgKiBAZXJyb3IgbW9kZWwtbm9kZWxpc3Qtb2Zmc2V0LW91dC1vZi1ib3VuZHMKICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldAogICAgICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbm9kZWxpc3R+Tm9kZUxpc3R9IG5vZGVMaXN0IFN0cmluZ2lmaWVkIG5vZGUgbGlzdC4KICAgICAgICovCiAgICAgIHRocm93IG5ldyBDS0VkaXRvckVycm9yKCdtb2RlbC1ub2RlbGlzdC1vZmZzZXQtb3V0LW9mLWJvdW5kczogR2l2ZW4gb2Zmc2V0IGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgbm9kZSBsaXN0LicsIHRoaXMsIHsKICAgICAgICBvZmZzZXQsCiAgICAgICAgbm9kZUxpc3Q6IHRoaXMKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIHRoaXMubGVuZ3RoOwogIH0KICAvKioKICAgKiBJbnNlcnRzIGdpdmVuIG5vZGVzIGF0IGdpdmVuIGluZGV4LgogICAqCiAgICogQHByb3RlY3RlZAogICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCBhdCB3aGljaCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQuCiAgICogQHBhcmFtIHtJdGVyYWJsZS48bW9kdWxlOmVuZ2luZS9tb2RlbC9ub2Rlfk5vZGU+fSBub2RlcyBOb2RlcyB0byBiZSBpbnNlcnRlZC4KICAgKi8KCgogIF9pbnNlcnROb2RlcyhpbmRleCwgbm9kZXMpIHsKICAgIC8vIFZhbGlkYXRpb24uCiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHsKICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE5vZGUpKSB7CiAgICAgICAgLyoqCiAgICAgICAgICogVHJ5aW5nIHRvIGluc2VydCBhbiBvYmplY3Qgd2hpY2ggaXMgbm90IGEgTm9kZSBpbnN0YW5jZS4KICAgICAgICAgKgogICAgICAgICAqIEBlcnJvciBub2RlbGlzdC1pbnNlcnROb2Rlcy1ub3Qtbm9kZQogICAgICAgICAqLwogICAgICAgIHRocm93IG5ldyBDS0VkaXRvckVycm9yKCdtb2RlbC1ub2RlbGlzdC1pbnNlcnROb2Rlcy1ub3Qtbm9kZTogVHJ5aW5nIHRvIGluc2VydCBhbiBvYmplY3Qgd2hpY2ggaXMgbm90IGEgTm9kZSBpbnN0YW5jZS4nLCB0aGlzKTsKICAgICAgfQogICAgfQoKICAgIHRoaXMuX25vZGVzLnNwbGljZShpbmRleCwgMCwgLi4ubm9kZXMpOwogIH0KICAvKioKICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIG5vZGVzIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBpbmRleC4KICAgKgogICAqIEBwcm90ZWN0ZWQKICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhTdGFydCBJbmRleCBvZiB0aGUgZmlyc3Qgbm9kZSB0byByZW1vdmUuCiAgICogQHBhcmFtIHtOdW1iZXJ9IFtob3dNYW55PTFdIE51bWJlciBvZiBub2RlcyB0byByZW1vdmUuCiAgICogQHJldHVybnMge0FycmF5Ljxtb2R1bGU6ZW5naW5lL21vZGVsL25vZGV+Tm9kZT59IEFycmF5IGNvbnRhaW5pbmcgcmVtb3ZlZCBub2Rlcy4KICAgKi8KCgogIF9yZW1vdmVOb2RlcyhpbmRleFN0YXJ0LCBob3dNYW55ID0gMSkgewogICAgcmV0dXJuIHRoaXMuX25vZGVzLnNwbGljZShpbmRleFN0YXJ0LCBob3dNYW55KTsKICB9CiAgLyoqCiAgICogQ29udmVydHMgYE5vZGVMaXN0YCBpbnN0YW5jZSB0byBhbiBhcnJheSBjb250YWluaW5nIG5vZGVzIHRoYXQgd2VyZSBpbnNlcnRlZCBpbiB0aGUgbm9kZSBsaXN0LiBOb2RlcwogICAqIGFyZSBhbHNvIGNvbnZlcnRlZCB0byB0aGVpciBwbGFpbiBvYmplY3QgcmVwcmVzZW50YXRpb24uCiAgICoKICAgKiBAcmV0dXJucyB7QXJyYXkuPG1vZHVsZTplbmdpbmUvbW9kZWwvbm9kZX5Ob2RlPn0gYE5vZGVMaXN0YCBpbnN0YW5jZSBjb252ZXJ0ZWQgdG8gYEFycmF5YC4KICAgKi8KCgogIHRvSlNPTigpIHsKICAgIHJldHVybiB0aGlzLl9ub2Rlcy5tYXAobm9kZSA9PiBub2RlLnRvSlNPTigpKTsKICB9Cgp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/nodelist.js"],"names":["Node","CKEditorError","NodeList","constructor","nodes","_nodes","_insertNodes","Symbol","iterator","length","maxOffset","reduce","sum","node","offsetSize","getNode","index","getNodeIndex","indexOf","getNodeStartOffset","slice","indexToOffset","offsetToIndex","offset","totalOffset","nodeList","splice","_removeNodes","indexStart","howMany","toJSON","map"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/nodelist\n */\n\nimport Node from './node';\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n\n/**\n * Provides an interface to operate on a list of {@link module:engine/model/node~Node nodes}. `NodeList` is used internally\n * in classes like {@link module:engine/model/element~Element Element}\n * or {@link module:engine/model/documentfragment~DocumentFragment DocumentFragment}.\n */\nexport default class NodeList {\n\t/**\n\t * Creates an empty node list.\n\t *\n\t * @protected\n\t * @param {Iterable.<module:engine/model/node~Node>} nodes Nodes contained in this node list.\n\t */\n\tconstructor( nodes ) {\n\t\t/**\n\t\t * Nodes contained in this node list.\n\t\t *\n\t\t * @private\n\t\t * @member {Array.<module:engine/model/node~Node>}\n\t\t */\n\t\tthis._nodes = [];\n\n\t\tif ( nodes ) {\n\t\t\tthis._insertNodes( 0, nodes );\n\t\t}\n\t}\n\n\t/**\n\t * Iterable interface.\n\t *\n\t * Iterates over all nodes contained inside this node list.\n\t *\n\t * @returns {Iterable.<module:engine/model/node~Node>}\n\t */\n\t[ Symbol.iterator ]() {\n\t\treturn this._nodes[ Symbol.iterator ]();\n\t}\n\n\t/**\n\t * Number of nodes contained inside this node list.\n\t *\n\t * @readonly\n\t * @type {Number}\n\t */\n\tget length() {\n\t\treturn this._nodes.length;\n\t}\n\n\t/**\n\t * Sum of {@link module:engine/model/node~Node#offsetSize offset sizes} of all nodes contained inside this node list.\n\t *\n\t * @readonly\n\t * @type {Number}\n\t */\n\tget maxOffset() {\n\t\treturn this._nodes.reduce( ( sum, node ) => sum + node.offsetSize, 0 );\n\t}\n\n\t/**\n\t * Gets the node at the given index. Returns `null` if incorrect index was passed.\n\t *\n\t * @param {Number} index Index of node.\n\t * @returns {module:engine/model/node~Node|null} Node at given index.\n\t */\n\tgetNode( index ) {\n\t\treturn this._nodes[ index ] || null;\n\t}\n\n\t/**\n\t * Returns an index of the given node. Returns `null` if given node is not inside this node list.\n\t *\n\t * @param {module:engine/model/node~Node} node Child node to look for.\n\t * @returns {Number|null} Child node's index.\n\t */\n\tgetNodeIndex( node ) {\n\t\tconst index = this._nodes.indexOf( node );\n\n\t\treturn index == -1 ? null : index;\n\t}\n\n\t/**\n\t * Returns the starting offset of given node. Starting offset is equal to the sum of\n\t * {@link module:engine/model/node~Node#offsetSize offset sizes} of all nodes that are before this node in this node list.\n\t *\n\t * @param {module:engine/model/node~Node} node Node to look for.\n\t * @returns {Number|null} Node's starting offset.\n\t */\n\tgetNodeStartOffset( node ) {\n\t\tconst index = this.getNodeIndex( node );\n\n\t\treturn index === null ? null : this._nodes.slice( 0, index ).reduce( ( sum, node ) => sum + node.offsetSize, 0 );\n\t}\n\n\t/**\n\t * Converts index to offset in node list.\n\t *\n\t * Returns starting offset of a node that is at given index. Throws {@link module:utils/ckeditorerror~CKEditorError CKEditorError}\n\t * `model-nodelist-index-out-of-bounds` if given index is less than `0` or more than {@link #length}.\n\t *\n\t * @param {Number} index Node's index.\n\t * @returns {Number} Node's starting offset.\n\t */\n\tindexToOffset( index ) {\n\t\tif ( index == this._nodes.length ) {\n\t\t\treturn this.maxOffset;\n\t\t}\n\n\t\tconst node = this._nodes[ index ];\n\n\t\tif ( !node ) {\n\t\t\t/**\n\t\t\t * Given index cannot be found in the node list.\n\t\t\t *\n\t\t\t * @error nodelist-index-out-of-bounds\n\t\t\t */\n\t\t\tthrow new CKEditorError( 'model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.', this );\n\t\t}\n\n\t\treturn this.getNodeStartOffset( node );\n\t}\n\n\t/**\n\t * Converts offset in node list to index.\n\t *\n\t * Returns index of a node that occupies given offset. Throws {@link module:utils/ckeditorerror~CKEditorError CKEditorError}\n\t * `model-nodelist-offset-out-of-bounds` if given offset is less than `0` or more than {@link #maxOffset}.\n\t *\n\t * @param {Number} offset Offset to look for.\n\t * @returns {Number} Index of a node that occupies given offset.\n\t */\n\toffsetToIndex( offset ) {\n\t\tlet totalOffset = 0;\n\n\t\tfor ( const node of this._nodes ) {\n\t\t\tif ( offset >= totalOffset && offset < totalOffset + node.offsetSize ) {\n\t\t\t\treturn this.getNodeIndex( node );\n\t\t\t}\n\n\t\t\ttotalOffset += node.offsetSize;\n\t\t}\n\n\t\tif ( totalOffset != offset ) {\n\t\t\t/**\n\t\t\t * Given offset cannot be found in the node list.\n\t\t\t *\n\t\t\t * @error model-nodelist-offset-out-of-bounds\n\t\t\t * @param {Number} offset\n\t\t\t * @param {module:engine/model/nodelist~NodeList} nodeList Stringified node list.\n\t\t\t */\n\t\t\tthrow new CKEditorError( 'model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.',\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\toffset,\n\t\t\t\t\tnodeList: this\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\treturn this.length;\n\t}\n\n\t/**\n\t * Inserts given nodes at given index.\n\t *\n\t * @protected\n\t * @param {Number} index Index at which nodes should be inserted.\n\t * @param {Iterable.<module:engine/model/node~Node>} nodes Nodes to be inserted.\n\t */\n\t_insertNodes( index, nodes ) {\n\t\t// Validation.\n\t\tfor ( const node of nodes ) {\n\t\t\tif ( !( node instanceof Node ) ) {\n\t\t\t\t/**\n\t\t\t\t * Trying to insert an object which is not a Node instance.\n\t\t\t\t *\n\t\t\t\t * @error nodelist-insertNodes-not-node\n\t\t\t\t */\n\t\t\t\tthrow new CKEditorError(\n\t\t\t\t\t'model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.',\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis._nodes.splice( index, 0, ...nodes );\n\t}\n\n\t/**\n\t * Removes one or more nodes starting at the given index.\n\t *\n\t * @protected\n\t * @param {Number} indexStart Index of the first node to remove.\n\t * @param {Number} [howMany=1] Number of nodes to remove.\n\t * @returns {Array.<module:engine/model/node~Node>} Array containing removed nodes.\n\t */\n\t_removeNodes( indexStart, howMany = 1 ) {\n\t\treturn this._nodes.splice( indexStart, howMany );\n\t}\n\n\t/**\n\t * Converts `NodeList` instance to an array containing nodes that were inserted in the node list. Nodes\n\t * are also converted to their plain object representation.\n\t *\n\t * @returns {Array.<module:engine/model/node~Node>} `NodeList` instance converted to `Array`.\n\t */\n\ttoJSON() {\n\t\treturn this._nodes.map( node => node.toJSON() );\n\t}\n}\n"]}]}