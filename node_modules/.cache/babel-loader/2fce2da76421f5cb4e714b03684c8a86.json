{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/utils/modifyselection.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/utils/modifyselection.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS9tb2RlbC91dGlscy9tb2RpZnlzZWxlY3Rpb24KICovCmltcG9ydCBQb3NpdGlvbiBmcm9tICcuLi9wb3NpdGlvbic7CmltcG9ydCBUcmVlV2Fsa2VyIGZyb20gJy4uL3RyZWV3YWxrZXInOwppbXBvcnQgUmFuZ2UgZnJvbSAnLi4vcmFuZ2UnOwppbXBvcnQgeyBpc0luc2lkZVN1cnJvZ2F0ZVBhaXIsIGlzSW5zaWRlQ29tYmluZWRTeW1ib2wgfSBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy91bmljb2RlJzsKaW1wb3J0IERvY3VtZW50U2VsZWN0aW9uIGZyb20gJy4uL2RvY3VtZW50c2VsZWN0aW9uJzsKY29uc3Qgd29yZEJvdW5kYXJ5Q2hhcmFjdGVycyA9ICcgLC4/ITo7Ii0oKSc7Ci8qKgogKiBNb2RpZmllcyB0aGUgc2VsZWN0aW9uLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWQgbW9kaWZpY2F0aW9ucyBhcmU6CiAqCiAqICogRXh0ZW5kaW5nLiBUaGUgc2VsZWN0aW9uIGZvY3VzIGlzIG1vdmVkIGluIHRoZSBzcGVjaWZpZWQgYG9wdGlvbnMuZGlyZWN0aW9uYCB3aXRoIGEgc3RlcCBzcGVjaWZpZWQgaW4gYG9wdGlvbnMudW5pdGAuCiAqIFBvc3NpYmxlIHZhbHVlcyBmb3IgYHVuaXRgIGFyZToKICogICogYCdjaGFyYWN0ZXInYCAoZGVmYXVsdCkgLSBtb3ZlcyBzZWxlY3Rpb24gYnkgb25lIHVzZXItcGVyY2VpdmVkIGNoYXJhY3Rlci4gSW4gbW9zdCBjYXNlcyB0aGlzIG1lYW5zIG1vdmluZyBieSBvbmUKICogIGNoYXJhY3RlciBpbiBgU3RyaW5nYCBzZW5zZS4gSG93ZXZlciwgdW5pY29kZSBhbHNvIGRlZmluZXMgImNvbWJpbmcgbWFya3MiLiBUaGVzZSBhcmUgc3BlY2lhbCBzeW1ib2xzLCB0aGF0IGNvbWJpbmVzCiAqICB3aXRoIGEgc3ltYm9sIGJlZm9yZSBpdCAoImJhc2UgY2hhcmFjdGVyIikgdG8gY3JlYXRlIG9uZSB1c2VyLXBlcmNlaXZlZCBjaGFyYWN0ZXIuIEZvciBleGFtcGxlLCBgccyHzKNgIGlzIGEgbm9ybWFsCiAqICBsZXR0ZXIgYHFgIHdpdGggdHdvICJjb21iaW5pbmcgbWFya3MiOiB1cHBlciBkb3QgKGBVeDAzMDdgKSBhbmQgbG93ZXIgZG90IChgVXgwMzIzYCkuIEZvciBtb3N0IGFjdGlvbnMsIGkuZS4gZXh0ZW5kaW5nCiAqICBzZWxlY3Rpb24gYnkgb25lIHBvc2l0aW9uLCBpdCBpcyBjb3JyZWN0IHRvIGluY2x1ZGUgYm90aCAiYmFzZSBjaGFyYWN0ZXIiIGFuZCBhbGwgb2YgaXQncyAiY29tYmluaW5nIG1hcmtzIi4gVGhhdCBpcwogKiAgd2h5IGAnY2hhcmFjdGVyJ2AgdmFsdWUgaXMgbW9zdCBuYXR1cmFsIGFuZCBjb21tb24gbWV0aG9kIG9mIG1vZGlmeWluZyBzZWxlY3Rpb24uCiAqICAqIGAnY29kZVBvaW50J2AgLSBtb3ZlcyBzZWxlY3Rpb24gYnkgb25lIHVuaWNvZGUgY29kZSBwb2ludC4gSW4gY29udHJhcnkgdG8sIGAnY2hhcmFjdGVyJ2AgdW5pdCwgdGhpcyB3aWxsIGluc2VydAogKiAgc2VsZWN0aW9uIGJldHdlZW4gImJhc2UgY2hhcmFjdGVyIiBhbmQgImNvbWJpbmluZyBtYXJrIiwgYmVjYXVzZSAiY29tYmluaW5nIG1hcmtzIiBoYXZlIHRoZWlyIG93biB1bmljb2RlIGNvZGUgcG9pbnRzLgogKiAgSG93ZXZlciwgZm9yIHRlY2huaWNhbCByZWFzb25zLCB1bmljb2RlIGNvZGUgcG9pbnRzIHdpdGggdmFsdWVzIGFib3ZlIGBVeEZGRkZgIGFyZSByZXByZXNlbnRlZCBpbiBuYXRpdmUgYFN0cmluZ2AgYnkKICogIHR3byBjaGFyYWN0ZXJzLCBjYWxsZWQgInN1cnJvZ2F0ZSBwYWlycyIuIEhhbHZlcyBvZiAic3Vycm9nYXRlIHBhaXJzIiBoYXZlIGEgbWVhbmluZyBvbmx5IHdoZW4gcGxhY2VkIG5leHQgdG8gZWFjaCBvdGhlci4KICogIEZvciBleGFtcGxlIGDwqK2OYCBpcyByZXByZXNlbnRlZCBpbiBgU3RyaW5nYCBieSBgXHVEODYyXHVERjRFYC4gQm90aCBgXHVEODYyYCBhbmQgYFx1REY0RWAgZG8gbm90IGhhdmUgYW55IG1lYW5pbmcKICogIG91dHNpZGUgdGhlIHBhaXIgKGFyZSByZW5kZXJlZCBhcyA/IHdoZW4gYWxvbmUpLiBQb3NpdGlvbiBiZXR3ZWVuIHRoZW0gd291bGQgYmUgaW5jb3JyZWN0LiBJbiB0aGlzIGNhc2UsIHNlbGVjdGlvbgogKiAgZXh0ZW5zaW9uIHdpbGwgaW5jbHVkZSB3aG9sZSAic3Vycm9nYXRlIHBhaXIiLgogKiAgKiBgJ3dvcmQnYCAtIG1vdmVzIHNlbGVjdGlvbiBieSBhIHdob2xlIHdvcmQuCiAqCiAqICoqTm90ZToqKiBpZiB5b3UgZXh0ZW5kIGEgZm9yd2FyZCBzZWxlY3Rpb24gaW4gYSBiYWNrd2FyZCBkaXJlY3Rpb24geW91IHdpbGwgaW4gZmFjdCBzaHJpbmsgaXQuCiAqCiAqICoqTm90ZToqKiBVc2Uge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWwjbW9kaWZ5U2VsZWN0aW9ufSBpbnN0ZWFkIG9mIHRoaXMgZnVuY3Rpb24uCiAqIFRoaXMgZnVuY3Rpb24gaXMgb25seSBleHBvc2VkIHRvIGJlIHJldXNhYmxlIGluIGFsZ29yaXRobXMKICogd2hpY2ggY2hhbmdlIHRoZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbCNtb2RpZnlTZWxlY3Rpb259CiAqIG1ldGhvZCdzIGJlaGF2aW9yLgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWx9IG1vZGVsIFRoZSBtb2RlbCBpbiBjb250ZXh0IG9mIHdoaWNoCiAqIHRoZSBzZWxlY3Rpb24gbW9kaWZpY2F0aW9uIHNob3VsZCBiZSBwZXJmb3JtZWQuCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9zZWxlY3Rpb25+U2VsZWN0aW9ufG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnRzZWxlY3Rpb25+RG9jdW1lbnRTZWxlY3Rpb259IHNlbGVjdGlvbgogKiBUaGUgc2VsZWN0aW9uIHRvIG1vZGlmeS4KICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXQogKiBAcGFyYW0geydmb3J3YXJkJ3wnYmFja3dhcmQnfSBbb3B0aW9ucy5kaXJlY3Rpb249J2ZvcndhcmQnXSBUaGUgZGlyZWN0aW9uIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vZGlmaWVkLgogKiBAcGFyYW0geydjaGFyYWN0ZXInfCdjb2RlUG9pbnQnfCd3b3JkJ30gW29wdGlvbnMudW5pdD0nY2hhcmFjdGVyJ10gVGhlIHVuaXQgYnkgd2hpY2ggc2VsZWN0aW9uIHNob3VsZCBiZSBtb2RpZmllZC4KICovCgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb2RpZnlTZWxlY3Rpb24obW9kZWwsIHNlbGVjdGlvbiwgb3B0aW9ucyA9IHt9KSB7CiAgY29uc3Qgc2NoZW1hID0gbW9kZWwuc2NoZW1hOwogIGNvbnN0IGlzRm9yd2FyZCA9IG9wdGlvbnMuZGlyZWN0aW9uICE9ICdiYWNrd2FyZCc7CiAgY29uc3QgdW5pdCA9IG9wdGlvbnMudW5pdCA/IG9wdGlvbnMudW5pdCA6ICdjaGFyYWN0ZXInOwogIGNvbnN0IGZvY3VzID0gc2VsZWN0aW9uLmZvY3VzOwogIGNvbnN0IHdhbGtlciA9IG5ldyBUcmVlV2Fsa2VyKHsKICAgIGJvdW5kYXJpZXM6IGdldFNlYXJjaFJhbmdlKGZvY3VzLCBpc0ZvcndhcmQpLAogICAgc2luZ2xlQ2hhcmFjdGVyczogdHJ1ZSwKICAgIGRpcmVjdGlvbjogaXNGb3J3YXJkID8gJ2ZvcndhcmQnIDogJ2JhY2t3YXJkJwogIH0pOwogIGNvbnN0IGRhdGEgPSB7CiAgICB3YWxrZXIsCiAgICBzY2hlbWEsCiAgICBpc0ZvcndhcmQsCiAgICB1bml0CiAgfTsKICBsZXQgbmV4dDsKCiAgd2hpbGUgKG5leHQgPSB3YWxrZXIubmV4dCgpKSB7CiAgICBpZiAobmV4dC5kb25lKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBwb3NpdGlvbiA9IHRyeUV4dGVuZGluZ1RvKGRhdGEsIG5leHQudmFsdWUpOwoKICAgIGlmIChwb3NpdGlvbikgewogICAgICBpZiAoc2VsZWN0aW9uIGluc3RhbmNlb2YgRG9jdW1lbnRTZWxlY3Rpb24pIHsKICAgICAgICBtb2RlbC5jaGFuZ2Uod3JpdGVyID0+IHsKICAgICAgICAgIHdyaXRlci5zZXRTZWxlY3Rpb25Gb2N1cyhwb3NpdGlvbik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VsZWN0aW9uLnNldEZvY3VzKHBvc2l0aW9uKTsKICAgICAgfQoKICAgICAgcmV0dXJuOwogICAgfQogIH0KfSAvLyBDaGVja3Mgd2hldGhlciB0aGUgc2VsZWN0aW9uIGNhbiBiZSBleHRlbmRlZCB0byB0aGUgdGhlIHdhbGtlcidzIG5leHQgdmFsdWUgKG5leHQgcG9zaXRpb24pLgovLyBAcGFyYW0ge3sgd2Fsa2VyLCB1bml0LCBpc0ZvcndhcmQsIHNjaGVtYSB9fSBkYXRhCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L3RyZWV3YWxrZXJ+VHJlZVdhbGtlclZhbHVlfSB2YWx1ZQoKZnVuY3Rpb24gdHJ5RXh0ZW5kaW5nVG8oZGF0YSwgdmFsdWUpIHsKICAvLyBJZiBmb3VuZCB0ZXh0LCB3ZSBjYW4gY2VydGFpbmx5IHB1dCB0aGUgZm9jdXMgaW4gaXQuIExldCdzIGp1c3QgZmluZCBhIGNvcnJlY3QgcG9zaXRpb24KICAvLyBiYXNlZCBvbiB0aGUgdW5pdC4KICBpZiAodmFsdWUudHlwZSA9PSAndGV4dCcpIHsKICAgIGlmIChkYXRhLnVuaXQgPT09ICd3b3JkJykgewogICAgICByZXR1cm4gZ2V0Q29ycmVjdFdvcmRCcmVha1Bvc2l0aW9uKGRhdGEud2Fsa2VyLCBkYXRhLmlzRm9yd2FyZCk7CiAgICB9CgogICAgcmV0dXJuIGdldENvcnJlY3RQb3NpdGlvbihkYXRhLndhbGtlciwgZGF0YS51bml0LCBkYXRhLmlzRm9yd2FyZCk7CiAgfSAvLyBFbnRlcmluZyBhbiBlbGVtZW50LgoKCiAgaWYgKHZhbHVlLnR5cGUgPT0gKGRhdGEuaXNGb3J3YXJkID8gJ2VsZW1lbnRTdGFydCcgOiAnZWxlbWVudEVuZCcpKSB7CiAgICAvLyBJZiBpdCdzIGFuIG9iamVjdCwgd2UgY2FuIHNlbGVjdCBpdCBub3cuCiAgICBpZiAoZGF0YS5zY2hlbWEuaXNPYmplY3QodmFsdWUuaXRlbSkpIHsKICAgICAgcmV0dXJuIFBvc2l0aW9uLl9jcmVhdGVBdCh2YWx1ZS5pdGVtLCBkYXRhLmlzRm9yd2FyZCA/ICdhZnRlcicgOiAnYmVmb3JlJyk7CiAgICB9IC8vIElmIHRleHQgYWxsb3dlZCBvbiB0aGlzIHBvc2l0aW9uLCBleHRlbmQgdG8gdGhpcyBwbGFjZS4KCgogICAgaWYgKGRhdGEuc2NoZW1hLmNoZWNrQ2hpbGQodmFsdWUubmV4dFBvc2l0aW9uLCAnJHRleHQnKSkgewogICAgICByZXR1cm4gdmFsdWUubmV4dFBvc2l0aW9uOwogICAgfQogIH0gLy8gTGVhdmluZyBhbiBlbGVtZW50LgogIGVsc2UgewogICAgICAvLyBJZiBsZWF2aW5nIGEgbGltaXQgZWxlbWVudCwgc3RvcC4KICAgICAgaWYgKGRhdGEuc2NoZW1hLmlzTGltaXQodmFsdWUuaXRlbSkpIHsKICAgICAgICAvLyBOT1RFOiBGYXN0LWZvcndhcmQgdGhlIHdhbGtlciB1bnRpbCB0aGUgZW5kLgogICAgICAgIGRhdGEud2Fsa2VyLnNraXAoKCkgPT4gdHJ1ZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIElmIHRleHQgYWxsb3dlZCBvbiB0aGlzIHBvc2l0aW9uLCBleHRlbmQgdG8gdGhpcyBwbGFjZS4KCgogICAgICBpZiAoZGF0YS5zY2hlbWEuY2hlY2tDaGlsZCh2YWx1ZS5uZXh0UG9zaXRpb24sICckdGV4dCcpKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLm5leHRQb3NpdGlvbjsKICAgICAgfQogICAgfQp9IC8vIEZpbmRzIGEgY29ycmVjdCBwb3NpdGlvbiBieSB3YWxraW5nIGluIGEgdGV4dCBub2RlIGFuZCBjaGVja2luZyB3aGV0aGVyIHNlbGVjdGlvbiBjYW4gYmUgZXh0ZW5kZWQgdG8gZ2l2ZW4gcG9zaXRpb24KLy8gb3Igc2hvdWxkIGJlIGV4dGVuZGVkIGZ1cnRoZXIuCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC90cmVld2Fsa2VyflRyZWVXYWxrZXJ9IHdhbGtlcgovLyBAcGFyYW0ge1N0cmluZ30gdW5pdCBUaGUgdW5pdCBieSB3aGljaCBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vZGlmaWVkLgoKCmZ1bmN0aW9uIGdldENvcnJlY3RQb3NpdGlvbih3YWxrZXIsIHVuaXQpIHsKICBjb25zdCB0ZXh0Tm9kZSA9IHdhbGtlci5wb3NpdGlvbi50ZXh0Tm9kZTsKCiAgaWYgKHRleHROb2RlKSB7CiAgICBjb25zdCBkYXRhID0gdGV4dE5vZGUuZGF0YTsKICAgIGxldCBvZmZzZXQgPSB3YWxrZXIucG9zaXRpb24ub2Zmc2V0IC0gdGV4dE5vZGUuc3RhcnRPZmZzZXQ7CgogICAgd2hpbGUgKGlzSW5zaWRlU3Vycm9nYXRlUGFpcihkYXRhLCBvZmZzZXQpIHx8IHVuaXQgPT0gJ2NoYXJhY3RlcicgJiYgaXNJbnNpZGVDb21iaW5lZFN5bWJvbChkYXRhLCBvZmZzZXQpKSB7CiAgICAgIHdhbGtlci5uZXh0KCk7CiAgICAgIG9mZnNldCA9IHdhbGtlci5wb3NpdGlvbi5vZmZzZXQgLSB0ZXh0Tm9kZS5zdGFydE9mZnNldDsKICAgIH0KICB9CgogIHJldHVybiB3YWxrZXIucG9zaXRpb247Cn0gLy8gRmluZHMgYSBjb3JyZWN0IHBvc2l0aW9uIG9mIGEgd29yZCBicmVhayBieSB3YWxraW5nIGluIGEgdGV4dCBub2RlIGFuZCBjaGVja2luZyB3aGV0aGVyIHNlbGVjdGlvbiBjYW4gYmUgZXh0ZW5kZWQgdG8gZ2l2ZW4gcG9zaXRpb24KLy8gb3Igc2hvdWxkIGJlIGV4dGVuZGVkIGZ1cnRoZXIuCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC90cmVld2Fsa2VyflRyZWVXYWxrZXJ9IHdhbGtlcgovLyBAcGFyYW0ge0Jvb2xlYW59IGlzRm9yd2FyZCBJcyB0aGUgZGlyZWN0aW9uIGluIHdoaWNoIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vZGlmaWVkIGlzIGZvcndhcmQuCgoKZnVuY3Rpb24gZ2V0Q29ycmVjdFdvcmRCcmVha1Bvc2l0aW9uKHdhbGtlciwgaXNGb3J3YXJkKSB7CiAgbGV0IHRleHROb2RlID0gd2Fsa2VyLnBvc2l0aW9uLnRleHROb2RlOwoKICBpZiAodGV4dE5vZGUpIHsKICAgIGxldCBvZmZzZXQgPSB3YWxrZXIucG9zaXRpb24ub2Zmc2V0IC0gdGV4dE5vZGUuc3RhcnRPZmZzZXQ7CgogICAgd2hpbGUgKCFpc0F0V29yZEJvdW5kYXJ5KHRleHROb2RlLmRhdGEsIG9mZnNldCwgaXNGb3J3YXJkKSAmJiAhaXNBdE5vZGVCb3VuZGFyeSh0ZXh0Tm9kZSwgb2Zmc2V0LCBpc0ZvcndhcmQpKSB7CiAgICAgIHdhbGtlci5uZXh0KCk7IC8vIENoZWNrIG9mIGFkamFjZW50IHRleHQgbm9kZXMgd2l0aCBkaWZmZXJlbnQgYXR0cmlidXRlcyAobGlrZSBCT0xEKS4KICAgICAgLy8gRXhhbXBsZSAgICAgICAgICA6ICdmb29mb28gW11iYXI8JHRleHQgYm9sZD0idHJ1ZSI+YmFyPC8kdGV4dD4gYmF6YmF6JwogICAgICAvLyBzaG91bGQgZXhwYW5kIHRvIDogJ2Zvb2ZvbyBbYmFyPCR0ZXh0IGJvbGQ9InRydWUiPmJhcjwvJHRleHQ+XSBiYXpiYXonLgoKICAgICAgY29uc3QgbmV4dE5vZGUgPSBpc0ZvcndhcmQgPyB3YWxrZXIucG9zaXRpb24ubm9kZUFmdGVyIDogd2Fsa2VyLnBvc2l0aW9uLm5vZGVCZWZvcmU7IC8vIFNjYW4gb25seSB0ZXh0IG5vZGVzLiBJZ25vcmUgaW5saW5lIGVsZW1lbnRzIChsaWtlIGA8c29mdEJyZWFrPmApLgoKICAgICAgaWYgKG5leHROb2RlICYmIG5leHROb2RlLmlzKCd0ZXh0JykpIHsKICAgICAgICAvLyBDaGVjayBib3VuZGFyeSBjaGFyIG9mIGFuIGFkamFjZW50IHRleHQgbm9kZS4KICAgICAgICBjb25zdCBib3VuZGFyeUNoYXIgPSBuZXh0Tm9kZS5kYXRhLmNoYXJBdChpc0ZvcndhcmQgPyAwIDogbmV4dE5vZGUuZGF0YS5sZW5ndGggLSAxKTsgLy8gR28gdG8gdGhlIG5leHQgbm9kZSBpZiB0aGUgY2hhcmFjdGVyIGF0IHRoZSBib3VuZGFyeSBvZiB0aGF0IG5vZGUgYmVsb25ncyB0byB0aGUgc2FtZSB3b3JkLgoKICAgICAgICBpZiAoIXdvcmRCb3VuZGFyeUNoYXJhY3RlcnMuaW5jbHVkZXMoYm91bmRhcnlDaGFyKSkgewogICAgICAgICAgLy8gSWYgYWRqYWNlbnQgdGV4dCBub2RlIGJlbG9uZ3MgdG8gdGhlIHNhbWUgd29yZCBnbyB0byBpdCAmIHJlc2V0IHZhbHVlcy4KICAgICAgICAgIHdhbGtlci5uZXh0KCk7CiAgICAgICAgICB0ZXh0Tm9kZSA9IHdhbGtlci5wb3NpdGlvbi50ZXh0Tm9kZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG9mZnNldCA9IHdhbGtlci5wb3NpdGlvbi5vZmZzZXQgLSB0ZXh0Tm9kZS5zdGFydE9mZnNldDsKICAgIH0KICB9CgogIHJldHVybiB3YWxrZXIucG9zaXRpb247Cn0KCmZ1bmN0aW9uIGdldFNlYXJjaFJhbmdlKHN0YXJ0LCBpc0ZvcndhcmQpIHsKICBjb25zdCByb290ID0gc3RhcnQucm9vdDsKCiAgY29uc3Qgc2VhcmNoRW5kID0gUG9zaXRpb24uX2NyZWF0ZUF0KHJvb3QsIGlzRm9yd2FyZCA/ICdlbmQnIDogMCk7CgogIGlmIChpc0ZvcndhcmQpIHsKICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQsIHNlYXJjaEVuZCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBuZXcgUmFuZ2Uoc2VhcmNoRW5kLCBzdGFydCk7CiAgfQp9IC8vIENoZWNrcyBpZiBzZWxlY3Rpb24gaXMgb24gd29yZCBib3VuZGFyeS4KLy8KLy8gQHBhcmFtIHtTdHJpbmd9IGRhdGEgVGhlIHRleHQgbm9kZSB2YWx1ZSB0byBpbnZlc3RpZ2F0ZS4KLy8gQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBQb3NpdGlvbiBvZmZzZXQuCi8vIEBwYXJhbSB7Qm9vbGVhbn0gaXNGb3J3YXJkIElzIHRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIHNlbGVjdGlvbiBzaG91bGQgYmUgbW9kaWZpZWQgaXMgZm9yd2FyZC4KCgpmdW5jdGlvbiBpc0F0V29yZEJvdW5kYXJ5KGRhdGEsIG9mZnNldCwgaXNGb3J3YXJkKSB7CiAgLy8gVGhlIG9mZnNldCB0byBjaGVjayBkZXBlbmRzIG9uIGRpcmVjdGlvbi4KICBjb25zdCBvZmZzZXRUb0NoZWNrID0gb2Zmc2V0ICsgKGlzRm9yd2FyZCA/IDAgOiAtMSk7CiAgcmV0dXJuIHdvcmRCb3VuZGFyeUNoYXJhY3RlcnMuaW5jbHVkZXMoZGF0YS5jaGFyQXQob2Zmc2V0VG9DaGVjaykpOwp9IC8vIENoZWNrcyBpZiBzZWxlY3Rpb24gaXMgb24gbm9kZSBib3VuZGFyeS4KLy8KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3RleHR+VGV4dH0gdGV4dE5vZGUgVGhlIHRleHQgbm9kZSB0byBpbnZlc3RpZ2F0ZS4KLy8gQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBQb3NpdGlvbiBvZmZzZXQuCi8vIEBwYXJhbSB7Qm9vbGVhbn0gaXNGb3J3YXJkIElzIHRoZSBkaXJlY3Rpb24gaW4gd2hpY2ggdGhlIHNlbGVjdGlvbiBzaG91bGQgYmUgbW9kaWZpZWQgaXMgZm9yd2FyZC4KCgpmdW5jdGlvbiBpc0F0Tm9kZUJvdW5kYXJ5KHRleHROb2RlLCBvZmZzZXQsIGlzRm9yd2FyZCkgewogIHJldHVybiBvZmZzZXQgPT09IChpc0ZvcndhcmQgPyB0ZXh0Tm9kZS5lbmRPZmZzZXQgOiAwKTsKfQ=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/utils/modifyselection.js"],"names":["Position","TreeWalker","Range","isInsideSurrogatePair","isInsideCombinedSymbol","DocumentSelection","wordBoundaryCharacters","modifySelection","model","selection","options","schema","isForward","direction","unit","focus","walker","boundaries","getSearchRange","singleCharacters","data","next","done","position","tryExtendingTo","value","change","writer","setSelectionFocus","setFocus","type","getCorrectWordBreakPosition","getCorrectPosition","isObject","item","_createAt","checkChild","nextPosition","isLimit","skip","textNode","offset","startOffset","isAtWordBoundary","isAtNodeBoundary","nextNode","nodeAfter","nodeBefore","is","boundaryChar","charAt","length","includes","start","root","searchEnd","offsetToCheck","endOffset"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/utils/modifyselection\n */\n\nimport Position from '../position';\nimport TreeWalker from '../treewalker';\nimport Range from '../range';\nimport { isInsideSurrogatePair, isInsideCombinedSymbol } from '@ckeditor/ckeditor5-utils/src/unicode';\nimport DocumentSelection from '../documentselection';\n\nconst wordBoundaryCharacters = ' ,.?!:;\"-()';\n\n/**\n * Modifies the selection. Currently, the supported modifications are:\n *\n * * Extending. The selection focus is moved in the specified `options.direction` with a step specified in `options.unit`.\n * Possible values for `unit` are:\n *  * `'character'` (default) - moves selection by one user-perceived character. In most cases this means moving by one\n *  character in `String` sense. However, unicode also defines \"combing marks\". These are special symbols, that combines\n *  with a symbol before it (\"base character\") to create one user-perceived character. For example, `q̣̇` is a normal\n *  letter `q` with two \"combining marks\": upper dot (`Ux0307`) and lower dot (`Ux0323`). For most actions, i.e. extending\n *  selection by one position, it is correct to include both \"base character\" and all of it's \"combining marks\". That is\n *  why `'character'` value is most natural and common method of modifying selection.\n *  * `'codePoint'` - moves selection by one unicode code point. In contrary to, `'character'` unit, this will insert\n *  selection between \"base character\" and \"combining mark\", because \"combining marks\" have their own unicode code points.\n *  However, for technical reasons, unicode code points with values above `UxFFFF` are represented in native `String` by\n *  two characters, called \"surrogate pairs\". Halves of \"surrogate pairs\" have a meaning only when placed next to each other.\n *  For example `𨭎` is represented in `String` by `\\uD862\\uDF4E`. Both `\\uD862` and `\\uDF4E` do not have any meaning\n *  outside the pair (are rendered as ? when alone). Position between them would be incorrect. In this case, selection\n *  extension will include whole \"surrogate pair\".\n *  * `'word'` - moves selection by a whole word.\n *\n * **Note:** if you extend a forward selection in a backward direction you will in fact shrink it.\n *\n * **Note:** Use {@link module:engine/model/model~Model#modifySelection} instead of this function.\n * This function is only exposed to be reusable in algorithms\n * which change the {@link module:engine/model/model~Model#modifySelection}\n * method's behavior.\n *\n * @param {module:engine/model/model~Model} model The model in context of which\n * the selection modification should be performed.\n * @param {module:engine/model/selection~Selection|module:engine/model/documentselection~DocumentSelection} selection\n * The selection to modify.\n * @param {Object} [options]\n * @param {'forward'|'backward'} [options.direction='forward'] The direction in which the selection should be modified.\n * @param {'character'|'codePoint'|'word'} [options.unit='character'] The unit by which selection should be modified.\n */\nexport default function modifySelection( model, selection, options = {} ) {\n\tconst schema = model.schema;\n\tconst isForward = options.direction != 'backward';\n\tconst unit = options.unit ? options.unit : 'character';\n\n\tconst focus = selection.focus;\n\n\tconst walker = new TreeWalker( {\n\t\tboundaries: getSearchRange( focus, isForward ),\n\t\tsingleCharacters: true,\n\t\tdirection: isForward ? 'forward' : 'backward'\n\t} );\n\n\tconst data = { walker, schema, isForward, unit };\n\n\tlet next;\n\n\twhile ( ( next = walker.next() ) ) {\n\t\tif ( next.done ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst position = tryExtendingTo( data, next.value );\n\n\t\tif ( position ) {\n\t\t\tif ( selection instanceof DocumentSelection ) {\n\t\t\t\tmodel.change( writer => {\n\t\t\t\t\twriter.setSelectionFocus( position );\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\tselection.setFocus( position );\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// Checks whether the selection can be extended to the the walker's next value (next position).\n// @param {{ walker, unit, isForward, schema }} data\n// @param {module:engine/view/treewalker~TreeWalkerValue} value\nfunction tryExtendingTo( data, value ) {\n\t// If found text, we can certainly put the focus in it. Let's just find a correct position\n\t// based on the unit.\n\tif ( value.type == 'text' ) {\n\t\tif ( data.unit === 'word' ) {\n\t\t\treturn getCorrectWordBreakPosition( data.walker, data.isForward );\n\t\t}\n\n\t\treturn getCorrectPosition( data.walker, data.unit, data.isForward );\n\t}\n\n\t// Entering an element.\n\tif ( value.type == ( data.isForward ? 'elementStart' : 'elementEnd' ) ) {\n\t\t// If it's an object, we can select it now.\n\t\tif ( data.schema.isObject( value.item ) ) {\n\t\t\treturn Position._createAt( value.item, data.isForward ? 'after' : 'before' );\n\t\t}\n\n\t\t// If text allowed on this position, extend to this place.\n\t\tif ( data.schema.checkChild( value.nextPosition, '$text' ) ) {\n\t\t\treturn value.nextPosition;\n\t\t}\n\t}\n\t// Leaving an element.\n\telse {\n\t\t// If leaving a limit element, stop.\n\t\tif ( data.schema.isLimit( value.item ) ) {\n\t\t\t// NOTE: Fast-forward the walker until the end.\n\t\t\tdata.walker.skip( () => true );\n\n\t\t\treturn;\n\t\t}\n\n\t\t// If text allowed on this position, extend to this place.\n\t\tif ( data.schema.checkChild( value.nextPosition, '$text' ) ) {\n\t\t\treturn value.nextPosition;\n\t\t}\n\t}\n}\n\n// Finds a correct position by walking in a text node and checking whether selection can be extended to given position\n// or should be extended further.\n//\n// @param {module:engine/model/treewalker~TreeWalker} walker\n// @param {String} unit The unit by which selection should be modified.\nfunction getCorrectPosition( walker, unit ) {\n\tconst textNode = walker.position.textNode;\n\n\tif ( textNode ) {\n\t\tconst data = textNode.data;\n\t\tlet offset = walker.position.offset - textNode.startOffset;\n\n\t\twhile ( isInsideSurrogatePair( data, offset ) || ( unit == 'character' && isInsideCombinedSymbol( data, offset ) ) ) {\n\t\t\twalker.next();\n\n\t\t\toffset = walker.position.offset - textNode.startOffset;\n\t\t}\n\t}\n\n\treturn walker.position;\n}\n\n// Finds a correct position of a word break by walking in a text node and checking whether selection can be extended to given position\n// or should be extended further.\n//\n// @param {module:engine/model/treewalker~TreeWalker} walker\n// @param {Boolean} isForward Is the direction in which the selection should be modified is forward.\nfunction getCorrectWordBreakPosition( walker, isForward ) {\n\tlet textNode = walker.position.textNode;\n\n\tif ( textNode ) {\n\t\tlet offset = walker.position.offset - textNode.startOffset;\n\n\t\twhile ( !isAtWordBoundary( textNode.data, offset, isForward ) && !isAtNodeBoundary( textNode, offset, isForward ) ) {\n\t\t\twalker.next();\n\n\t\t\t// Check of adjacent text nodes with different attributes (like BOLD).\n\t\t\t// Example          : 'foofoo []bar<$text bold=\"true\">bar</$text> bazbaz'\n\t\t\t// should expand to : 'foofoo [bar<$text bold=\"true\">bar</$text>] bazbaz'.\n\t\t\tconst nextNode = isForward ? walker.position.nodeAfter : walker.position.nodeBefore;\n\n\t\t\t// Scan only text nodes. Ignore inline elements (like `<softBreak>`).\n\t\t\tif ( nextNode && nextNode.is( 'text' ) ) {\n\t\t\t\t// Check boundary char of an adjacent text node.\n\t\t\t\tconst boundaryChar = nextNode.data.charAt( isForward ? 0 : nextNode.data.length - 1 );\n\n\t\t\t\t// Go to the next node if the character at the boundary of that node belongs to the same word.\n\t\t\t\tif ( !wordBoundaryCharacters.includes( boundaryChar ) ) {\n\t\t\t\t\t// If adjacent text node belongs to the same word go to it & reset values.\n\t\t\t\t\twalker.next();\n\n\t\t\t\t\ttextNode = walker.position.textNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toffset = walker.position.offset - textNode.startOffset;\n\t\t}\n\t}\n\n\treturn walker.position;\n}\n\nfunction getSearchRange( start, isForward ) {\n\tconst root = start.root;\n\tconst searchEnd = Position._createAt( root, isForward ? 'end' : 0 );\n\n\tif ( isForward ) {\n\t\treturn new Range( start, searchEnd );\n\t} else {\n\t\treturn new Range( searchEnd, start );\n\t}\n}\n\n// Checks if selection is on word boundary.\n//\n// @param {String} data The text node value to investigate.\n// @param {Number} offset Position offset.\n// @param {Boolean} isForward Is the direction in which the selection should be modified is forward.\nfunction isAtWordBoundary( data, offset, isForward ) {\n\t// The offset to check depends on direction.\n\tconst offsetToCheck = offset + ( isForward ? 0 : -1 );\n\n\treturn wordBoundaryCharacters.includes( data.charAt( offsetToCheck ) );\n}\n\n// Checks if selection is on node boundary.\n//\n// @param {module:engine/model/text~Text} textNode The text node to investigate.\n// @param {Number} offset Position offset.\n// @param {Boolean} isForward Is the direction in which the selection should be modified is forward.\nfunction isAtNodeBoundary( textNode, offset, isForward ) {\n\treturn offset === ( isForward ? textNode.endOffset : 0 );\n}\n"]}]}