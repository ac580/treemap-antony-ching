{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestylecommand.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestylecommand.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGltYWdlL2ltYWdlc3R5bGUvaW1hZ2VzdHlsZWNvbW1hbmQKICovCmltcG9ydCBDb21tYW5kIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvY29tbWFuZCc7CmltcG9ydCB7IGlzSW1hZ2UgfSBmcm9tICcuLi9pbWFnZS91dGlscyc7Ci8qKgogKiBUaGUgaW1hZ2Ugc3R5bGUgY29tbWFuZC4gSXQgaXMgdXNlZCB0byBhcHBseSBkaWZmZXJlbnQgaW1hZ2Ugc3R5bGVzLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9jb21tYW5kfkNvbW1hbmQKICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVN0eWxlQ29tbWFuZCBleHRlbmRzIENvbW1hbmQgewogIC8qKgogICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIGltYWdlIHN0eWxlIGNvbW1hbmQuIEVhY2ggY29tbWFuZCBpbnN0YW5jZSBpcyBoYW5kbGluZyBvbmUgc3R5bGUuCiAgICoKICAgKiBAcGFyYW0ge21vZHVsZTpjb3JlL2VkaXRvci9lZGl0b3J+RWRpdG9yfSBlZGl0b3IgVGhlIGVkaXRvciBpbnN0YW5jZS4KICAgKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6aW1hZ2UvaW1hZ2VzdHlsZS9pbWFnZXN0eWxlZWRpdGluZ35JbWFnZVN0eWxlRm9ybWF0Pn0gc3R5bGVzIFRoZSBzdHlsZXMgdGhhdCB0aGlzIGNvbW1hbmQgc3VwcG9ydHMuCiAgICovCiAgY29uc3RydWN0b3IoZWRpdG9yLCBzdHlsZXMpIHsKICAgIHN1cGVyKGVkaXRvcik7CiAgICAvKioKICAgICAqIFRoZSBuYW1lIG9mIHRoZSBkZWZhdWx0IHN0eWxlLCBpZiBpdCBpcyBwcmVzZW50LiBJZiB0aGVyZSBpcyBubyBkZWZhdWx0IHN0eWxlLCBpdCBkZWZhdWx0cyB0byBgZmFsc2VgLgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQHR5cGUge0Jvb2xlYW58U3RyaW5nfQogICAgICovCgogICAgdGhpcy5kZWZhdWx0U3R5bGUgPSBmYWxzZTsKICAgIC8qKgogICAgICogQSBzdHlsZSBoYW5kbGVkIGJ5IHRoaXMgY29tbWFuZC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge0FycmF5Ljxtb2R1bGU6aW1hZ2UvaW1hZ2VzdHlsZS9pbWFnZXN0eWxlZWRpdGluZ35JbWFnZVN0eWxlRm9ybWF0Pn0gI3N0eWxlcwogICAgICovCgogICAgdGhpcy5zdHlsZXMgPSBzdHlsZXMucmVkdWNlKChzdHlsZXMsIHN0eWxlKSA9PiB7CiAgICAgIHN0eWxlc1tzdHlsZS5uYW1lXSA9IHN0eWxlOwoKICAgICAgaWYgKHN0eWxlLmlzRGVmYXVsdCkgewogICAgICAgIHRoaXMuZGVmYXVsdFN0eWxlID0gc3R5bGUubmFtZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0eWxlczsKICAgIH0sIHt9KTsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIHJlZnJlc2goKSB7CiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpOwogICAgdGhpcy5pc0VuYWJsZWQgPSBpc0ltYWdlKGVsZW1lbnQpOwoKICAgIGlmICghZWxlbWVudCkgewogICAgICB0aGlzLnZhbHVlID0gZmFsc2U7CiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdpbWFnZVN0eWxlJykpIHsKICAgICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaW1hZ2VTdHlsZScpOwogICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHlsZXNbYXR0cmlidXRlVmFsdWVdID8gYXR0cmlidXRlVmFsdWUgOiBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmRlZmF1bHRTdHlsZTsKICAgIH0KICB9CiAgLyoqCiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuCiAgICoKICAgKgkJZWRpdG9yLmV4ZWN1dGUoICdpbWFnZVN0eWxlJywgeyB2YWx1ZTogJ3NpZGUnIH0gKTsKICAgKgogICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zCiAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMudmFsdWUgVGhlIG5hbWUgb2YgdGhlIHN0eWxlIChiYXNlZCBvbiB0aGUKICAgKiB7QGxpbmsgbW9kdWxlOmltYWdlL2ltYWdlfkltYWdlQ29uZmlnI3N0eWxlcyBgaW1hZ2Uuc3R5bGVzYH0gY29uZmlndXJhdGlvbiBvcHRpb24pLgogICAqIEBmaXJlcyBleGVjdXRlCiAgICovCgoKICBleGVjdXRlKG9wdGlvbnMpIHsKICAgIGNvbnN0IHN0eWxlTmFtZSA9IG9wdGlvbnMudmFsdWU7CiAgICBjb25zdCBtb2RlbCA9IHRoaXMuZWRpdG9yLm1vZGVsOwogICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gbW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpOwogICAgbW9kZWwuY2hhbmdlKHdyaXRlciA9PiB7CiAgICAgIC8vIERlZmF1bHQgc3R5bGUgbWVhbnMgdGhhdCB0aGVyZSBpcyBubyBgaW1hZ2VTdHlsZWAgYXR0cmlidXRlIGluIHRoZSBtb2RlbC4KICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS1pbWFnZS9pc3N1ZXMvMTQ3CiAgICAgIGlmICh0aGlzLnN0eWxlc1tzdHlsZU5hbWVdLmlzRGVmYXVsdCkgewogICAgICAgIHdyaXRlci5yZW1vdmVBdHRyaWJ1dGUoJ2ltYWdlU3R5bGUnLCBpbWFnZUVsZW1lbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoJ2ltYWdlU3R5bGUnLCBzdHlsZU5hbWUsIGltYWdlRWxlbWVudCk7CiAgICAgIH0KICAgIH0pOwogIH0KCn0="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/imagestyle/imagestylecommand.js"],"names":["Command","isImage","ImageStyleCommand","constructor","editor","styles","defaultStyle","reduce","style","name","isDefault","refresh","element","model","document","selection","getSelectedElement","isEnabled","value","hasAttribute","attributeValue","getAttribute","execute","options","styleName","imageElement","change","writer","removeAttribute","setAttribute"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,OAAP,MAAoB,sCAApB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA;;;;;;AAKA,eAAe,MAAMC,iBAAN,SAAgCF,OAAhC,CAAwC;AACtD;;;;;;AAMAG,EAAAA,WAAW,CAAEC,MAAF,EAAUC,MAAV,EAAmB;AAC7B,UAAOD,MAAP;AAEA;;;;;;;AAMA,SAAKE,YAAL,GAAoB,KAApB;AAEA;;;;;;;AAMA,SAAKD,MAAL,GAAcA,MAAM,CAACE,MAAP,CAAe,CAAEF,MAAF,EAAUG,KAAV,KAAqB;AACjDH,MAAAA,MAAM,CAAEG,KAAK,CAACC,IAAR,CAAN,GAAuBD,KAAvB;;AAEA,UAAKA,KAAK,CAACE,SAAX,EAAuB;AACtB,aAAKJ,YAAL,GAAoBE,KAAK,CAACC,IAA1B;AACA;;AAED,aAAOJ,MAAP;AACA,KARa,EAQX,EARW,CAAd;AASA;AAED;;;;;AAGAM,EAAAA,OAAO,GAAG;AACT,UAAMC,OAAO,GAAG,KAAKR,MAAL,CAAYS,KAAZ,CAAkBC,QAAlB,CAA2BC,SAA3B,CAAqCC,kBAArC,EAAhB;AAEA,SAAKC,SAAL,GAAiBhB,OAAO,CAAEW,OAAF,CAAxB;;AAEA,QAAK,CAACA,OAAN,EAAgB;AACf,WAAKM,KAAL,GAAa,KAAb;AACA,KAFD,MAEO,IAAKN,OAAO,CAACO,YAAR,CAAsB,YAAtB,CAAL,EAA4C;AAClD,YAAMC,cAAc,GAAGR,OAAO,CAACS,YAAR,CAAsB,YAAtB,CAAvB;AACA,WAAKH,KAAL,GAAa,KAAKb,MAAL,CAAae,cAAb,IAAgCA,cAAhC,GAAiD,KAA9D;AACA,KAHM,MAGA;AACN,WAAKF,KAAL,GAAa,KAAKZ,YAAlB;AACA;AACD;AAED;;;;;;;;;;;;AAUAgB,EAAAA,OAAO,CAAEC,OAAF,EAAY;AAClB,UAAMC,SAAS,GAAGD,OAAO,CAACL,KAA1B;AAEA,UAAML,KAAK,GAAG,KAAKT,MAAL,CAAYS,KAA1B;AACA,UAAMY,YAAY,GAAGZ,KAAK,CAACC,QAAN,CAAeC,SAAf,CAAyBC,kBAAzB,EAArB;AAEAH,IAAAA,KAAK,CAACa,MAAN,CAAcC,MAAM,IAAI;AACvB;AACA;AACA,UAAK,KAAKtB,MAAL,CAAamB,SAAb,EAAyBd,SAA9B,EAA0C;AACzCiB,QAAAA,MAAM,CAACC,eAAP,CAAwB,YAAxB,EAAsCH,YAAtC;AACA,OAFD,MAEO;AACNE,QAAAA,MAAM,CAACE,YAAP,CAAqB,YAArB,EAAmCL,SAAnC,EAA8CC,YAA9C;AACA;AACD,KARD;AASA;;AA9EqD","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module image/imagestyle/imagestylecommand\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command';\nimport { isImage } from '../image/utils';\n\n/**\n * The image style command. It is used to apply different image styles.\n *\n * @extends module:core/command~Command\n */\nexport default class ImageStyleCommand extends Command {\n\t/**\n\t * Creates an instance of the image style command. Each command instance is handling one style.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor The editor instance.\n\t * @param {Array.<module:image/imagestyle/imagestyleediting~ImageStyleFormat>} styles The styles that this command supports.\n\t */\n\tconstructor( editor, styles ) {\n\t\tsuper( editor );\n\n\t\t/**\n\t\t * The name of the default style, if it is present. If there is no default style, it defaults to `false`.\n\t\t *\n\t\t * @readonly\n\t\t * @type {Boolean|String}\n\t\t */\n\t\tthis.defaultStyle = false;\n\n\t\t/**\n\t\t * A style handled by this command.\n\t\t *\n\t\t * @readonly\n\t\t * @member {Array.<module:image/imagestyle/imagestyleediting~ImageStyleFormat>} #styles\n\t\t */\n\t\tthis.styles = styles.reduce( ( styles, style ) => {\n\t\t\tstyles[ style.name ] = style;\n\n\t\t\tif ( style.isDefault ) {\n\t\t\t\tthis.defaultStyle = style.name;\n\t\t\t}\n\n\t\t\treturn styles;\n\t\t}, {} );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trefresh() {\n\t\tconst element = this.editor.model.document.selection.getSelectedElement();\n\n\t\tthis.isEnabled = isImage( element );\n\n\t\tif ( !element ) {\n\t\t\tthis.value = false;\n\t\t} else if ( element.hasAttribute( 'imageStyle' ) ) {\n\t\t\tconst attributeValue = element.getAttribute( 'imageStyle' );\n\t\t\tthis.value = this.styles[ attributeValue ] ? attributeValue : false;\n\t\t} else {\n\t\t\tthis.value = this.defaultStyle;\n\t\t}\n\t}\n\n\t/**\n\t * Executes the command.\n\t *\n\t *\t\teditor.execute( 'imageStyle', { value: 'side' } );\n\t *\n\t * @param {Object} options\n\t * @param {String} options.value The name of the style (based on the\n\t * {@link module:image/image~ImageConfig#styles `image.styles`} configuration option).\n\t * @fires execute\n\t */\n\texecute( options ) {\n\t\tconst styleName = options.value;\n\n\t\tconst model = this.editor.model;\n\t\tconst imageElement = model.document.selection.getSelectedElement();\n\n\t\tmodel.change( writer => {\n\t\t\t// Default style means that there is no `imageStyle` attribute in the model.\n\t\t\t// https://github.com/ckeditor/ckeditor5-image/issues/147\n\t\t\tif ( this.styles[ styleName ].isDefault ) {\n\t\t\t\twriter.removeAttribute( 'imageStyle', imageElement );\n\t\t\t} else {\n\t\t\t\twriter.setAttribute( 'imageStyle', styleName, imageElement );\n\t\t\t}\n\t\t} );\n\t}\n}\n"]}]}