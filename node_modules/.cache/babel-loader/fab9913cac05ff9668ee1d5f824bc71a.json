{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-list/src/listediting.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-list/src/listediting.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGxpc3QvbGlzdGVkaXRpbmcKICovCmltcG9ydCBMaXN0Q29tbWFuZCBmcm9tICcuL2xpc3Rjb21tYW5kJzsKaW1wb3J0IEluZGVudENvbW1hbmQgZnJvbSAnLi9pbmRlbnRjb21tYW5kJzsKaW1wb3J0IFBsdWdpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWNvcmUvc3JjL3BsdWdpbic7CmltcG9ydCBQYXJhZ3JhcGggZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1wYXJhZ3JhcGgvc3JjL3BhcmFncmFwaCc7CmltcG9ydCB7IGNsZWFuTGlzdCwgY2xlYW5MaXN0SXRlbSwgbW9kZWxWaWV3SW5zZXJ0aW9uLCBtb2RlbFZpZXdDaGFuZ2VUeXBlLCBtb2RlbFZpZXdNZXJnZUFmdGVyQ2hhbmdlVHlwZSwgbW9kZWxWaWV3TWVyZ2VBZnRlciwgbW9kZWxWaWV3UmVtb3ZlLCBtb2RlbFZpZXdTcGxpdE9uSW5zZXJ0LCBtb2RlbFZpZXdDaGFuZ2VJbmRlbnQsIG1vZGVsQ2hhbmdlUG9zdEZpeGVyLCBtb2RlbEluZGVudFBhc3RlRml4ZXIsIHZpZXdNb2RlbENvbnZlcnRlciwgbW9kZWxUb1ZpZXdQb3NpdGlvbiwgdmlld1RvTW9kZWxQb3NpdGlvbiB9IGZyb20gJy4vY29udmVydGVycyc7Ci8qKgogKiBUaGUgZW5naW5lIG9mIHRoZSBsaXN0IGZlYXR1cmUuIEl0IGhhbmRsZXMgY3JlYXRpbmcsIGVkaXRpbmcgYW5kIHJlbW92aW5nIGxpc3RzIGFuZCBsaXN0IGl0ZW1zLgogKgogKiBJdCByZWdpc3RlcnMgdGhlIGAnbnVtYmVyZWRMaXN0J2AsIGAnYnVsbGV0ZWRMaXN0J2AsIGAnaW5kZW50TGlzdCdgIGFuZCBgJ291dGRlbnRMaXN0J2AgY29tbWFuZHMuCiAqCiAqIEBleHRlbmRzIG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW4KICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0RWRpdGluZyBleHRlbmRzIFBsdWdpbiB7CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICBzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKSB7CiAgICByZXR1cm4gJ0xpc3RFZGl0aW5nJzsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIHN0YXRpYyBnZXQgcmVxdWlyZXMoKSB7CiAgICByZXR1cm4gW1BhcmFncmFwaF07CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBpbml0KCkgewogICAgY29uc3QgZWRpdG9yID0gdGhpcy5lZGl0b3I7IC8vIFNjaGVtYS4KICAgIC8vIE5vdGU6IGluIGNhc2UgYCRibG9ja2Agd2lsbCBldmVyIGJlIGFsbG93ZWQgaW4gYGxpc3RJdGVtYCwga2VlcCBpbiBtaW5kIHRoYXQgdGhpcyBmZWF0dXJlCiAgICAvLyB1c2VzIGBTZWxlY3Rpb24jZ2V0U2VsZWN0ZWRCbG9ja3MoKWAgd2l0aG91dCBhbnkgYWRkaXRpb25hbCBwcm9jZXNzaW5nIHRvIG9idGFpbiBhbGwgc2VsZWN0ZWQgbGlzdCBpdGVtcy4KICAgIC8vIElmIHRoZXJlIGFyZSBibG9ja3MgYWxsb3dlZCBpbnNpZGUgbGlzdCBpdGVtLCBhbGdvcml0aG1zIHVzaW5nIGBnZXRTZWxlY3RlZEJsb2NrcygpYCB3aWxsIGhhdmUgdG8gYmUgbW9kaWZpZWQuCgogICAgZWRpdG9yLm1vZGVsLnNjaGVtYS5yZWdpc3RlcignbGlzdEl0ZW0nLCB7CiAgICAgIGluaGVyaXRBbGxGcm9tOiAnJGJsb2NrJywKICAgICAgYWxsb3dBdHRyaWJ1dGVzOiBbJ2xpc3RUeXBlJywgJ2xpc3RJbmRlbnQnXQogICAgfSk7IC8vIENvbnZlcnRlcnMuCgogICAgY29uc3QgZGF0YSA9IGVkaXRvci5kYXRhOwogICAgY29uc3QgZWRpdGluZyA9IGVkaXRvci5lZGl0aW5nOwogICAgZWRpdG9yLm1vZGVsLmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKHdyaXRlciA9PiBtb2RlbENoYW5nZVBvc3RGaXhlcihlZGl0b3IubW9kZWwsIHdyaXRlcikpOwogICAgZWRpdGluZy5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aCgnbGknLCBnZXRWaWV3TGlzdEl0ZW1MZW5ndGgpOwogICAgZGF0YS5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aCgnbGknLCBnZXRWaWV3TGlzdEl0ZW1MZW5ndGgpOwogICAgZWRpdGluZy5tYXBwZXIub24oJ21vZGVsVG9WaWV3UG9zaXRpb24nLCBtb2RlbFRvVmlld1Bvc2l0aW9uKGVkaXRpbmcudmlldykpOwogICAgZWRpdGluZy5tYXBwZXIub24oJ3ZpZXdUb01vZGVsUG9zaXRpb24nLCB2aWV3VG9Nb2RlbFBvc2l0aW9uKGVkaXRvci5tb2RlbCkpOwogICAgZGF0YS5tYXBwZXIub24oJ21vZGVsVG9WaWV3UG9zaXRpb24nLCBtb2RlbFRvVmlld1Bvc2l0aW9uKGVkaXRpbmcudmlldykpOwogICAgZWRpdG9yLmNvbnZlcnNpb24uZm9yKCdlZGl0aW5nRG93bmNhc3QnKS5hZGQoZGlzcGF0Y2hlciA9PiB7CiAgICAgIGRpc3BhdGNoZXIub24oJ2luc2VydCcsIG1vZGVsVmlld1NwbGl0T25JbnNlcnQsIHsKICAgICAgICBwcmlvcml0eTogJ2hpZ2gnCiAgICAgIH0pOwogICAgICBkaXNwYXRjaGVyLm9uKCdpbnNlcnQ6bGlzdEl0ZW0nLCBtb2RlbFZpZXdJbnNlcnRpb24oZWRpdG9yLm1vZGVsKSk7CiAgICAgIGRpc3BhdGNoZXIub24oJ2F0dHJpYnV0ZTpsaXN0VHlwZTpsaXN0SXRlbScsIG1vZGVsVmlld0NoYW5nZVR5cGUsIHsKICAgICAgICBwcmlvcml0eTogJ2hpZ2gnCiAgICAgIH0pOwogICAgICBkaXNwYXRjaGVyLm9uKCdhdHRyaWJ1dGU6bGlzdFR5cGU6bGlzdEl0ZW0nLCBtb2RlbFZpZXdNZXJnZUFmdGVyQ2hhbmdlVHlwZSwgewogICAgICAgIHByaW9yaXR5OiAnbG93JwogICAgICB9KTsKICAgICAgZGlzcGF0Y2hlci5vbignYXR0cmlidXRlOmxpc3RJbmRlbnQ6bGlzdEl0ZW0nLCBtb2RlbFZpZXdDaGFuZ2VJbmRlbnQoZWRpdG9yLm1vZGVsKSk7CiAgICAgIGRpc3BhdGNoZXIub24oJ3JlbW92ZTpsaXN0SXRlbScsIG1vZGVsVmlld1JlbW92ZShlZGl0b3IubW9kZWwpKTsKICAgICAgZGlzcGF0Y2hlci5vbigncmVtb3ZlJywgbW9kZWxWaWV3TWVyZ2VBZnRlciwgewogICAgICAgIHByaW9yaXR5OiAnbG93JwogICAgICB9KTsKICAgIH0pOwogICAgZWRpdG9yLmNvbnZlcnNpb24uZm9yKCdkYXRhRG93bmNhc3QnKS5hZGQoZGlzcGF0Y2hlciA9PiB7CiAgICAgIGRpc3BhdGNoZXIub24oJ2luc2VydCcsIG1vZGVsVmlld1NwbGl0T25JbnNlcnQsIHsKICAgICAgICBwcmlvcml0eTogJ2hpZ2gnCiAgICAgIH0pOwogICAgICBkaXNwYXRjaGVyLm9uKCdpbnNlcnQ6bGlzdEl0ZW0nLCBtb2RlbFZpZXdJbnNlcnRpb24oZWRpdG9yLm1vZGVsKSk7CiAgICB9KTsKICAgIGVkaXRvci5jb252ZXJzaW9uLmZvcigndXBjYXN0JykuYWRkKGRpc3BhdGNoZXIgPT4gewogICAgICBkaXNwYXRjaGVyLm9uKCdlbGVtZW50OnVsJywgY2xlYW5MaXN0LCB7CiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJwogICAgICB9KTsKICAgICAgZGlzcGF0Y2hlci5vbignZWxlbWVudDpvbCcsIGNsZWFuTGlzdCwgewogICAgICAgIHByaW9yaXR5OiAnaGlnaCcKICAgICAgfSk7CiAgICAgIGRpc3BhdGNoZXIub24oJ2VsZW1lbnQ6bGknLCBjbGVhbkxpc3RJdGVtLCB7CiAgICAgICAgcHJpb3JpdHk6ICdoaWdoJwogICAgICB9KTsKICAgICAgZGlzcGF0Y2hlci5vbignZWxlbWVudDpsaScsIHZpZXdNb2RlbENvbnZlcnRlcik7CiAgICB9KTsgLy8gRml4IGluZGVudGF0aW9uIG9mIHBhc3RlZCBpdGVtcy4KCiAgICBlZGl0b3IubW9kZWwub24oJ2luc2VydENvbnRlbnQnLCBtb2RlbEluZGVudFBhc3RlRml4ZXIsIHsKICAgICAgcHJpb3JpdHk6ICdoaWdoJwogICAgfSk7IC8vIFJlZ2lzdGVyIGNvbW1hbmRzIGZvciBudW1iZXJlZCBhbmQgYnVsbGV0ZWQgbGlzdC4KCiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdudW1iZXJlZExpc3QnLCBuZXcgTGlzdENvbW1hbmQoZWRpdG9yLCAnbnVtYmVyZWQnKSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdidWxsZXRlZExpc3QnLCBuZXcgTGlzdENvbW1hbmQoZWRpdG9yLCAnYnVsbGV0ZWQnKSk7IC8vIFJlZ2lzdGVyIGNvbW1hbmRzIGZvciBpbmRlbnRpbmcuCgogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnaW5kZW50TGlzdCcsIG5ldyBJbmRlbnRDb21tYW5kKGVkaXRvciwgJ2ZvcndhcmQnKSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdvdXRkZW50TGlzdCcsIG5ldyBJbmRlbnRDb21tYW5kKGVkaXRvciwgJ2JhY2t3YXJkJykpOwogICAgY29uc3Qgdmlld0RvY3VtZW50ID0gZWRpdGluZy52aWV3LmRvY3VtZW50OyAvLyBPdmVyd3JpdGUgZGVmYXVsdCBFbnRlciBrZXkgYmVoYXZpb3IuCiAgICAvLyBJZiBFbnRlciBrZXkgaXMgcHJlc3NlZCB3aXRoIHNlbGVjdGlvbiBjb2xsYXBzZWQgaW4gZW1wdHkgbGlzdCBpdGVtLCBvdXRkZW50IGl0IGluc3RlYWQgb2YgYnJlYWtpbmcgaXQuCgogICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdlbnRlcicsIChldnQsIGRhdGEpID0+IHsKICAgICAgY29uc3QgZG9jID0gdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQ7CiAgICAgIGNvbnN0IHBvc2l0aW9uUGFyZW50ID0gZG9jLnNlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKS5wYXJlbnQ7CgogICAgICBpZiAoZG9jLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCAmJiBwb3NpdGlvblBhcmVudC5uYW1lID09ICdsaXN0SXRlbScgJiYgcG9zaXRpb25QYXJlbnQuaXNFbXB0eSkgewogICAgICAgIHRoaXMuZWRpdG9yLmV4ZWN1dGUoJ291dGRlbnRMaXN0Jyk7CiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGV2dC5zdG9wKCk7CiAgICAgIH0KICAgIH0pOyAvLyBPdmVyd3JpdGUgZGVmYXVsdCBCYWNrc3BhY2Uga2V5IGJlaGF2aW9yLgogICAgLy8gSWYgQmFja3NwYWNlIGtleSBpcyBwcmVzc2VkIHdpdGggc2VsZWN0aW9uIGNvbGxhcHNlZCBvbiBmaXJzdCBwb3NpdGlvbiBpbiBmaXJzdCBsaXN0IGl0ZW0sIG91dGRlbnQgaXQuICM4MwoKICAgIHRoaXMubGlzdGVuVG8odmlld0RvY3VtZW50LCAnZGVsZXRlJywgKGV2dCwgZGF0YSkgPT4gewogICAgICAvLyBDaGVjayBjb25kaXRpb25zIGZyb20gdGhvc2UgdGhhdCByZXF1aXJlIGxlc3MgY29tcHV0YXRpb25zIGxpa2UgdGhvc2UgaW1tZWRpYXRlbHkgYXZhaWxhYmxlLgogICAgICBpZiAoZGF0YS5kaXJlY3Rpb24gIT09ICdiYWNrd2FyZCcpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjsKCiAgICAgIGlmICghc2VsZWN0aW9uLmlzQ29sbGFwc2VkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBmaXJzdFBvc2l0aW9uID0gc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKTsKCiAgICAgIGlmICghZmlyc3RQb3NpdGlvbi5pc0F0U3RhcnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHBvc2l0aW9uUGFyZW50ID0gZmlyc3RQb3NpdGlvbi5wYXJlbnQ7CgogICAgICBpZiAocG9zaXRpb25QYXJlbnQubmFtZSAhPT0gJ2xpc3RJdGVtJykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgcHJldmlvdXNJc0FMaXN0SXRlbSA9IHBvc2l0aW9uUGFyZW50LnByZXZpb3VzU2libGluZyAmJiBwb3NpdGlvblBhcmVudC5wcmV2aW91c1NpYmxpbmcubmFtZSA9PT0gJ2xpc3RJdGVtJzsKCiAgICAgIGlmIChwcmV2aW91c0lzQUxpc3RJdGVtKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVkaXRvci5leGVjdXRlKCdvdXRkZW50TGlzdCcpOwogICAgICBkYXRhLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGV2dC5zdG9wKCk7CiAgICB9LCB7CiAgICAgIHByaW9yaXR5OiAnaGlnaCcKICAgIH0pOwoKICAgIGNvbnN0IGdldENvbW1hbmRFeGVjdXRlciA9IGNvbW1hbmROYW1lID0+IHsKICAgICAgcmV0dXJuIChkYXRhLCBjYW5jZWwpID0+IHsKICAgICAgICBjb25zdCBjb21tYW5kID0gdGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KGNvbW1hbmROYW1lKTsKCiAgICAgICAgaWYgKGNvbW1hbmQuaXNFbmFibGVkKSB7CiAgICAgICAgICB0aGlzLmVkaXRvci5leGVjdXRlKGNvbW1hbmROYW1lKTsKICAgICAgICAgIGNhbmNlbCgpOwogICAgICAgIH0KICAgICAgfTsKICAgIH07CgogICAgZWRpdG9yLmtleXN0cm9rZXMuc2V0KCdUYWInLCBnZXRDb21tYW5kRXhlY3V0ZXIoJ2luZGVudExpc3QnKSk7CiAgICBlZGl0b3Iua2V5c3Ryb2tlcy5zZXQoJ1NoaWZ0K1RhYicsIGdldENvbW1hbmRFeGVjdXRlcignb3V0ZGVudExpc3QnKSk7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBhZnRlckluaXQoKSB7CiAgICBjb25zdCBjb21tYW5kcyA9IHRoaXMuZWRpdG9yLmNvbW1hbmRzOwogICAgY29uc3QgaW5kZW50ID0gY29tbWFuZHMuZ2V0KCdpbmRlbnQnKTsKICAgIGNvbnN0IG91dGRlbnQgPSBjb21tYW5kcy5nZXQoJ291dGRlbnQnKTsKCiAgICBpZiAoaW5kZW50KSB7CiAgICAgIGluZGVudC5yZWdpc3RlckNoaWxkQ29tbWFuZChjb21tYW5kcy5nZXQoJ2luZGVudExpc3QnKSk7CiAgICB9CgogICAgaWYgKG91dGRlbnQpIHsKICAgICAgb3V0ZGVudC5yZWdpc3RlckNoaWxkQ29tbWFuZChjb21tYW5kcy5nZXQoJ291dGRlbnRMaXN0JykpOwogICAgfQogIH0KCn0KCmZ1bmN0aW9uIGdldFZpZXdMaXN0SXRlbUxlbmd0aChlbGVtZW50KSB7CiAgbGV0IGxlbmd0aCA9IDE7CgogIGZvciAoY29uc3QgY2hpbGQgb2YgZWxlbWVudC5nZXRDaGlsZHJlbigpKSB7CiAgICBpZiAoY2hpbGQubmFtZSA9PSAndWwnIHx8IGNoaWxkLm5hbWUgPT0gJ29sJykgewogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgY2hpbGQuZ2V0Q2hpbGRyZW4oKSkgewogICAgICAgIGxlbmd0aCArPSBnZXRWaWV3TGlzdEl0ZW1MZW5ndGgoaXRlbSk7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBsZW5ndGg7Cn0="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-list/src/listediting.js"],"names":["ListCommand","IndentCommand","Plugin","Paragraph","cleanList","cleanListItem","modelViewInsertion","modelViewChangeType","modelViewMergeAfterChangeType","modelViewMergeAfter","modelViewRemove","modelViewSplitOnInsert","modelViewChangeIndent","modelChangePostFixer","modelIndentPasteFixer","viewModelConverter","modelToViewPosition","viewToModelPosition","ListEditing","pluginName","requires","init","editor","model","schema","register","inheritAllFrom","allowAttributes","data","editing","document","registerPostFixer","writer","mapper","registerViewToModelLength","getViewListItemLength","on","view","conversion","for","add","dispatcher","priority","commands","viewDocument","listenTo","evt","doc","positionParent","selection","getLastPosition","parent","isCollapsed","name","isEmpty","execute","preventDefault","stop","direction","firstPosition","getFirstPosition","isAtStart","previousIsAListItem","previousSibling","getCommandExecuter","commandName","cancel","command","get","isEnabled","keystrokes","set","afterInit","indent","outdent","registerChildCommand","element","length","child","getChildren","item"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,WAAP,MAAwB,eAAxB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAEA,OAAOC,MAAP,MAAmB,qCAAnB;AACA,OAAOC,SAAP,MAAsB,6CAAtB;AAEA,SACCC,SADD,EAECC,aAFD,EAGCC,kBAHD,EAICC,mBAJD,EAKCC,6BALD,EAMCC,mBAND,EAOCC,eAPD,EAQCC,sBARD,EASCC,qBATD,EAUCC,oBAVD,EAWCC,qBAXD,EAYCC,kBAZD,EAaCC,mBAbD,EAcCC,mBAdD,QAeO,cAfP;AAiBA;;;;;;;;AAOA,eAAe,MAAMC,WAAN,SAA0BhB,MAA1B,CAAiC;AAC/C;;;AAGA,aAAWiB,UAAX,GAAwB;AACvB,WAAO,aAAP;AACA;AAED;;;;;AAGA,aAAWC,QAAX,GAAsB;AACrB,WAAO,CAAEjB,SAAF,CAAP;AACA;AAED;;;;;AAGAkB,EAAAA,IAAI,GAAG;AACN,UAAMC,MAAM,GAAG,KAAKA,MAApB,CADM,CAGN;AACA;AACA;AACA;;AACAA,IAAAA,MAAM,CAACC,KAAP,CAAaC,MAAb,CAAoBC,QAApB,CAA8B,UAA9B,EAA0C;AACzCC,MAAAA,cAAc,EAAE,QADyB;AAEzCC,MAAAA,eAAe,EAAE,CAAE,UAAF,EAAc,YAAd;AAFwB,KAA1C,EAPM,CAYN;;AACA,UAAMC,IAAI,GAAGN,MAAM,CAACM,IAApB;AACA,UAAMC,OAAO,GAAGP,MAAM,CAACO,OAAvB;AAEAP,IAAAA,MAAM,CAACC,KAAP,CAAaO,QAAb,CAAsBC,iBAAtB,CAAyCC,MAAM,IAAInB,oBAAoB,CAAES,MAAM,CAACC,KAAT,EAAgBS,MAAhB,CAAvE;AAEAH,IAAAA,OAAO,CAACI,MAAR,CAAeC,yBAAf,CAA0C,IAA1C,EAAgDC,qBAAhD;AACAP,IAAAA,IAAI,CAACK,MAAL,CAAYC,yBAAZ,CAAuC,IAAvC,EAA6CC,qBAA7C;AAEAN,IAAAA,OAAO,CAACI,MAAR,CAAeG,EAAf,CAAmB,qBAAnB,EAA0CpB,mBAAmB,CAAEa,OAAO,CAACQ,IAAV,CAA7D;AACAR,IAAAA,OAAO,CAACI,MAAR,CAAeG,EAAf,CAAmB,qBAAnB,EAA0CnB,mBAAmB,CAAEK,MAAM,CAACC,KAAT,CAA7D;AACAK,IAAAA,IAAI,CAACK,MAAL,CAAYG,EAAZ,CAAgB,qBAAhB,EAAuCpB,mBAAmB,CAAEa,OAAO,CAACQ,IAAV,CAA1D;AAEAf,IAAAA,MAAM,CAACgB,UAAP,CAAkBC,GAAlB,CAAuB,iBAAvB,EACEC,GADF,CACOC,UAAU,IAAI;AACnBA,MAAAA,UAAU,CAACL,EAAX,CAAe,QAAf,EAAyBzB,sBAAzB,EAAiD;AAAE+B,QAAAA,QAAQ,EAAE;AAAZ,OAAjD;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,iBAAf,EAAkC9B,kBAAkB,CAAEgB,MAAM,CAACC,KAAT,CAApD;AACAkB,MAAAA,UAAU,CAACL,EAAX,CAAe,6BAAf,EAA8C7B,mBAA9C,EAAmE;AAAEmC,QAAAA,QAAQ,EAAE;AAAZ,OAAnE;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,6BAAf,EAA8C5B,6BAA9C,EAA6E;AAAEkC,QAAAA,QAAQ,EAAE;AAAZ,OAA7E;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,+BAAf,EAAgDxB,qBAAqB,CAAEU,MAAM,CAACC,KAAT,CAArE;AACAkB,MAAAA,UAAU,CAACL,EAAX,CAAe,iBAAf,EAAkC1B,eAAe,CAAEY,MAAM,CAACC,KAAT,CAAjD;AACAkB,MAAAA,UAAU,CAACL,EAAX,CAAe,QAAf,EAAyB3B,mBAAzB,EAA8C;AAAEiC,QAAAA,QAAQ,EAAE;AAAZ,OAA9C;AACA,KATF;AAWApB,IAAAA,MAAM,CAACgB,UAAP,CAAkBC,GAAlB,CAAuB,cAAvB,EACEC,GADF,CACOC,UAAU,IAAI;AACnBA,MAAAA,UAAU,CAACL,EAAX,CAAe,QAAf,EAAyBzB,sBAAzB,EAAiD;AAAE+B,QAAAA,QAAQ,EAAE;AAAZ,OAAjD;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,iBAAf,EAAkC9B,kBAAkB,CAAEgB,MAAM,CAACC,KAAT,CAApD;AACA,KAJF;AAMAD,IAAAA,MAAM,CAACgB,UAAP,CAAkBC,GAAlB,CAAuB,QAAvB,EACEC,GADF,CACOC,UAAU,IAAI;AACnBA,MAAAA,UAAU,CAACL,EAAX,CAAe,YAAf,EAA6BhC,SAA7B,EAAwC;AAAEsC,QAAAA,QAAQ,EAAE;AAAZ,OAAxC;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,YAAf,EAA6BhC,SAA7B,EAAwC;AAAEsC,QAAAA,QAAQ,EAAE;AAAZ,OAAxC;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,YAAf,EAA6B/B,aAA7B,EAA4C;AAAEqC,QAAAA,QAAQ,EAAE;AAAZ,OAA5C;AACAD,MAAAA,UAAU,CAACL,EAAX,CAAe,YAAf,EAA6BrB,kBAA7B;AACA,KANF,EA1CM,CAkDN;;AACAO,IAAAA,MAAM,CAACC,KAAP,CAAaa,EAAb,CAAiB,eAAjB,EAAkCtB,qBAAlC,EAAyD;AAAE4B,MAAAA,QAAQ,EAAE;AAAZ,KAAzD,EAnDM,CAqDN;;AACApB,IAAAA,MAAM,CAACqB,QAAP,CAAgBH,GAAhB,CAAqB,cAArB,EAAqC,IAAIxC,WAAJ,CAAiBsB,MAAjB,EAAyB,UAAzB,CAArC;AACAA,IAAAA,MAAM,CAACqB,QAAP,CAAgBH,GAAhB,CAAqB,cAArB,EAAqC,IAAIxC,WAAJ,CAAiBsB,MAAjB,EAAyB,UAAzB,CAArC,EAvDM,CAyDN;;AACAA,IAAAA,MAAM,CAACqB,QAAP,CAAgBH,GAAhB,CAAqB,YAArB,EAAmC,IAAIvC,aAAJ,CAAmBqB,MAAnB,EAA2B,SAA3B,CAAnC;AACAA,IAAAA,MAAM,CAACqB,QAAP,CAAgBH,GAAhB,CAAqB,aAArB,EAAoC,IAAIvC,aAAJ,CAAmBqB,MAAnB,EAA2B,UAA3B,CAApC;AAEA,UAAMsB,YAAY,GAAGf,OAAO,CAACQ,IAAR,CAAaP,QAAlC,CA7DM,CA+DN;AACA;;AACA,SAAKe,QAAL,CAAeD,YAAf,EAA6B,OAA7B,EAAsC,CAAEE,GAAF,EAAOlB,IAAP,KAAiB;AACtD,YAAMmB,GAAG,GAAG,KAAKzB,MAAL,CAAYC,KAAZ,CAAkBO,QAA9B;AACA,YAAMkB,cAAc,GAAGD,GAAG,CAACE,SAAJ,CAAcC,eAAd,GAAgCC,MAAvD;;AAEA,UAAKJ,GAAG,CAACE,SAAJ,CAAcG,WAAd,IAA6BJ,cAAc,CAACK,IAAf,IAAuB,UAApD,IAAkEL,cAAc,CAACM,OAAtF,EAAgG;AAC/F,aAAKhC,MAAL,CAAYiC,OAAZ,CAAqB,aAArB;AAEA3B,QAAAA,IAAI,CAAC4B,cAAL;AACAV,QAAAA,GAAG,CAACW,IAAJ;AACA;AACD,KAVD,EAjEM,CA6EN;AACA;;AACA,SAAKZ,QAAL,CAAeD,YAAf,EAA6B,QAA7B,EAAuC,CAAEE,GAAF,EAAOlB,IAAP,KAAiB;AACvD;AACA,UAAKA,IAAI,CAAC8B,SAAL,KAAmB,UAAxB,EAAqC;AACpC;AACA;;AAED,YAAMT,SAAS,GAAG,KAAK3B,MAAL,CAAYC,KAAZ,CAAkBO,QAAlB,CAA2BmB,SAA7C;;AAEA,UAAK,CAACA,SAAS,CAACG,WAAhB,EAA8B;AAC7B;AACA;;AAED,YAAMO,aAAa,GAAGV,SAAS,CAACW,gBAAV,EAAtB;;AAEA,UAAK,CAACD,aAAa,CAACE,SAApB,EAAgC;AAC/B;AACA;;AAED,YAAMb,cAAc,GAAGW,aAAa,CAACR,MAArC;;AAEA,UAAKH,cAAc,CAACK,IAAf,KAAwB,UAA7B,EAA0C;AACzC;AACA;;AAED,YAAMS,mBAAmB,GAAGd,cAAc,CAACe,eAAf,IAAkCf,cAAc,CAACe,eAAf,CAA+BV,IAA/B,KAAwC,UAAtG;;AAEA,UAAKS,mBAAL,EAA2B;AAC1B;AACA;;AAED,WAAKxC,MAAL,CAAYiC,OAAZ,CAAqB,aAArB;AAEA3B,MAAAA,IAAI,CAAC4B,cAAL;AACAV,MAAAA,GAAG,CAACW,IAAJ;AACA,KAlCD,EAkCG;AAAEf,MAAAA,QAAQ,EAAE;AAAZ,KAlCH;;AAoCA,UAAMsB,kBAAkB,GAAGC,WAAW,IAAI;AACzC,aAAO,CAAErC,IAAF,EAAQsC,MAAR,KAAoB;AAC1B,cAAMC,OAAO,GAAG,KAAK7C,MAAL,CAAYqB,QAAZ,CAAqByB,GAArB,CAA0BH,WAA1B,CAAhB;;AAEA,YAAKE,OAAO,CAACE,SAAb,EAAyB;AACxB,eAAK/C,MAAL,CAAYiC,OAAZ,CAAqBU,WAArB;AACAC,UAAAA,MAAM;AACN;AACD,OAPD;AAQA,KATD;;AAWA5C,IAAAA,MAAM,CAACgD,UAAP,CAAkBC,GAAlB,CAAuB,KAAvB,EAA8BP,kBAAkB,CAAE,YAAF,CAAhD;AACA1C,IAAAA,MAAM,CAACgD,UAAP,CAAkBC,GAAlB,CAAuB,WAAvB,EAAoCP,kBAAkB,CAAE,aAAF,CAAtD;AACA;AAED;;;;;AAGAQ,EAAAA,SAAS,GAAG;AACX,UAAM7B,QAAQ,GAAG,KAAKrB,MAAL,CAAYqB,QAA7B;AAEA,UAAM8B,MAAM,GAAG9B,QAAQ,CAACyB,GAAT,CAAc,QAAd,CAAf;AACA,UAAMM,OAAO,GAAG/B,QAAQ,CAACyB,GAAT,CAAc,SAAd,CAAhB;;AAEA,QAAKK,MAAL,EAAc;AACbA,MAAAA,MAAM,CAACE,oBAAP,CAA6BhC,QAAQ,CAACyB,GAAT,CAAc,YAAd,CAA7B;AACA;;AAED,QAAKM,OAAL,EAAe;AACdA,MAAAA,OAAO,CAACC,oBAAR,CAA8BhC,QAAQ,CAACyB,GAAT,CAAc,aAAd,CAA9B;AACA;AACD;;AApK8C;;AAuKhD,SAASjC,qBAAT,CAAgCyC,OAAhC,EAA0C;AACzC,MAAIC,MAAM,GAAG,CAAb;;AAEA,OAAM,MAAMC,KAAZ,IAAqBF,OAAO,CAACG,WAAR,EAArB,EAA6C;AAC5C,QAAKD,KAAK,CAACzB,IAAN,IAAc,IAAd,IAAsByB,KAAK,CAACzB,IAAN,IAAc,IAAzC,EAAgD;AAC/C,WAAM,MAAM2B,IAAZ,IAAoBF,KAAK,CAACC,WAAN,EAApB,EAA0C;AACzCF,QAAAA,MAAM,IAAI1C,qBAAqB,CAAE6C,IAAF,CAA/B;AACA;AACD;AACD;;AAED,SAAOH,MAAP;AACA","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module list/listediting\n */\n\nimport ListCommand from './listcommand';\nimport IndentCommand from './indentcommand';\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport Paragraph from '@ckeditor/ckeditor5-paragraph/src/paragraph';\n\nimport {\n\tcleanList,\n\tcleanListItem,\n\tmodelViewInsertion,\n\tmodelViewChangeType,\n\tmodelViewMergeAfterChangeType,\n\tmodelViewMergeAfter,\n\tmodelViewRemove,\n\tmodelViewSplitOnInsert,\n\tmodelViewChangeIndent,\n\tmodelChangePostFixer,\n\tmodelIndentPasteFixer,\n\tviewModelConverter,\n\tmodelToViewPosition,\n\tviewToModelPosition\n} from './converters';\n\n/**\n * The engine of the list feature. It handles creating, editing and removing lists and list items.\n *\n * It registers the `'numberedList'`, `'bulletedList'`, `'indentList'` and `'outdentList'` commands.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class ListEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'ListEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ Paragraph ];\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\n\t\t// Schema.\n\t\t// Note: in case `$block` will ever be allowed in `listItem`, keep in mind that this feature\n\t\t// uses `Selection#getSelectedBlocks()` without any additional processing to obtain all selected list items.\n\t\t// If there are blocks allowed inside list item, algorithms using `getSelectedBlocks()` will have to be modified.\n\t\teditor.model.schema.register( 'listItem', {\n\t\t\tinheritAllFrom: '$block',\n\t\t\tallowAttributes: [ 'listType', 'listIndent' ]\n\t\t} );\n\n\t\t// Converters.\n\t\tconst data = editor.data;\n\t\tconst editing = editor.editing;\n\n\t\teditor.model.document.registerPostFixer( writer => modelChangePostFixer( editor.model, writer ) );\n\n\t\tediting.mapper.registerViewToModelLength( 'li', getViewListItemLength );\n\t\tdata.mapper.registerViewToModelLength( 'li', getViewListItemLength );\n\n\t\tediting.mapper.on( 'modelToViewPosition', modelToViewPosition( editing.view ) );\n\t\tediting.mapper.on( 'viewToModelPosition', viewToModelPosition( editor.model ) );\n\t\tdata.mapper.on( 'modelToViewPosition', modelToViewPosition( editing.view ) );\n\n\t\teditor.conversion.for( 'editingDowncast' )\n\t\t\t.add( dispatcher => {\n\t\t\t\tdispatcher.on( 'insert', modelViewSplitOnInsert, { priority: 'high' } );\n\t\t\t\tdispatcher.on( 'insert:listItem', modelViewInsertion( editor.model ) );\n\t\t\t\tdispatcher.on( 'attribute:listType:listItem', modelViewChangeType, { priority: 'high' } );\n\t\t\t\tdispatcher.on( 'attribute:listType:listItem', modelViewMergeAfterChangeType, { priority: 'low' } );\n\t\t\t\tdispatcher.on( 'attribute:listIndent:listItem', modelViewChangeIndent( editor.model ) );\n\t\t\t\tdispatcher.on( 'remove:listItem', modelViewRemove( editor.model ) );\n\t\t\t\tdispatcher.on( 'remove', modelViewMergeAfter, { priority: 'low' } );\n\t\t\t} );\n\n\t\teditor.conversion.for( 'dataDowncast' )\n\t\t\t.add( dispatcher => {\n\t\t\t\tdispatcher.on( 'insert', modelViewSplitOnInsert, { priority: 'high' } );\n\t\t\t\tdispatcher.on( 'insert:listItem', modelViewInsertion( editor.model ) );\n\t\t\t} );\n\n\t\teditor.conversion.for( 'upcast' )\n\t\t\t.add( dispatcher => {\n\t\t\t\tdispatcher.on( 'element:ul', cleanList, { priority: 'high' } );\n\t\t\t\tdispatcher.on( 'element:ol', cleanList, { priority: 'high' } );\n\t\t\t\tdispatcher.on( 'element:li', cleanListItem, { priority: 'high' } );\n\t\t\t\tdispatcher.on( 'element:li', viewModelConverter );\n\t\t\t} );\n\n\t\t// Fix indentation of pasted items.\n\t\teditor.model.on( 'insertContent', modelIndentPasteFixer, { priority: 'high' } );\n\n\t\t// Register commands for numbered and bulleted list.\n\t\teditor.commands.add( 'numberedList', new ListCommand( editor, 'numbered' ) );\n\t\teditor.commands.add( 'bulletedList', new ListCommand( editor, 'bulleted' ) );\n\n\t\t// Register commands for indenting.\n\t\teditor.commands.add( 'indentList', new IndentCommand( editor, 'forward' ) );\n\t\teditor.commands.add( 'outdentList', new IndentCommand( editor, 'backward' ) );\n\n\t\tconst viewDocument = editing.view.document;\n\n\t\t// Overwrite default Enter key behavior.\n\t\t// If Enter key is pressed with selection collapsed in empty list item, outdent it instead of breaking it.\n\t\tthis.listenTo( viewDocument, 'enter', ( evt, data ) => {\n\t\t\tconst doc = this.editor.model.document;\n\t\t\tconst positionParent = doc.selection.getLastPosition().parent;\n\n\t\t\tif ( doc.selection.isCollapsed && positionParent.name == 'listItem' && positionParent.isEmpty ) {\n\t\t\t\tthis.editor.execute( 'outdentList' );\n\n\t\t\t\tdata.preventDefault();\n\t\t\t\tevt.stop();\n\t\t\t}\n\t\t} );\n\n\t\t// Overwrite default Backspace key behavior.\n\t\t// If Backspace key is pressed with selection collapsed on first position in first list item, outdent it. #83\n\t\tthis.listenTo( viewDocument, 'delete', ( evt, data ) => {\n\t\t\t// Check conditions from those that require less computations like those immediately available.\n\t\t\tif ( data.direction !== 'backward' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selection = this.editor.model.document.selection;\n\n\t\t\tif ( !selection.isCollapsed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst firstPosition = selection.getFirstPosition();\n\n\t\t\tif ( !firstPosition.isAtStart ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst positionParent = firstPosition.parent;\n\n\t\t\tif ( positionParent.name !== 'listItem' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst previousIsAListItem = positionParent.previousSibling && positionParent.previousSibling.name === 'listItem';\n\n\t\t\tif ( previousIsAListItem ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.editor.execute( 'outdentList' );\n\n\t\t\tdata.preventDefault();\n\t\t\tevt.stop();\n\t\t}, { priority: 'high' } );\n\n\t\tconst getCommandExecuter = commandName => {\n\t\t\treturn ( data, cancel ) => {\n\t\t\t\tconst command = this.editor.commands.get( commandName );\n\n\t\t\t\tif ( command.isEnabled ) {\n\t\t\t\t\tthis.editor.execute( commandName );\n\t\t\t\t\tcancel();\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\teditor.keystrokes.set( 'Tab', getCommandExecuter( 'indentList' ) );\n\t\teditor.keystrokes.set( 'Shift+Tab', getCommandExecuter( 'outdentList' ) );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tafterInit() {\n\t\tconst commands = this.editor.commands;\n\n\t\tconst indent = commands.get( 'indent' );\n\t\tconst outdent = commands.get( 'outdent' );\n\n\t\tif ( indent ) {\n\t\t\tindent.registerChildCommand( commands.get( 'indentList' ) );\n\t\t}\n\n\t\tif ( outdent ) {\n\t\t\toutdent.registerChildCommand( commands.get( 'outdentList' ) );\n\t\t}\n\t}\n}\n\nfunction getViewListItemLength( element ) {\n\tlet length = 1;\n\n\tfor ( const child of element.getChildren() ) {\n\t\tif ( child.name == 'ul' || child.name == 'ol' ) {\n\t\t\tfor ( const item of child.getChildren() ) {\n\t\t\t\tlength += getViewListItemLength( item );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn length;\n}\n"]}]}