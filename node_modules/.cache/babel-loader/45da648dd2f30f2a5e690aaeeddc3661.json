{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-undo/src/undocommand.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-undo/src/undocommand.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHVuZG8vdW5kb2NvbW1hbmQKICovCmltcG9ydCBCYXNlQ29tbWFuZCBmcm9tICcuL2Jhc2Vjb21tYW5kJzsKLyoqCiAqIFRoZSB1bmRvIGNvbW1hbmQgc3RvcmVzIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2JhdGNofkJhdGNoIGJhdGNoZXN9IGFwcGxpZWQgdG8gdGhlCiAqIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50fkRvY3VtZW50IGRvY3VtZW50fSBhbmQgaXMgYWJsZSB0byB1bmRvIGEgYmF0Y2ggYnkgcmV2ZXJzaW5nIGl0IGFuZCB0cmFuc2Zvcm1pbmcgYnkKICogYmF0Y2hlcyBmcm9tIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50fkRvY3VtZW50I2hpc3RvcnkgaGlzdG9yeX0gdGhhdCBoYXBwZW5lZCBhZnRlciB0aGUgcmV2ZXJzZWQgYmF0Y2guCiAqCiAqIFRoZSB1bmRvIGNvbW1hbmQgYWxzbyB0YWtlcyBjYXJlIG9mIHJlc3RvcmluZyB0aGUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnR+RG9jdW1lbnQjc2VsZWN0aW9uIGRvY3VtZW50IHNlbGVjdGlvbn0uCiAqCiAqIEBleHRlbmRzIG1vZHVsZTp1bmRvL2Jhc2Vjb21tYW5kfkJhc2VDb21tYW5kCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5kb0NvbW1hbmQgZXh0ZW5kcyBCYXNlQ29tbWFuZCB7CiAgLyoqCiAgICogRXhlY3V0ZXMgdGhlIGNvbW1hbmQuIFRoaXMgbWV0aG9kIHJldmVydHMgYSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9iYXRjaH5CYXRjaCBiYXRjaH0gYWRkZWQgdG8gdGhlIGNvbW1hbmQncyBzdGFjaywgdHJhbnNmb3JtcwogICAqIGFuZCBhcHBsaWVzIHRoZSByZXZlcnRlZCB2ZXJzaW9uIG9uIHRoZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudH5Eb2N1bWVudCBkb2N1bWVudH0gYW5kIHJlbW92ZXMgdGhlIGJhdGNoIGZyb20gdGhlIHN0YWNrLgogICAqIFRoZW4sIGl0IHJlc3RvcmVzIHRoZSB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudH5Eb2N1bWVudCNzZWxlY3Rpb24gZG9jdW1lbnQgc2VsZWN0aW9ufS4KICAgKgogICAqIEBmaXJlcyBleGVjdXRlCiAgICogQGZpcmVzIHJldmVydAogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9iYXRjaH5CYXRjaH0gW2JhdGNoXSBBIGJhdGNoIHRoYXQgc2hvdWxkIGJlIHVuZG9uZS4gSWYgbm90IHNldCwgdGhlIGxhc3QgYWRkZWQgYmF0Y2ggd2lsbCBiZSB1bmRvbmUuCiAgICovCiAgZXhlY3V0ZShiYXRjaCA9IG51bGwpIHsKICAgIC8vIElmIGJhdGNoIGlzIG5vdCBnaXZlbiwgc2V0IGBiYXRjaEluZGV4YCB0byB0aGUgbGFzdCBpbmRleCBpbiBjb21tYW5kIHN0YWNrLgogICAgY29uc3QgYmF0Y2hJbmRleCA9IGJhdGNoID8gdGhpcy5fc3RhY2suZmluZEluZGV4KGEgPT4gYS5iYXRjaCA9PSBiYXRjaCkgOiB0aGlzLl9zdGFjay5sZW5ndGggLSAxOwoKICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9zdGFjay5zcGxpY2UoYmF0Y2hJbmRleCwgMSlbMF07CgogICAgY29uc3QgdW5kb2luZ0JhdGNoID0gdGhpcy5lZGl0b3IubW9kZWwuY3JlYXRlQmF0Y2goJ3RyYW5zcGFyZW50Jyk7IC8vIEFsbCBjaGFuZ2VzIGhhcyB0byBiZSBkb25lIGluIG9uZSBgZW5xdWV1ZUNoYW5nZWAgY2FsbGJhY2sgc28gb3RoZXIgbGlzdGVuZXJzIHdpbGwgbm90CiAgICAvLyBzdGVwIGJldHdlZW4gY29uc2VjdXRpdmUgb3BlcmF0aW9ucywgb3Igd29uJ3QgZG8gY2hhbmdlcyB0byB0aGUgZG9jdW1lbnQgYmVmb3JlIHNlbGVjdGlvbiBpcyBwcm9wZXJseSByZXN0b3JlZC4KCiAgICB0aGlzLmVkaXRvci5tb2RlbC5lbnF1ZXVlQ2hhbmdlKHVuZG9pbmdCYXRjaCwgKCkgPT4gewogICAgICB0aGlzLl91bmRvKGl0ZW0uYmF0Y2gsIHVuZG9pbmdCYXRjaCk7CgogICAgICBjb25zdCBvcGVyYXRpb25zID0gdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuaGlzdG9yeS5nZXRPcGVyYXRpb25zKGl0ZW0uYmF0Y2guYmFzZVZlcnNpb24pOwoKICAgICAgdGhpcy5fcmVzdG9yZVNlbGVjdGlvbihpdGVtLnNlbGVjdGlvbi5yYW5nZXMsIGl0ZW0uc2VsZWN0aW9uLmlzQmFja3dhcmQsIG9wZXJhdGlvbnMpOwoKICAgICAgdGhpcy5maXJlKCdyZXZlcnQnLCBpdGVtLmJhdGNoLCB1bmRvaW5nQmF0Y2gpOwogICAgfSk7CiAgICB0aGlzLnJlZnJlc2goKTsKICB9Cgp9Ci8qKgogKiBGaXJlZCB3aGVuIGV4ZWN1dGlvbiBvZiB0aGUgY29tbWFuZCByZXZlcnRzIHNvbWUgYmF0Y2guCiAqCiAqIEBldmVudCByZXZlcnQKICov"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-undo/src/undocommand.js"],"names":["BaseCommand","UndoCommand","execute","batch","batchIndex","_stack","findIndex","a","length","item","splice","undoingBatch","editor","model","createBatch","enqueueChange","_undo","operations","document","history","getOperations","baseVersion","_restoreSelection","selection","ranges","isBackward","fire","refresh"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,WAAP,MAAwB,eAAxB;AAEA;;;;;;;;;;AASA,eAAe,MAAMC,WAAN,SAA0BD,WAA1B,CAAsC;AACpD;;;;;;;;;AASAE,EAAAA,OAAO,CAAEC,KAAK,GAAG,IAAV,EAAiB;AACvB;AACA,UAAMC,UAAU,GAAGD,KAAK,GAAG,KAAKE,MAAL,CAAYC,SAAZ,CAAuBC,CAAC,IAAIA,CAAC,CAACJ,KAAF,IAAWA,KAAvC,CAAH,GAAoD,KAAKE,MAAL,CAAYG,MAAZ,GAAqB,CAAjG;;AAEA,UAAMC,IAAI,GAAG,KAAKJ,MAAL,CAAYK,MAAZ,CAAoBN,UAApB,EAAgC,CAAhC,EAAqC,CAArC,CAAb;;AACA,UAAMO,YAAY,GAAG,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,WAAlB,CAA+B,aAA/B,CAArB,CALuB,CAOvB;AACA;;AACA,SAAKF,MAAL,CAAYC,KAAZ,CAAkBE,aAAlB,CAAiCJ,YAAjC,EAA+C,MAAM;AACpD,WAAKK,KAAL,CAAYP,IAAI,CAACN,KAAjB,EAAwBQ,YAAxB;;AAEA,YAAMM,UAAU,GAAG,KAAKL,MAAL,CAAYC,KAAZ,CAAkBK,QAAlB,CAA2BC,OAA3B,CAAmCC,aAAnC,CAAkDX,IAAI,CAACN,KAAL,CAAWkB,WAA7D,CAAnB;;AACA,WAAKC,iBAAL,CAAwBb,IAAI,CAACc,SAAL,CAAeC,MAAvC,EAA+Cf,IAAI,CAACc,SAAL,CAAeE,UAA9D,EAA0ER,UAA1E;;AAEA,WAAKS,IAAL,CAAW,QAAX,EAAqBjB,IAAI,CAACN,KAA1B,EAAiCQ,YAAjC;AACA,KAPD;AASA,SAAKgB,OAAL;AACA;;AA7BmD;AAgCrD","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module undo/undocommand\n */\n\nimport BaseCommand from './basecommand';\n\n/**\n * The undo command stores {@link module:engine/model/batch~Batch batches} applied to the\n * {@link module:engine/model/document~Document document} and is able to undo a batch by reversing it and transforming by\n * batches from {@link module:engine/model/document~Document#history history} that happened after the reversed batch.\n *\n * The undo command also takes care of restoring the {@link module:engine/model/document~Document#selection document selection}.\n *\n * @extends module:undo/basecommand~BaseCommand\n */\nexport default class UndoCommand extends BaseCommand {\n\t/**\n\t * Executes the command. This method reverts a {@link module:engine/model/batch~Batch batch} added to the command's stack, transforms\n\t * and applies the reverted version on the {@link module:engine/model/document~Document document} and removes the batch from the stack.\n\t * Then, it restores the {@link module:engine/model/document~Document#selection document selection}.\n\t *\n\t * @fires execute\n\t * @fires revert\n\t * @param {module:engine/model/batch~Batch} [batch] A batch that should be undone. If not set, the last added batch will be undone.\n\t */\n\texecute( batch = null ) {\n\t\t// If batch is not given, set `batchIndex` to the last index in command stack.\n\t\tconst batchIndex = batch ? this._stack.findIndex( a => a.batch == batch ) : this._stack.length - 1;\n\n\t\tconst item = this._stack.splice( batchIndex, 1 )[ 0 ];\n\t\tconst undoingBatch = this.editor.model.createBatch( 'transparent' );\n\n\t\t// All changes has to be done in one `enqueueChange` callback so other listeners will not\n\t\t// step between consecutive operations, or won't do changes to the document before selection is properly restored.\n\t\tthis.editor.model.enqueueChange( undoingBatch, () => {\n\t\t\tthis._undo( item.batch, undoingBatch );\n\n\t\t\tconst operations = this.editor.model.document.history.getOperations( item.batch.baseVersion );\n\t\t\tthis._restoreSelection( item.selection.ranges, item.selection.isBackward, operations );\n\n\t\t\tthis.fire( 'revert', item.batch, undoingBatch );\n\t\t} );\n\n\t\tthis.refresh();\n\t}\n}\n\n/**\n * Fired when execution of the command reverts some batch.\n *\n * @event revert\n */\n"]}]}