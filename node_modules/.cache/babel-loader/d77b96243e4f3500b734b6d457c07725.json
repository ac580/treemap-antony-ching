{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-core/src/plugincollection.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-core/src/plugincollection.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGNvcmUvcGx1Z2luY29sbGVjdGlvbgogKi8KCi8qIGdsb2JhbHMgY29uc29sZSAqLwppbXBvcnQgQ0tFZGl0b3JFcnJvciwgeyBhdHRhY2hMaW5rVG9Eb2N1bWVudGF0aW9uIH0gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvY2tlZGl0b3JlcnJvcic7CmltcG9ydCBFbWl0dGVyTWl4aW4gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvZW1pdHRlcm1peGluJzsKaW1wb3J0IG1peCBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9taXgnOwovKioKICogTWFuYWdlcyBhIGxpc3Qgb2YgQ0tFZGl0b3IgcGx1Z2lucywgaW5jbHVkaW5nIGxvYWRpbmcsIHJlc29sdmluZyBkZXBlbmRlbmNpZXMgYW5kIGluaXRpYWxpemF0aW9uLgogKgogKiBAbWl4ZXMgbW9kdWxlOnV0aWxzL2VtaXR0ZXJtaXhpbn5FbWl0dGVyTWl4aW4KICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBQbHVnaW5Db2xsZWN0aW9uIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBQbHVnaW5Db2xsZWN0aW9uIGNsYXNzLgogICAqIEFsbG93cyBsb2FkaW5nIGFuZCBpbml0aWFsaXppbmcgcGx1Z2lucyBhbmQgdGhlaXIgZGVwZW5kZW5jaWVzLgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6Y29yZS9lZGl0b3IvZWRpdG9yfkVkaXRvcn0gZWRpdG9yCiAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBbYXZhaWxhYmxlUGx1Z2luc10gUGx1Z2lucyAoY29uc3RydWN0b3JzKSB3aGljaCB0aGUgY29sbGVjdGlvbiB3aWxsIGJlIGFibGUgdG8gdXNlCiAgICogd2hlbiB7QGxpbmsgbW9kdWxlOmNvcmUvcGx1Z2luY29sbGVjdGlvbn5QbHVnaW5Db2xsZWN0aW9uI2luaXR9IGlzIHVzZWQgd2l0aCBwbHVnaW4gbmFtZXMgKHN0cmluZ3MsIGluc3RlYWQgb2YgY29uc3RydWN0b3JzKS4KICAgKiBVc3VhbGx5LCB0aGUgZWRpdG9yIHdpbGwgcGFzcyBpdHMgYnVpbHQtaW4gcGx1Z2lucyB0byB0aGUgY29sbGVjdGlvbiBzbyB0aGV5IGNhbiBsYXRlciBiZQogICAqIHVzZWQgaW4gYGNvbmZpZy5wbHVnaW5zYCBvciBgY29uZmlnLnJlbW92ZVBsdWdpbnNgIGJ5IG5hbWVzLgogICAqLwogIGNvbnN0cnVjdG9yKGVkaXRvciwgYXZhaWxhYmxlUGx1Z2lucyA9IFtdKSB7CiAgICAvKioKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBtZW1iZXIge21vZHVsZTpjb3JlL2VkaXRvci9lZGl0b3J+RWRpdG9yfSBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luQ29sbGVjdGlvbiNfZWRpdG9yCiAgICAgKi8KICAgIHRoaXMuX2VkaXRvciA9IGVkaXRvcjsKICAgIC8qKgogICAgICogTWFwIG9mIHBsdWdpbiBjb25zdHJ1Y3RvcnMgd2hpY2ggY2FuIGJlIHJldHJpZXZlZCBieSB0aGVpciBuYW1lcy4KICAgICAqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAbWVtYmVyIHtNYXAuPFN0cmluZ3xGdW5jdGlvbixGdW5jdGlvbj59IG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5Db2xsZWN0aW9uI19hdmFpbGFibGVQbHVnaW5zCiAgICAgKi8KCiAgICB0aGlzLl9hdmFpbGFibGVQbHVnaW5zID0gbmV3IE1hcCgpOwogICAgLyoqCiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAbWVtYmVyIHtNYXB9IG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5Db2xsZWN0aW9uI19wbHVnaW5zCiAgICAgKi8KCiAgICB0aGlzLl9wbHVnaW5zID0gbmV3IE1hcCgpOwoKICAgIGZvciAoY29uc3QgUGx1Z2luQ29uc3RydWN0b3Igb2YgYXZhaWxhYmxlUGx1Z2lucykgewogICAgICB0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldChQbHVnaW5Db25zdHJ1Y3RvciwgUGx1Z2luQ29uc3RydWN0b3IpOwoKICAgICAgaWYgKFBsdWdpbkNvbnN0cnVjdG9yLnBsdWdpbk5hbWUpIHsKICAgICAgICB0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldChQbHVnaW5Db25zdHJ1Y3Rvci5wbHVnaW5OYW1lLCBQbHVnaW5Db25zdHJ1Y3Rvcik7CiAgICAgIH0KICAgIH0KICB9CiAgLyoqCiAgICogSXRlcmFibGUgaW50ZXJmYWNlLgogICAqCiAgICogUmV0dXJucyBgWyBQbHVnaW5Db25zdHJ1Y3RvciwgcGx1Z2luSW5zdGFuY2UgXWAgcGFpcnMuCiAgICoKICAgKiBAcmV0dXJucyB7SXRlcmFibGUuPEFycmF5Pn0KICAgKi8KCgogICpbU3ltYm9sLml0ZXJhdG9yXSgpIHsKICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5fcGx1Z2lucykgewogICAgICBpZiAodHlwZW9mIGVudHJ5WzBdID09ICdmdW5jdGlvbicpIHsKICAgICAgICB5aWVsZCBlbnRyeTsKICAgICAgfQogICAgfQogIH0KICAvKioKICAgKiBHZXRzIHRoZSBwbHVnaW4gaW5zdGFuY2UgYnkgaXRzIGNvbnN0cnVjdG9yIG9yIG5hbWUuCiAgICoKICAgKgkJLy8gQ2hlY2sgaWYgJ0NsaXBib2FyZCcgcGx1Z2luIHdhcyBsb2FkZWQuCiAgICoJCWlmICggZWRpdG9yLnBsdWdpbnMuaGFzKCAnQ2xpcGJvYXJkJyApICkgewogICAqCQkJLy8gR2V0IGNsaXBib2FyZCBwbHVnaW4gaW5zdGFuY2UKICAgKgkJCWNvbnN0IGNsaXBib2FyZCA9IGVkaXRvci5wbHVnaW5zLmdldCggJ0NsaXBib2FyZCcgKTsKICAgKgogICAqCQkJdGhpcy5saXN0ZW5UbyggY2xpcGJvYXJkLCAnaW5wdXRUcmFuc2Zvcm1hdGlvbicsICggZXZ0LCBkYXRhICkgPT4gewogICAqCQkJCS8vIERvIHNvbWV0aGluZyBvbiBjbGlwYm9hcmQgaW5wdXQuCiAgICoJCQl9ICk7CiAgICoJCX0KICAgKgogICAqICoqTm90ZSoqOiBUaGlzIG1ldGhvZCB3aWxsIHRocm93IGVycm9yIGlmIHBsdWdpbiBpcyBub3QgbG9hZGVkLiBVc2UgYHtAbGluayAjaGFzIGVkaXRvci5wbHVnaW5zLmhhcygpfWAKICAgKiB0byBjaGVjayBpZiBwbHVnaW4gaXMgYXZhaWxhYmxlLgogICAqCiAgICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGtleSBUaGUgcGx1Z2luIGNvbnN0cnVjdG9yIG9yIHtAbGluayBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luSW50ZXJmYWNlLnBsdWdpbk5hbWUgbmFtZX0uCiAgICogQHJldHVybnMge21vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5JbnRlcmZhY2V9CiAgICovCgoKICBnZXQoa2V5KSB7CiAgICBjb25zdCBwbHVnaW4gPSB0aGlzLl9wbHVnaW5zLmdldChrZXkpOwoKICAgIGlmICghcGx1Z2luKSB7CiAgICAgIC8qKgogICAgICAgKiBUaGUgcGx1Z2luIGlzIG5vdCBsb2FkZWQgYW5kIGNvdWxkIG5vdCBiZSBvYnRhaW5lZC4KICAgICAgICoKICAgICAgICogUGx1Z2luIGNsYXNzZXMgKGNvbnN0cnVjdG9ycykgbmVlZCB0byBiZSBwcm92aWRlZCB0byB0aGUgZWRpdG9yIGFuZCBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgdGhleSBjYW4gYmUgb2J0YWluZWQgZnJvbQogICAgICAgKiB0aGUgcGx1Z2luIGNvbGxlY3Rpb24uCiAgICAgICAqIFRoaXMgaXMgdXN1YWxseSBkb25lIGluIENLRWRpdG9yIDUgYnVpbGRzIGJ5IHNldHRpbmcgdGhlIHtAbGluayBtb2R1bGU6Y29yZS9lZGl0b3IvZWRpdG9yfkVkaXRvci5idWlsdGluUGx1Z2luc30KICAgICAgICogcHJvcGVydHkuCiAgICAgICAqCiAgICAgICAqICoqTm90ZSoqOiBZb3UgY2FuIHVzZSBge0BsaW5rIG1vZHVsZTpjb3JlL3BsdWdpbmNvbGxlY3Rpb25+UGx1Z2luQ29sbGVjdGlvbiNoYXMgZWRpdG9yLnBsdWdpbnMuaGFzKCl9YAogICAgICAgKiB0byBjaGVjayBpZiBwbHVnaW4gd2FzIGxvYWRlZC4KICAgICAgICoKICAgICAgICogQGVycm9yIHBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5vdC1sb2FkZWQKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHBsdWdpbiBUaGUgbmFtZSBvZiB0aGUgcGx1Z2luIHdoaWNoIGlzIG5vdCBsb2FkZWQuCiAgICAgICAqLwogICAgICBjb25zdCBlcnJvck1zZyA9ICdwbHVnaW5jb2xsZWN0aW9uLXBsdWdpbi1ub3QtbG9hZGVkOiBUaGUgcmVxdWVzdGVkIHBsdWdpbiBpcyBub3QgbG9hZGVkLic7CiAgICAgIGxldCBwbHVnaW5OYW1lID0ga2V5OwoKICAgICAgaWYgKHR5cGVvZiBrZXkgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHBsdWdpbk5hbWUgPSBrZXkucGx1Z2luTmFtZSB8fCBrZXkubmFtZTsKICAgICAgfQoKICAgICAgdGhyb3cgbmV3IENLRWRpdG9yRXJyb3IoZXJyb3JNc2csIHRoaXMuX2VkaXRvciwgewogICAgICAgIHBsdWdpbjogcGx1Z2luTmFtZQogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gcGx1Z2luOwogIH0KICAvKioKICAgKiBDaGVja3MgaWYgcGx1Z2luIGlzIGxvYWRlZC4KICAgKgogICAqCQkvLyBDaGVjayBpZiAnQ2xpcGJvYXJkJyBwbHVnaW4gd2FzIGxvYWRlZC4KICAgKgkJaWYgKCBlZGl0b3IucGx1Z2lucy5oYXMoICdDbGlwYm9hcmQnICkgKSB7CiAgICoJCQkvLyBOb3cgdXNlIGNsaXBib2FyZCBwbHVnaW4gaW5zdGFuY2U6CiAgICoJCQljb25zdCBjbGlwYm9hcmQgPSBlZGl0b3IucGx1Z2lucy5nZXQoICdDbGlwYm9hcmQnICk7CiAgICoKICAgKgkJCS8vIC4uLgogICAqCQl9CiAgICoKICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30ga2V5IFRoZSBwbHVnaW4gY29uc3RydWN0b3Igb3Ige0BsaW5rIG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5JbnRlcmZhY2UucGx1Z2luTmFtZSBuYW1lfS4KICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgKi8KCgogIGhhcyhrZXkpIHsKICAgIHJldHVybiB0aGlzLl9wbHVnaW5zLmhhcyhrZXkpOwogIH0KICAvKioKICAgKiBJbml0aWFsaXplcyBhIHNldCBvZiBwbHVnaW5zIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGNvbGxlY3Rpb24uCiAgICoKICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbnxTdHJpbmc+fSBwbHVnaW5zIEFuIGFycmF5IG9mIHtAbGluayBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luSW50ZXJmYWNlIHBsdWdpbiBjb25zdHJ1Y3RvcnN9CiAgICogb3Ige0BsaW5rIG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5JbnRlcmZhY2UucGx1Z2luTmFtZSBwbHVnaW4gbmFtZXN9LiBUaGUgc2Vjb25kIG9wdGlvbiAobmFtZXMpIHdvcmtzIG9ubHkgaWYKICAgKiBgYXZhaWxhYmxlUGx1Z2luc2Agd2VyZSBwYXNzZWQgdG8gdGhlIHtAbGluayAjY29uc3RydWN0b3J9LgogICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZ3xGdW5jdGlvbj59IFtyZW1vdmVQbHVnaW5zXSBOYW1lcyBvZiBwbHVnaW5zIG9yIHBsdWdpbiBjb25zdHJ1Y3RvcnMKICAgKiB0aGF0IHNob3VsZCBub3QgYmUgbG9hZGVkIChkZXNwaXRlIGJlaW5nIHNwZWNpZmllZCBpbiB0aGUgYHBsdWdpbnNgIGFycmF5KS4KICAgKiBAcmV0dXJucyB7UHJvbWlzZS48bW9kdWxlOmNvcmUvcGx1Z2lufkxvYWRlZFBsdWdpbnM+fSBBIHByb21pc2Ugd2hpY2ggZ2V0cyByZXNvbHZlZCBvbmNlIGFsbCBwbHVnaW5zIGFyZSBsb2FkZWQKICAgKiBhbmQgYXZhaWxhYmxlIGluIHRoZSBjb2xsZWN0aW9uLgogICAqLwoKCiAgaW5pdChwbHVnaW5zLCByZW1vdmVQbHVnaW5zID0gW10pIHsKICAgIGNvbnN0IHRoYXQgPSB0aGlzOwogICAgY29uc3QgZWRpdG9yID0gdGhpcy5fZWRpdG9yOwogICAgY29uc3QgbG9hZGluZyA9IG5ldyBTZXQoKTsKICAgIGNvbnN0IGxvYWRlZCA9IFtdOwogICAgY29uc3QgcGx1Z2luQ29uc3RydWN0b3JzID0gbWFwVG9BdmFpbGFibGVDb25zdHJ1Y3RvcnMocGx1Z2lucyk7CiAgICBjb25zdCByZW1vdmVQbHVnaW5Db25zdHJ1Y3RvcnMgPSBtYXBUb0F2YWlsYWJsZUNvbnN0cnVjdG9ycyhyZW1vdmVQbHVnaW5zKTsKICAgIGNvbnN0IG1pc3NpbmdQbHVnaW5zID0gZ2V0TWlzc2luZ1BsdWdpbk5hbWVzKHBsdWdpbnMpOwoKICAgIGlmIChtaXNzaW5nUGx1Z2lucykgewogICAgICAvKioKICAgICAgICogU29tZSBwbHVnaW5zIGFyZSBub3QgYXZhaWxhYmxlIGFuZCBjb3VsZCBub3QgYmUgbG9hZGVkLgogICAgICAgKgogICAgICAgKiBQbHVnaW4gY2xhc3NlcyAoY29uc3RydWN0b3JzKSBuZWVkIHRvIGJlIHByb3ZpZGVkIHRvIHRoZSBlZGl0b3IgYmVmb3JlIHRoZXkgY2FuIGJlIGxvYWRlZCBieSBuYW1lLgogICAgICAgKiBUaGlzIGlzIHVzdWFsbHkgZG9uZSBpbiBDS0VkaXRvciA1IGJ1aWxkcyBieSBzZXR0aW5nIHRoZSB7QGxpbmsgbW9kdWxlOmNvcmUvZWRpdG9yL2VkaXRvcn5FZGl0b3IuYnVpbHRpblBsdWdpbnN9CiAgICAgICAqIHByb3BlcnR5LgogICAgICAgKgogICAgICAgKiAqKklmIHlvdSBzZWUgdGhpcyB3YXJuaW5nIHdoZW4gdXNpbmcgb25lIG9mIHRoZSB7QGdsaW5rIGJ1aWxkcy9pbmRleCBDS0VkaXRvciA1IEJ1aWxkc30qKiwgaXQgbWVhbnMKICAgICAgICogdGhhdCB5b3UgdHJ5IHRvIGVuYWJsZSBhIHBsdWdpbiB3aGljaCB3YXMgbm90IGluY2x1ZGVkIGluIHRoYXQgYnVpbGQuIFRoaXMgbWF5IGJlIGR1ZSB0byBhIHR5cG8KICAgICAgICogaW4gdGhlIHBsdWdpbiBuYW1lIG9yIHNpbXBseSBiZWNhdXNlIHRoYXQgcGx1Z2luIGlzIG5vdCBhIHBhcnQgb2YgdGhpcyBidWlsZC4gSW4gdGhlIGxhdHRlciBzY2VuYXJpbywKICAgICAgICogcmVhZCBtb3JlIGFib3V0IHtAZ2xpbmsgYnVpbGRzL2d1aWRlcy9kZXZlbG9wbWVudC9jdXN0b20tYnVpbGRzIGN1c3RvbSBidWlsZHN9LgogICAgICAgKgogICAgICAgKiAqKklmIHlvdSBzZWUgdGhpcyB3YXJuaW5nIHdoZW4gdXNpbmcgb25lIG9mIHRoZSBlZGl0b3IgY3JlYXRvcnMgZGlyZWN0bHkqKiAobm90IGEgYnVpbGQpLCB0aGVuIGl0IG1lYW5zCiAgICAgICAqIHRoYXQgeW91IHRyaWVkIGxvYWRpbmcgcGx1Z2lucyBieSBuYW1lLiBIb3dldmVyLCB1bmxpa2UgQ0tFZGl0b3IgNCwgQ0tFZGl0b3IgNSBkb2VzIG5vdCBpbXBsZW1lbnQgYSAicGx1Z2luIGxvYWRlciIuCiAgICAgICAqIFRoaXMgbWVhbnMgdGhhdCBDS0VkaXRvciA1IGRvZXMgbm90IGtub3cgd2hlcmUgdG8gbG9hZCB0aGUgcGx1Z2luIG1vZHVsZXMgZnJvbS4gVGhlcmVmb3JlLCB5b3UgbmVlZCB0bwogICAgICAgKiBwcm92aWRlIGVhY2ggcGx1Z2luIHRocm91Z2ggcmVmZXJlbmNlIChhcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uKS4gQ2hlY2sgb3V0IHRoZSBleGFtcGxlcyBpbgogICAgICAgKiB7QGdsaW5rIGJ1aWxkcy9ndWlkZXMvaW50ZWdyYXRpb24vYWR2YW5jZWQtc2V0dXAjc2NlbmFyaW8tMi1idWlsZGluZy1mcm9tLXNvdXJjZSAiQnVpbGRpbmcgZnJvbSBzb3VyY2UifS4KICAgICAgICoKICAgICAgICogQGVycm9yIHBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5vdC1mb3VuZAogICAgICAgKiBAcGFyYW0ge0FycmF5LjxTdHJpbmc+fSBwbHVnaW5zIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW5zIHdoaWNoIGNvdWxkIG5vdCBiZSBsb2FkZWQuCiAgICAgICAqLwogICAgICBjb25zdCBlcnJvck1zZyA9ICdwbHVnaW5jb2xsZWN0aW9uLXBsdWdpbi1ub3QtZm91bmQ6IFNvbWUgcGx1Z2lucyBhcmUgbm90IGF2YWlsYWJsZSBhbmQgY291bGQgbm90IGJlIGxvYWRlZC4nOyAvLyBMb2cgdGhlIGVycm9yIHNvIGl0J3MgbW9yZSB2aXNpYmxlIG9uIHRoZSBjb25zb2xlLiBIb3BlZnVsbHksIGZvciBiZXR0ZXIgRFguCgogICAgICBjb25zb2xlLmVycm9yKGF0dGFjaExpbmtUb0RvY3VtZW50YXRpb24oZXJyb3JNc2cpLCB7CiAgICAgICAgcGx1Z2luczogbWlzc2luZ1BsdWdpbnMKICAgICAgfSk7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgQ0tFZGl0b3JFcnJvcihlcnJvck1zZywgdGhpcy5fZWRpdG9yLCB7CiAgICAgICAgcGx1Z2luczogbWlzc2luZ1BsdWdpbnMKICAgICAgfSkpOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLmFsbChwbHVnaW5Db25zdHJ1Y3RvcnMubWFwKGxvYWRQbHVnaW4pKS50aGVuKCgpID0+IGluaXRQbHVnaW5zKGxvYWRlZCwgJ2luaXQnKSkudGhlbigoKSA9PiBpbml0UGx1Z2lucyhsb2FkZWQsICdhZnRlckluaXQnKSkudGhlbigoKSA9PiBsb2FkZWQpOwoKICAgIGZ1bmN0aW9uIGxvYWRQbHVnaW4oUGx1Z2luQ29uc3RydWN0b3IpIHsKICAgICAgaWYgKHJlbW92ZVBsdWdpbkNvbnN0cnVjdG9ycy5pbmNsdWRlcyhQbHVnaW5Db25zdHJ1Y3RvcikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gVGhlIHBsdWdpbiBpcyBhbHJlYWR5IGxvYWRlZCBvciBiZWluZyBsb2FkZWQgLSBkbyBub3RoaW5nLgoKCiAgICAgIGlmICh0aGF0Ll9wbHVnaW5zLmhhcyhQbHVnaW5Db25zdHJ1Y3RvcikgfHwgbG9hZGluZy5oYXMoUGx1Z2luQ29uc3RydWN0b3IpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGVQbHVnaW4oUGx1Z2luQ29uc3RydWN0b3IpLmNhdGNoKGVyciA9PiB7CiAgICAgICAgLyoqCiAgICAgICAgICogSXQgd2FzIG5vdCBwb3NzaWJsZSB0byBsb2FkIHRoZSBwbHVnaW4uCiAgICAgICAgICoKICAgICAgICAgKiBUaGlzIGlzIGEgZ2VuZXJpYyBlcnJvciBsb2dnZWQgdG8gdGhlIGNvbnNvbGUgd2hlbiBhIEphdmFTcmlwdCBlcnJvciBpcyB0aHJvd24gZHVyaW5nIHRoZSBpbml0aWFsaXphdGlvbgogICAgICAgICAqIG9mIG9uZSBvZiB0aGUgcGx1Z2lucy4KICAgICAgICAgKgogICAgICAgICAqIElmIHlvdSBjb3JyZWN0bHkgaGFuZGxlZCB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGUgZWRpdG9yJ3MgYGNyZWF0ZSgpYCBtZXRob2QgKGxpa2Ugc2hvd24gYmVsb3cpCiAgICAgICAgICogeW91IHdpbGwgZmluZCB0aGUgb3JpZ2luYWwgZXJyb3IgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLCB0b286CiAgICAgICAgICoKICAgICAgICAgKgkJQ2xhc3NpY0VkaXRvci5jcmVhdGUoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnZWRpdG9yJyApICkKICAgICAgICAgKgkJCS50aGVuKCBlZGl0b3IgPT4gewogICAgICAgICAqCQkJCS8vIC4uLgogICAgICAgICAqIAkJCX0gKQogICAgICAgICAqCQkJLmNhdGNoKCBlcnJvciA9PiB7CiAgICAgICAgICoJCQkJY29uc29sZS5lcnJvciggZXJyb3IgKTsKICAgICAgICAgKgkJCX0gKTsKICAgICAgICAgKgogICAgICAgICAqIEBlcnJvciBwbHVnaW5jb2xsZWN0aW9uLWxvYWQKICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGx1Z2luIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4gdGhhdCBjb3VsZCBub3QgYmUgbG9hZGVkLgogICAgICAgICAqLwogICAgICAgIGNvbnNvbGUuZXJyb3IoYXR0YWNoTGlua1RvRG9jdW1lbnRhdGlvbigncGx1Z2luY29sbGVjdGlvbi1sb2FkOiBJdCB3YXMgbm90IHBvc3NpYmxlIHRvIGxvYWQgdGhlIHBsdWdpbi4nKSwgewogICAgICAgICAgcGx1Z2luOiBQbHVnaW5Db25zdHJ1Y3RvcgogICAgICAgIH0pOwogICAgICAgIHRocm93IGVycjsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdFBsdWdpbnMobG9hZGVkUGx1Z2lucywgbWV0aG9kKSB7CiAgICAgIHJldHVybiBsb2FkZWRQbHVnaW5zLnJlZHVjZSgocHJvbWlzZSwgcGx1Z2luKSA9PiB7CiAgICAgICAgaWYgKCFwbHVnaW5bbWV0aG9kXSkgewogICAgICAgICAgcmV0dXJuIHByb21pc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHBsdWdpblttZXRob2RdLmJpbmQocGx1Z2luKSk7CiAgICAgIH0sIFByb21pc2UucmVzb2x2ZSgpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZVBsdWdpbihQbHVnaW5Db25zdHJ1Y3RvcikgewogICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgbG9hZGluZy5hZGQoUGx1Z2luQ29uc3RydWN0b3IpOwoKICAgICAgICBpZiAoUGx1Z2luQ29uc3RydWN0b3IucmVxdWlyZXMpIHsKICAgICAgICAgIFBsdWdpbkNvbnN0cnVjdG9yLnJlcXVpcmVzLmZvckVhY2goUmVxdWlyZWRQbHVnaW5Db25zdHJ1Y3Rvck9yTmFtZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IFJlcXVpcmVkUGx1Z2luQ29uc3RydWN0b3IgPSBnZXRQbHVnaW5Db25zdHJ1Y3RvcihSZXF1aXJlZFBsdWdpbkNvbnN0cnVjdG9yT3JOYW1lKTsKCiAgICAgICAgICAgIGlmIChyZW1vdmVQbHVnaW5zLmluY2x1ZGVzKFJlcXVpcmVkUGx1Z2luQ29uc3RydWN0b3IpKSB7CiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogQ2Fubm90IGxvYWQgYSBwbHVnaW4gYmVjYXVzZSBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcyBpcyBsaXN0ZWQgaW4gdGhlIGByZW1vdmVQbHVnaW5zYCBvcHRpb24uCiAgICAgICAgICAgICAgICoKICAgICAgICAgICAgICAgKiBAZXJyb3IgcGx1Z2luY29sbGVjdGlvbi1yZXF1aXJlZAogICAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHBsdWdpbiBUaGUgcmVxdWlyZWQgcGx1Z2luLgogICAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlcXVpcmVkQnkgVGhlIHBhcmVudCBwbHVnaW4uCiAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgdGhyb3cgbmV3IENLRWRpdG9yRXJyb3IoJ3BsdWdpbmNvbGxlY3Rpb24tcmVxdWlyZWQ6IENhbm5vdCBsb2FkIGEgcGx1Z2luIGJlY2F1c2Ugb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMgaXMgbGlzdGVkIGluJyArICd0aGUgYHJlbW92ZVBsdWdpbnNgIG9wdGlvbi4nLCBlZGl0b3IsIHsKICAgICAgICAgICAgICAgIHBsdWdpbjogUmVxdWlyZWRQbHVnaW5Db25zdHJ1Y3RvciwKICAgICAgICAgICAgICAgIHJlcXVpcmVkQnk6IFBsdWdpbkNvbnN0cnVjdG9yCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxvYWRQbHVnaW4oUmVxdWlyZWRQbHVnaW5Db25zdHJ1Y3Rvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHBsdWdpbiA9IG5ldyBQbHVnaW5Db25zdHJ1Y3RvcihlZGl0b3IpOwoKICAgICAgICB0aGF0Ll9hZGQoUGx1Z2luQ29uc3RydWN0b3IsIHBsdWdpbik7CgogICAgICAgIGxvYWRlZC5wdXNoKHBsdWdpbik7CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRQbHVnaW5Db25zdHJ1Y3RvcihQbHVnaW5Db25zdHJ1Y3Rvck9yTmFtZSkgewogICAgICBpZiAodHlwZW9mIFBsdWdpbkNvbnN0cnVjdG9yT3JOYW1lID09ICdmdW5jdGlvbicpIHsKICAgICAgICByZXR1cm4gUGx1Z2luQ29uc3RydWN0b3JPck5hbWU7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGF0Ll9hdmFpbGFibGVQbHVnaW5zLmdldChQbHVnaW5Db25zdHJ1Y3Rvck9yTmFtZSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TWlzc2luZ1BsdWdpbk5hbWVzKHBsdWdpbnMpIHsKICAgICAgY29uc3QgbWlzc2luZ1BsdWdpbnMgPSBbXTsKCiAgICAgIGZvciAoY29uc3QgcGx1Z2luTmFtZU9yQ29uc3RydWN0b3Igb2YgcGx1Z2lucykgewogICAgICAgIGlmICghZ2V0UGx1Z2luQ29uc3RydWN0b3IocGx1Z2luTmFtZU9yQ29uc3RydWN0b3IpKSB7CiAgICAgICAgICBtaXNzaW5nUGx1Z2lucy5wdXNoKHBsdWdpbk5hbWVPckNvbnN0cnVjdG9yKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBtaXNzaW5nUGx1Z2lucy5sZW5ndGggPyBtaXNzaW5nUGx1Z2lucyA6IG51bGw7CiAgICB9CgogICAgZnVuY3Rpb24gbWFwVG9BdmFpbGFibGVDb25zdHJ1Y3RvcnMocGx1Z2lucykgewogICAgICByZXR1cm4gcGx1Z2lucy5tYXAocGx1Z2luTmFtZU9yQ29uc3RydWN0b3IgPT4gZ2V0UGx1Z2luQ29uc3RydWN0b3IocGx1Z2luTmFtZU9yQ29uc3RydWN0b3IpKS5maWx0ZXIoUGx1Z2luQ29uc3RydWN0b3IgPT4gISFQbHVnaW5Db25zdHJ1Y3Rvcik7CiAgICB9CiAgfQogIC8qKgogICAqIERlc3Ryb3lzIGFsbCBsb2FkZWQgcGx1Z2lucy4KICAgKgogICAqIEByZXR1cm5zIHtQcm9taXNlfQogICAqLwoKCiAgZGVzdHJveSgpIHsKICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbSh0aGlzKS5tYXAoKFssIHBsdWdpbkluc3RhbmNlXSkgPT4gcGx1Z2luSW5zdGFuY2UpLmZpbHRlcihwbHVnaW5JbnN0YW5jZSA9PiB0eXBlb2YgcGx1Z2luSW5zdGFuY2UuZGVzdHJveSA9PSAnZnVuY3Rpb24nKS5tYXAocGx1Z2luSW5zdGFuY2UgPT4gcGx1Z2luSW5zdGFuY2UuZGVzdHJveSgpKTsKICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7CiAgfQogIC8qKgogICAqIEFkZHMgdGhlIHBsdWdpbiB0byB0aGUgY29sbGVjdGlvbi4gRXhwb3NlZCBtYWlubHkgZm9yIHRlc3RpbmcgcHVycG9zZXMuCiAgICoKICAgKiBAcHJvdGVjdGVkCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gUGx1Z2luQ29uc3RydWN0b3IgVGhlIHBsdWdpbiBjb25zdHJ1Y3Rvci4KICAgKiBAcGFyYW0ge21vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5JbnRlcmZhY2V9IHBsdWdpbiBUaGUgaW5zdGFuY2Ugb2YgdGhlIHBsdWdpbi4KICAgKi8KCgogIF9hZGQoUGx1Z2luQ29uc3RydWN0b3IsIHBsdWdpbikgewogICAgdGhpcy5fcGx1Z2lucy5zZXQoUGx1Z2luQ29uc3RydWN0b3IsIHBsdWdpbik7CgogICAgY29uc3QgcGx1Z2luTmFtZSA9IFBsdWdpbkNvbnN0cnVjdG9yLnBsdWdpbk5hbWU7CgogICAgaWYgKCFwbHVnaW5OYW1lKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAodGhpcy5fcGx1Z2lucy5oYXMocGx1Z2luTmFtZSkpIHsKICAgICAgLyoqCiAgICAgICAqIFR3byBwbHVnaW5zIHdpdGggdGhlIHNhbWUge0BsaW5rIG1vZHVsZTpjb3JlL3BsdWdpbn5QbHVnaW5JbnRlcmZhY2UucGx1Z2luTmFtZX0gd2VyZSBsb2FkZWQuCiAgICAgICAqIFRoaXMgd2lsbCBsZWFkIHRvIHJ1bnRpbWUgY29uZmxpY3RzIGJldHdlZW4gdGhlc2UgcGx1Z2lucy4KICAgICAgICoKICAgICAgICogSW4gcHJhY3RpY2UsIHRoaXMgd2FybmluZyB1c3VhbGx5IG1lYW5zIHRoYXQgbmV3IHBsdWdpbnMgd2VyZSBhZGRlZCB0byBhbiBleGlzdGluZyBDS0VkaXRvciA1IGJ1aWxkLgogICAgICAgKiBQbHVnaW5zIHNob3VsZCBhbHdheXMgYmUgYWRkZWQgdG8gYSBzb3VyY2UgdmVyc2lvbiBvZiB0aGUgZWRpdG9yIChgQGNrZWRpdG9yL2NrZWRpdG9yNS1lZGl0b3ItKmApLAogICAgICAgKiBub3QgdG8gYW4gZWRpdG9yIGltcG9ydGVkIGZyb20gb25lIG9mIHRoZSBgQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC0qYCBwYWNrYWdlcy4KICAgICAgICoKICAgICAgICogQ2hlY2sgeW91ciBpbXBvcnQgcGF0aHMgYW5kIHRoZSBsaXN0IG9mIHBsdWdpbnMgcGFzc2VkIHRvCiAgICAgICAqIHtAbGluayBtb2R1bGU6Y29yZS9lZGl0b3IvZWRpdG9yfkVkaXRvci5jcmVhdGUgYEVkaXRvci5jcmVhdGUoKWB9CiAgICAgICAqIG9yIHNwZWNpZmllZCBpbiB7QGxpbmsgbW9kdWxlOmNvcmUvZWRpdG9yL2VkaXRvcn5FZGl0b3IuYnVpbHRpblBsdWdpbnMgYEVkaXRvci5idWlsdGluUGx1Z2luc2B9LgogICAgICAgKgogICAgICAgKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyB0aGF0IHlvdXIgYG5vZGVfbW9kdWxlcy9gIGRpcmVjdG9yeSBjb250YWlucyBkdXBsaWNhdGVkIHZlcnNpb25zIG9mIHRoZSBzYW1lCiAgICAgICAqIENLRWRpdG9yIDUgcGFja2FnZXMuIE5vcm1hbGx5LCBvbiBjbGVhbiBpbnN0YWxsYXRpb25zLCBucG0gZGVkdXBsaWNhdGVzIHBhY2thZ2VzIGluIGBub2RlX21vZHVsZXMvYCwgc28KICAgICAgICogaXQgbWF5IGJlIGVub3VnaCB0byBjYWxsIGBybSAtcmYgbm9kZV9tb2R1bGVzICYmIG5wbSBpYC4gSG93ZXZlciwgaWYgeW91IGluc3RhbGxlZCBjb25mbGljdGluZyB2ZXJzaW9ucwogICAgICAgKiBvZiBwYWNrYWdlcywgdGhlaXIgZGVwZW5kZW5jaWVzIG1heSBuZWVkIHRvIGJlIGluc3RhbGxlZCBpbiBtb3JlIHRoYW4gb25lIHZlcnNpb24gd2hpY2ggbWF5IGxlYWQgdG8gdGhpcwogICAgICAgKiB3YXJuaW5nLgogICAgICAgKgogICAgICAgKiBUZWNobmljYWxseSBzcGVha2luZywgdGhpcyBlcnJvciBvY2N1cnMgYmVjYXVzZSBhZnRlciBhZGRpbmcgYSBwbHVnaW4gdG8gYW4gZXhpc3RpbmcgZWRpdG9yIGJ1aWxkCiAgICAgICAqIGRlcGVuZGVuY2llcyBvZiB0aGlzIHBsdWdpbiBhcmUgYmVpbmcgZHVwbGljYXRlZC4KICAgICAgICogVGhleSBhcmUgYWxyZWFkeSBidWlsdCBpbnRvIHRoYXQgZWRpdG9yIGJ1aWxkIGFuZCBub3cgZ2V0IGFkZGVkIGZvciB0aGUgc2Vjb25kIHRpbWUgYXMgZGVwZW5kZW5jaWVzCiAgICAgICAqIG9mIHRoZSBwbHVnaW4geW91IGFyZSBpbnN0YWxsaW5nLgogICAgICAgKgogICAgICAgKiBSZWFkIG1vcmUgYWJvdXQge0BnbGluayBidWlsZHMvZ3VpZGVzL2ludGVncmF0aW9uL2luc3RhbGxpbmctcGx1Z2lucyBpbnN0YWxsaW5nIHBsdWdpbnN9LgogICAgICAgKgogICAgICAgKiBAZXJyb3IgcGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbmFtZS1jb25mbGljdAogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGx1Z2luTmFtZSBUaGUgZHVwbGljYXRlZCBwbHVnaW4gbmFtZS4KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcGx1Z2luMSBUaGUgZmlyc3QgcGx1Z2luIGNvbnN0cnVjdG9yLgogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwbHVnaW4yIFRoZSBzZWNvbmQgcGx1Z2luIGNvbnN0cnVjdG9yLgogICAgICAgKi8KICAgICAgdGhyb3cgbmV3IENLRWRpdG9yRXJyb3IoJ3BsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5hbWUtY29uZmxpY3Q6IFR3byBwbHVnaW5zIHdpdGggdGhlIHNhbWUgbmFtZSB3ZXJlIGxvYWRlZC4nLCBudWxsLCB7CiAgICAgICAgcGx1Z2luTmFtZSwKICAgICAgICBwbHVnaW4xOiB0aGlzLl9wbHVnaW5zLmdldChwbHVnaW5OYW1lKS5jb25zdHJ1Y3RvciwKICAgICAgICBwbHVnaW4yOiBQbHVnaW5Db25zdHJ1Y3RvcgogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLl9wbHVnaW5zLnNldChwbHVnaW5OYW1lLCBwbHVnaW4pOwogIH0KCn0KbWl4KFBsdWdpbkNvbGxlY3Rpb24sIEVtaXR0ZXJNaXhpbik7"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-core/src/plugincollection.js"],"names":["CKEditorError","attachLinkToDocumentation","EmitterMixin","mix","PluginCollection","constructor","editor","availablePlugins","_editor","_availablePlugins","Map","_plugins","PluginConstructor","set","pluginName","Symbol","iterator","entry","get","key","plugin","errorMsg","name","has","init","plugins","removePlugins","that","loading","Set","loaded","pluginConstructors","mapToAvailableConstructors","removePluginConstructors","missingPlugins","getMissingPluginNames","console","error","Promise","reject","all","map","loadPlugin","then","initPlugins","includes","instantiatePlugin","catch","err","loadedPlugins","method","reduce","promise","bind","resolve","add","requires","forEach","RequiredPluginConstructorOrName","RequiredPluginConstructor","getPluginConstructor","requiredBy","_add","push","PluginConstructorOrName","pluginNameOrConstructor","length","filter","destroy","promises","Array","from","pluginInstance","plugin1","plugin2"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module core/plugincollection\n */\n\n/* globals console */\n\nimport CKEditorError, { attachLinkToDocumentation } from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n\nimport EmitterMixin from '@ckeditor/ckeditor5-utils/src/emittermixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\n\n/**\n * Manages a list of CKEditor plugins, including loading, resolving dependencies and initialization.\n *\n * @mixes module:utils/emittermixin~EmitterMixin\n */\nexport default class PluginCollection {\n\t/**\n\t * Creates an instance of the PluginCollection class.\n\t * Allows loading and initializing plugins and their dependencies.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor\n\t * @param {Array.<Function>} [availablePlugins] Plugins (constructors) which the collection will be able to use\n\t * when {@link module:core/plugincollection~PluginCollection#init} is used with plugin names (strings, instead of constructors).\n\t * Usually, the editor will pass its built-in plugins to the collection so they can later be\n\t * used in `config.plugins` or `config.removePlugins` by names.\n\t */\n\tconstructor( editor, availablePlugins = [] ) {\n\t\t/**\n\t\t * @protected\n\t\t * @member {module:core/editor/editor~Editor} module:core/plugin~PluginCollection#_editor\n\t\t */\n\t\tthis._editor = editor;\n\n\t\t/**\n\t\t * Map of plugin constructors which can be retrieved by their names.\n\t\t *\n\t\t * @protected\n\t\t * @member {Map.<String|Function,Function>} module:core/plugin~PluginCollection#_availablePlugins\n\t\t */\n\t\tthis._availablePlugins = new Map();\n\n\t\t/**\n\t\t * @protected\n\t\t * @member {Map} module:core/plugin~PluginCollection#_plugins\n\t\t */\n\t\tthis._plugins = new Map();\n\n\t\tfor ( const PluginConstructor of availablePlugins ) {\n\t\t\tthis._availablePlugins.set( PluginConstructor, PluginConstructor );\n\n\t\t\tif ( PluginConstructor.pluginName ) {\n\t\t\t\tthis._availablePlugins.set( PluginConstructor.pluginName, PluginConstructor );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Iterable interface.\n\t *\n\t * Returns `[ PluginConstructor, pluginInstance ]` pairs.\n\t *\n\t * @returns {Iterable.<Array>}\n\t */\n\t* [ Symbol.iterator ]() {\n\t\tfor ( const entry of this._plugins ) {\n\t\t\tif ( typeof entry[ 0 ] == 'function' ) {\n\t\t\t\tyield entry;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Gets the plugin instance by its constructor or name.\n\t *\n\t *\t\t// Check if 'Clipboard' plugin was loaded.\n\t *\t\tif ( editor.plugins.has( 'Clipboard' ) ) {\n\t *\t\t\t// Get clipboard plugin instance\n\t *\t\t\tconst clipboard = editor.plugins.get( 'Clipboard' );\n\t *\n\t *\t\t\tthis.listenTo( clipboard, 'inputTransformation', ( evt, data ) => {\n\t *\t\t\t\t// Do something on clipboard input.\n\t *\t\t\t} );\n\t *\t\t}\n\t *\n\t * **Note**: This method will throw error if plugin is not loaded. Use `{@link #has editor.plugins.has()}`\n\t * to check if plugin is available.\n\t *\n\t * @param {Function|String} key The plugin constructor or {@link module:core/plugin~PluginInterface.pluginName name}.\n\t * @returns {module:core/plugin~PluginInterface}\n\t */\n\tget( key ) {\n\t\tconst plugin = this._plugins.get( key );\n\n\t\tif ( !plugin ) {\n\t\t\t/**\n\t\t\t * The plugin is not loaded and could not be obtained.\n\t\t\t *\n\t\t\t * Plugin classes (constructors) need to be provided to the editor and must be loaded before they can be obtained from\n\t\t\t * the plugin collection.\n\t\t\t * This is usually done in CKEditor 5 builds by setting the {@link module:core/editor/editor~Editor.builtinPlugins}\n\t\t\t * property.\n\t\t\t *\n\t\t\t * **Note**: You can use `{@link module:core/plugincollection~PluginCollection#has editor.plugins.has()}`\n\t\t\t * to check if plugin was loaded.\n\t\t\t *\n\t\t\t * @error plugincollection-plugin-not-loaded\n\t\t\t * @param {String} plugin The name of the plugin which is not loaded.\n\t\t\t */\n\t\t\tconst errorMsg = 'plugincollection-plugin-not-loaded: The requested plugin is not loaded.';\n\n\t\t\tlet pluginName = key;\n\n\t\t\tif ( typeof key == 'function' ) {\n\t\t\t\tpluginName = key.pluginName || key.name;\n\t\t\t}\n\n\t\t\tthrow new CKEditorError( errorMsg, this._editor, { plugin: pluginName } );\n\t\t}\n\n\t\treturn plugin;\n\t}\n\n\t/**\n\t * Checks if plugin is loaded.\n\t *\n\t *\t\t// Check if 'Clipboard' plugin was loaded.\n\t *\t\tif ( editor.plugins.has( 'Clipboard' ) ) {\n\t *\t\t\t// Now use clipboard plugin instance:\n\t *\t\t\tconst clipboard = editor.plugins.get( 'Clipboard' );\n\t *\n\t *\t\t\t// ...\n\t *\t\t}\n\t *\n\t * @param {Function|String} key The plugin constructor or {@link module:core/plugin~PluginInterface.pluginName name}.\n\t * @returns {Boolean}\n\t */\n\thas( key ) {\n\t\treturn this._plugins.has( key );\n\t}\n\n\t/**\n\t * Initializes a set of plugins and adds them to the collection.\n\t *\n\t * @param {Array.<Function|String>} plugins An array of {@link module:core/plugin~PluginInterface plugin constructors}\n\t * or {@link module:core/plugin~PluginInterface.pluginName plugin names}. The second option (names) works only if\n\t * `availablePlugins` were passed to the {@link #constructor}.\n\t * @param {Array.<String|Function>} [removePlugins] Names of plugins or plugin constructors\n\t * that should not be loaded (despite being specified in the `plugins` array).\n\t * @returns {Promise.<module:core/plugin~LoadedPlugins>} A promise which gets resolved once all plugins are loaded\n\t * and available in the collection.\n\t */\n\tinit( plugins, removePlugins = [] ) {\n\t\tconst that = this;\n\t\tconst editor = this._editor;\n\t\tconst loading = new Set();\n\t\tconst loaded = [];\n\n\t\tconst pluginConstructors = mapToAvailableConstructors( plugins );\n\t\tconst removePluginConstructors = mapToAvailableConstructors( removePlugins );\n\t\tconst missingPlugins = getMissingPluginNames( plugins );\n\n\t\tif ( missingPlugins ) {\n\t\t\t/**\n\t\t\t * Some plugins are not available and could not be loaded.\n\t\t\t *\n\t\t\t * Plugin classes (constructors) need to be provided to the editor before they can be loaded by name.\n\t\t\t * This is usually done in CKEditor 5 builds by setting the {@link module:core/editor/editor~Editor.builtinPlugins}\n\t\t\t * property.\n\t\t\t *\n\t\t\t * **If you see this warning when using one of the {@glink builds/index CKEditor 5 Builds}**, it means\n\t\t\t * that you try to enable a plugin which was not included in that build. This may be due to a typo\n\t\t\t * in the plugin name or simply because that plugin is not a part of this build. In the latter scenario,\n\t\t\t * read more about {@glink builds/guides/development/custom-builds custom builds}.\n\t\t\t *\n\t\t\t * **If you see this warning when using one of the editor creators directly** (not a build), then it means\n\t\t\t * that you tried loading plugins by name. However, unlike CKEditor 4, CKEditor 5 does not implement a \"plugin loader\".\n\t\t\t * This means that CKEditor 5 does not know where to load the plugin modules from. Therefore, you need to\n\t\t\t * provide each plugin through reference (as a constructor function). Check out the examples in\n\t\t\t * {@glink builds/guides/integration/advanced-setup#scenario-2-building-from-source \"Building from source\"}.\n\t\t\t *\n\t\t\t * @error plugincollection-plugin-not-found\n\t\t\t * @param {Array.<String>} plugins The name of the plugins which could not be loaded.\n\t\t\t */\n\t\t\tconst errorMsg = 'plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';\n\n\t\t\t// Log the error so it's more visible on the console. Hopefully, for better DX.\n\t\t\tconsole.error( attachLinkToDocumentation( errorMsg ), { plugins: missingPlugins } );\n\n\t\t\treturn Promise.reject( new CKEditorError( errorMsg, this._editor, { plugins: missingPlugins } ) );\n\t\t}\n\n\t\treturn Promise.all( pluginConstructors.map( loadPlugin ) )\n\t\t\t.then( () => initPlugins( loaded, 'init' ) )\n\t\t\t.then( () => initPlugins( loaded, 'afterInit' ) )\n\t\t\t.then( () => loaded );\n\n\t\tfunction loadPlugin( PluginConstructor ) {\n\t\t\tif ( removePluginConstructors.includes( PluginConstructor ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// The plugin is already loaded or being loaded - do nothing.\n\t\t\tif ( that._plugins.has( PluginConstructor ) || loading.has( PluginConstructor ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn instantiatePlugin( PluginConstructor )\n\t\t\t\t.catch( err => {\n\t\t\t\t\t/**\n\t\t\t\t\t * It was not possible to load the plugin.\n\t\t\t\t\t *\n\t\t\t\t\t * This is a generic error logged to the console when a JavaSript error is thrown during the initialization\n\t\t\t\t\t * of one of the plugins.\n\t\t\t\t\t *\n\t\t\t\t\t * If you correctly handled the promise returned by the editor's `create()` method (like shown below)\n\t\t\t\t\t * you will find the original error logged to the console, too:\n\t\t\t\t\t *\n\t\t\t\t\t *\t\tClassicEditor.create( document.getElementById( 'editor' ) )\n\t\t\t\t\t *\t\t\t.then( editor => {\n\t\t\t\t\t *\t\t\t\t// ...\n\t\t\t\t\t * \t\t\t} )\n\t\t\t\t\t *\t\t\t.catch( error => {\n\t\t\t\t\t *\t\t\t\tconsole.error( error );\n\t\t\t\t\t *\t\t\t} );\n\t\t\t\t\t *\n\t\t\t\t\t * @error plugincollection-load\n\t\t\t\t\t * @param {String} plugin The name of the plugin that could not be loaded.\n\t\t\t\t\t */\n\t\t\t\t\tconsole.error( attachLinkToDocumentation(\n\t\t\t\t\t\t'plugincollection-load: It was not possible to load the plugin.'\n\t\t\t\t\t), { plugin: PluginConstructor } );\n\n\t\t\t\t\tthrow err;\n\t\t\t\t} );\n\t\t}\n\n\t\tfunction initPlugins( loadedPlugins, method ) {\n\t\t\treturn loadedPlugins.reduce( ( promise, plugin ) => {\n\t\t\t\tif ( !plugin[ method ] ) {\n\t\t\t\t\treturn promise;\n\t\t\t\t}\n\n\t\t\t\treturn promise.then( plugin[ method ].bind( plugin ) );\n\t\t\t}, Promise.resolve() );\n\t\t}\n\n\t\tfunction instantiatePlugin( PluginConstructor ) {\n\t\t\treturn new Promise( resolve => {\n\t\t\t\tloading.add( PluginConstructor );\n\n\t\t\t\tif ( PluginConstructor.requires ) {\n\t\t\t\t\tPluginConstructor.requires.forEach( RequiredPluginConstructorOrName => {\n\t\t\t\t\t\tconst RequiredPluginConstructor = getPluginConstructor( RequiredPluginConstructorOrName );\n\n\t\t\t\t\t\tif ( removePlugins.includes( RequiredPluginConstructor ) ) {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * Cannot load a plugin because one of its dependencies is listed in the `removePlugins` option.\n\t\t\t\t\t\t\t *\n\t\t\t\t\t\t\t * @error plugincollection-required\n\t\t\t\t\t\t\t * @param {Function} plugin The required plugin.\n\t\t\t\t\t\t\t * @param {Function} requiredBy The parent plugin.\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tthrow new CKEditorError(\n\t\t\t\t\t\t\t\t'plugincollection-required: Cannot load a plugin because one of its dependencies is listed in' +\n\t\t\t\t\t\t\t\t'the `removePlugins` option.',\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\t{ plugin: RequiredPluginConstructor, requiredBy: PluginConstructor }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tloadPlugin( RequiredPluginConstructor );\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tconst plugin = new PluginConstructor( editor );\n\t\t\t\tthat._add( PluginConstructor, plugin );\n\t\t\t\tloaded.push( plugin );\n\n\t\t\t\tresolve();\n\t\t\t} );\n\t\t}\n\n\t\tfunction getPluginConstructor( PluginConstructorOrName ) {\n\t\t\tif ( typeof PluginConstructorOrName == 'function' ) {\n\t\t\t\treturn PluginConstructorOrName;\n\t\t\t}\n\n\t\t\treturn that._availablePlugins.get( PluginConstructorOrName );\n\t\t}\n\n\t\tfunction getMissingPluginNames( plugins ) {\n\t\t\tconst missingPlugins = [];\n\n\t\t\tfor ( const pluginNameOrConstructor of plugins ) {\n\t\t\t\tif ( !getPluginConstructor( pluginNameOrConstructor ) ) {\n\t\t\t\t\tmissingPlugins.push( pluginNameOrConstructor );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn missingPlugins.length ? missingPlugins : null;\n\t\t}\n\n\t\tfunction mapToAvailableConstructors( plugins ) {\n\t\t\treturn plugins\n\t\t\t\t.map( pluginNameOrConstructor => getPluginConstructor( pluginNameOrConstructor ) )\n\t\t\t\t.filter( PluginConstructor => !!PluginConstructor );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all loaded plugins.\n\t *\n\t * @returns {Promise}\n\t */\n\tdestroy() {\n\t\tconst promises = Array.from( this )\n\t\t\t.map( ( [ , pluginInstance ] ) => pluginInstance )\n\t\t\t.filter( pluginInstance => typeof pluginInstance.destroy == 'function' )\n\t\t\t.map( pluginInstance => pluginInstance.destroy() );\n\n\t\treturn Promise.all( promises );\n\t}\n\n\t/**\n\t * Adds the plugin to the collection. Exposed mainly for testing purposes.\n\t *\n\t * @protected\n\t * @param {Function} PluginConstructor The plugin constructor.\n\t * @param {module:core/plugin~PluginInterface} plugin The instance of the plugin.\n\t */\n\t_add( PluginConstructor, plugin ) {\n\t\tthis._plugins.set( PluginConstructor, plugin );\n\n\t\tconst pluginName = PluginConstructor.pluginName;\n\n\t\tif ( !pluginName ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this._plugins.has( pluginName ) ) {\n\t\t\t/**\n\t\t\t * Two plugins with the same {@link module:core/plugin~PluginInterface.pluginName} were loaded.\n\t\t\t * This will lead to runtime conflicts between these plugins.\n\t\t\t *\n\t\t\t * In practice, this warning usually means that new plugins were added to an existing CKEditor 5 build.\n\t\t\t * Plugins should always be added to a source version of the editor (`@ckeditor/ckeditor5-editor-*`),\n\t\t\t * not to an editor imported from one of the `@ckeditor/ckeditor5-build-*` packages.\n\t\t\t *\n\t\t\t * Check your import paths and the list of plugins passed to\n\t\t\t * {@link module:core/editor/editor~Editor.create `Editor.create()`}\n\t\t\t * or specified in {@link module:core/editor/editor~Editor.builtinPlugins `Editor.builtinPlugins`}.\n\t\t\t *\n\t\t\t * The second option is that your `node_modules/` directory contains duplicated versions of the same\n\t\t\t * CKEditor 5 packages. Normally, on clean installations, npm deduplicates packages in `node_modules/`, so\n\t\t\t * it may be enough to call `rm -rf node_modules && npm i`. However, if you installed conflicting versions\n\t\t\t * of packages, their dependencies may need to be installed in more than one version which may lead to this\n\t\t\t * warning.\n\t\t\t *\n\t\t\t * Technically speaking, this error occurs because after adding a plugin to an existing editor build\n\t\t\t * dependencies of this plugin are being duplicated.\n\t\t\t * They are already built into that editor build and now get added for the second time as dependencies\n\t\t\t * of the plugin you are installing.\n\t\t\t *\n\t\t\t * Read more about {@glink builds/guides/integration/installing-plugins installing plugins}.\n\t\t\t *\n\t\t\t * @error plugincollection-plugin-name-conflict\n\t\t\t * @param {String} pluginName The duplicated plugin name.\n\t\t\t * @param {Function} plugin1 The first plugin constructor.\n\t\t\t * @param {Function} plugin2 The second plugin constructor.\n\t\t\t */\n\t\t\tthrow new CKEditorError(\n\t\t\t\t'plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.',\n\t\t\t\tnull,\n\t\t\t\t{ pluginName, plugin1: this._plugins.get( pluginName ).constructor, plugin2: PluginConstructor }\n\t\t\t);\n\t\t}\n\n\t\tthis._plugins.set( pluginName, plugin );\n\t}\n}\n\nmix( PluginCollection, EmitterMixin );\n"]}]}