{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedediting.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedediting.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIG1lZGlhLWVtYmVkL21lZGlhZW1iZWRlZGl0aW5nCiAqLwppbXBvcnQgUGx1Z2luIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS9zcmMvcGx1Z2luJzsKaW1wb3J0IHsgbW9kZWxUb1ZpZXdVcmxBdHRyaWJ1dGVDb252ZXJ0ZXIgfSBmcm9tICcuL2NvbnZlcnRlcnMnOwppbXBvcnQgTWVkaWFFbWJlZENvbW1hbmQgZnJvbSAnLi9tZWRpYWVtYmVkY29tbWFuZCc7CmltcG9ydCBNZWRpYVJlZ2lzdHJ5IGZyb20gJy4vbWVkaWFyZWdpc3RyeSc7CmltcG9ydCB7IHRvTWVkaWFXaWRnZXQsIGNyZWF0ZU1lZGlhRmlndXJlRWxlbWVudCB9IGZyb20gJy4vdXRpbHMnOwppbXBvcnQgJy4uL3RoZW1lL21lZGlhZW1iZWRlZGl0aW5nLmNzcyc7Ci8qKgogKiBUaGUgbWVkaWEgZW1iZWQgZWRpdGluZyBmZWF0dXJlLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVkaWFFbWJlZEVkaXRpbmcgZXh0ZW5kcyBQbHVnaW4gewogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCiAgc3RhdGljIGdldCBwbHVnaW5OYW1lKCkgewogICAgcmV0dXJuICdNZWRpYUVtYmVkRWRpdGluZyc7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBjb25zdHJ1Y3RvcihlZGl0b3IpIHsKICAgIHN1cGVyKGVkaXRvcik7CiAgICBlZGl0b3IuY29uZmlnLmRlZmluZSgnbWVkaWFFbWJlZCcsIHsKICAgICAgcHJvdmlkZXJzOiBbewogICAgICAgIG5hbWU6ICdkYWlseW1vdGlvbicsCiAgICAgICAgdXJsOiAvXmRhaWx5bW90aW9uXC5jb21cL3ZpZGVvXC8oXHcrKS8sCiAgICAgICAgaHRtbDogbWF0Y2ggPT4gewogICAgICAgICAgY29uc3QgaWQgPSBtYXRjaFsxXTsKICAgICAgICAgIHJldHVybiAnPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nLWJvdHRvbTogMTAwJTsgaGVpZ2h0OiAwOyAiPicgKyBgPGlmcmFtZSBzcmM9Imh0dHBzOi8vd3d3LmRhaWx5bW90aW9uLmNvbS9lbWJlZC92aWRlby8ke2lkfSIgYCArICdzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB0b3A6IDA7IGxlZnQ6IDA7IiAnICsgJ2ZyYW1lYm9yZGVyPSIwIiB3aWR0aD0iNDgwIiBoZWlnaHQ9IjI3MCIgYWxsb3dmdWxsc2NyZWVuIGFsbG93PSJhdXRvcGxheSI+JyArICc8L2lmcmFtZT4nICsgJzwvZGl2Pic7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3Nwb3RpZnknLAogICAgICAgIHVybDogWy9eb3Blblwuc3BvdGlmeVwuY29tXC8oYXJ0aXN0XC9cdyspLywgL15vcGVuXC5zcG90aWZ5XC5jb21cLyhhbGJ1bVwvXHcrKS8sIC9eb3Blblwuc3BvdGlmeVwuY29tXC8odHJhY2tcL1x3KykvXSwKICAgICAgICBodG1sOiBtYXRjaCA9PiB7CiAgICAgICAgICBjb25zdCBpZCA9IG1hdGNoWzFdOwogICAgICAgICAgcmV0dXJuICc8ZGl2IHN0eWxlPSJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmctYm90dG9tOiAxMDAlOyBoZWlnaHQ6IDA7IHBhZGRpbmctYm90dG9tOiAxMjYlOyI+JyArIGA8aWZyYW1lIHNyYz0iaHR0cHM6Ly9vcGVuLnNwb3RpZnkuY29tL2VtYmVkLyR7aWR9IiBgICsgJ3N0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHRvcDogMDsgbGVmdDogMDsiICcgKyAnZnJhbWVib3JkZXI9IjAiIGFsbG93dHJhbnNwYXJlbmN5PSJ0cnVlIiBhbGxvdz0iZW5jcnlwdGVkLW1lZGlhIj4nICsgJzwvaWZyYW1lPicgKyAnPC9kaXY+JzsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBuYW1lOiAneW91dHViZScsCiAgICAgICAgdXJsOiBbL14oPzptXC4pP3lvdXR1YmVcLmNvbVwvd2F0Y2hcP3Y9KFtcdy1dKykvLCAvXig/Om1cLik/eW91dHViZVwuY29tXC92XC8oW1x3LV0rKS8sIC9eeW91dHViZVwuY29tXC9lbWJlZFwvKFtcdy1dKykvLCAvXnlvdXR1XC5iZVwvKFtcdy1dKykvXSwKICAgICAgICBodG1sOiBtYXRjaCA9PiB7CiAgICAgICAgICBjb25zdCBpZCA9IG1hdGNoWzFdOwogICAgICAgICAgcmV0dXJuICc8ZGl2IHN0eWxlPSJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmctYm90dG9tOiAxMDAlOyBoZWlnaHQ6IDA7IHBhZGRpbmctYm90dG9tOiA1Ni4yNDkzJTsiPicgKyBgPGlmcmFtZSBzcmM9Imh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7aWR9IiBgICsgJ3N0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHRvcDogMDsgbGVmdDogMDsiICcgKyAnZnJhbWVib3JkZXI9IjAiIGFsbG93PSJhdXRvcGxheTsgZW5jcnlwdGVkLW1lZGlhIiBhbGxvd2Z1bGxzY3JlZW4+JyArICc8L2lmcmFtZT4nICsgJzwvZGl2Pic7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ3ZpbWVvJywKICAgICAgICB1cmw6IFsvXnZpbWVvXC5jb21cLyhcZCspLywgL152aW1lb1wuY29tXC9bXi9dK1wvW14vXStcL3ZpZGVvXC8oXGQrKS8sIC9edmltZW9cLmNvbVwvYWxidW1cL1teL10rXC92aWRlb1wvKFxkKykvLCAvXnZpbWVvXC5jb21cL2NoYW5uZWxzXC9bXi9dK1wvKFxkKykvLCAvXnZpbWVvXC5jb21cL2dyb3Vwc1wvW14vXStcL3ZpZGVvc1wvKFxkKykvLCAvXnZpbWVvXC5jb21cL29uZGVtYW5kXC9bXi9dK1wvKFxkKykvLCAvXnBsYXllclwudmltZW9cLmNvbVwvdmlkZW9cLyhcZCspL10sCiAgICAgICAgaHRtbDogbWF0Y2ggPT4gewogICAgICAgICAgY29uc3QgaWQgPSBtYXRjaFsxXTsKICAgICAgICAgIHJldHVybiAnPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nLWJvdHRvbTogMTAwJTsgaGVpZ2h0OiAwOyBwYWRkaW5nLWJvdHRvbTogNTYuMjQ5MyU7Ij4nICsgYDxpZnJhbWUgc3JjPSJodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vJHtpZH0iIGAgKyAnc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgdG9wOiAwOyBsZWZ0OiAwOyIgJyArICdmcmFtZWJvcmRlcj0iMCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd2Z1bGxzY3JlZW4+JyArICc8L2lmcmFtZT4nICsgJzwvZGl2Pic7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2luc3RhZ3JhbScsCiAgICAgICAgdXJsOiAvXmluc3RhZ3JhbVwuY29tXC9wXC8oXHcrKS8KICAgICAgfSwgewogICAgICAgIG5hbWU6ICd0d2l0dGVyJywKICAgICAgICB1cmw6IC9edHdpdHRlclwuY29tLwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ2dvb2dsZU1hcHMnLAogICAgICAgIHVybDogL15nb29nbGVcLmNvbVwvbWFwcy8KICAgICAgfSwgewogICAgICAgIG5hbWU6ICdmbGlja3InLAogICAgICAgIHVybDogL15mbGlja3JcLmNvbS8KICAgICAgfSwgewogICAgICAgIG5hbWU6ICdmYWNlYm9vaycsCiAgICAgICAgdXJsOiAvXmZhY2Vib29rXC5jb20vCiAgICAgIH1dCiAgICB9KTsKICAgIC8qKgogICAgICogVGhlIG1lZGlhIHJlZ2lzdHJ5IG1hbmFnaW5nIHRoZSBtZWRpYSBwcm92aWRlcnMgaW4gdGhlIGVkaXRvci4KICAgICAqCiAgICAgKiBAbWVtYmVyIHttb2R1bGU6bWVkaWEtZW1iZWQvbWVkaWFyZWdpc3RyeX5NZWRpYVJlZ2lzdHJ5fSAjcmVnaXN0cnkKICAgICAqLwoKICAgIHRoaXMucmVnaXN0cnkgPSBuZXcgTWVkaWFSZWdpc3RyeShlZGl0b3IubG9jYWxlLCBlZGl0b3IuY29uZmlnLmdldCgnbWVkaWFFbWJlZCcpKTsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIGluaXQoKSB7CiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgIGNvbnN0IHNjaGVtYSA9IGVkaXRvci5tb2RlbC5zY2hlbWE7CiAgICBjb25zdCB0ID0gZWRpdG9yLnQ7CiAgICBjb25zdCBjb252ZXJzaW9uID0gZWRpdG9yLmNvbnZlcnNpb247CiAgICBjb25zdCByZW5kZXJNZWRpYVByZXZpZXcgPSBlZGl0b3IuY29uZmlnLmdldCgnbWVkaWFFbWJlZC5wcmV2aWV3c0luRGF0YScpOwogICAgY29uc3QgcmVnaXN0cnkgPSB0aGlzLnJlZ2lzdHJ5OwogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnbWVkaWFFbWJlZCcsIG5ldyBNZWRpYUVtYmVkQ29tbWFuZChlZGl0b3IpKTsgLy8gQ29uZmlndXJlIHRoZSBzY2hlbWEuCgogICAgc2NoZW1hLnJlZ2lzdGVyKCdtZWRpYScsIHsKICAgICAgaXNPYmplY3Q6IHRydWUsCiAgICAgIGlzQmxvY2s6IHRydWUsCiAgICAgIGFsbG93V2hlcmU6ICckYmxvY2snLAogICAgICBhbGxvd0F0dHJpYnV0ZXM6IFsndXJsJ10KICAgIH0pOyAvLyBNb2RlbCAtPiBEYXRhCgogICAgY29udmVyc2lvbi5mb3IoJ2RhdGFEb3duY2FzdCcpLmVsZW1lbnRUb0VsZW1lbnQoewogICAgICBtb2RlbDogJ21lZGlhJywKICAgICAgdmlldzogKG1vZGVsRWxlbWVudCwgdmlld1dyaXRlcikgPT4gewogICAgICAgIGNvbnN0IHVybCA9IG1vZGVsRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3VybCcpOwogICAgICAgIHJldHVybiBjcmVhdGVNZWRpYUZpZ3VyZUVsZW1lbnQodmlld1dyaXRlciwgcmVnaXN0cnksIHVybCwgewogICAgICAgICAgcmVuZGVyTWVkaWFQcmV2aWV3OiB1cmwgJiYgcmVuZGVyTWVkaWFQcmV2aWV3CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOyAvLyBNb2RlbCAtPiBEYXRhICh1cmwgLT4gZGF0YS1vZW1iZWQtdXJsKQoKICAgIGNvbnZlcnNpb24uZm9yKCdkYXRhRG93bmNhc3QnKS5hZGQobW9kZWxUb1ZpZXdVcmxBdHRyaWJ1dGVDb252ZXJ0ZXIocmVnaXN0cnksIHsKICAgICAgcmVuZGVyTWVkaWFQcmV2aWV3CiAgICB9KSk7IC8vIE1vZGVsIC0+IFZpZXcgKGVsZW1lbnQpCgogICAgY29udmVyc2lvbi5mb3IoJ2VkaXRpbmdEb3duY2FzdCcpLmVsZW1lbnRUb0VsZW1lbnQoewogICAgICBtb2RlbDogJ21lZGlhJywKICAgICAgdmlldzogKG1vZGVsRWxlbWVudCwgdmlld1dyaXRlcikgPT4gewogICAgICAgIGNvbnN0IHVybCA9IG1vZGVsRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3VybCcpOwogICAgICAgIGNvbnN0IGZpZ3VyZSA9IGNyZWF0ZU1lZGlhRmlndXJlRWxlbWVudCh2aWV3V3JpdGVyLCByZWdpc3RyeSwgdXJsLCB7CiAgICAgICAgICByZW5kZXJGb3JFZGl0aW5nVmlldzogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0b01lZGlhV2lkZ2V0KGZpZ3VyZSwgdmlld1dyaXRlciwgdCgnbWVkaWEgd2lkZ2V0JykpOwogICAgICB9CiAgICB9KTsgLy8gTW9kZWwgLT4gVmlldyAodXJsIC0+IGRhdGEtb2VtYmVkLXVybCkKCiAgICBjb252ZXJzaW9uLmZvcignZWRpdGluZ0Rvd25jYXN0JykuYWRkKG1vZGVsVG9WaWV3VXJsQXR0cmlidXRlQ29udmVydGVyKHJlZ2lzdHJ5LCB7CiAgICAgIHJlbmRlckZvckVkaXRpbmdWaWV3OiB0cnVlCiAgICB9KSk7IC8vIFZpZXcgLT4gTW9kZWwgKGRhdGEtb2VtYmVkLXVybCAtPiB1cmwpCgogICAgY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpIC8vIFVwY2FzdCBzZW1hbnRpYyBtZWRpYS4KICAgIC5lbGVtZW50VG9FbGVtZW50KHsKICAgICAgdmlldzogewogICAgICAgIG5hbWU6ICdvZW1iZWQnLAogICAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICAgIHVybDogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgbW9kZWw6ICh2aWV3TWVkaWEsIG1vZGVsV3JpdGVyKSA9PiB7CiAgICAgICAgY29uc3QgdXJsID0gdmlld01lZGlhLmdldEF0dHJpYnV0ZSgndXJsJyk7CgogICAgICAgIGlmIChyZWdpc3RyeS5oYXNNZWRpYSh1cmwpKSB7CiAgICAgICAgICByZXR1cm4gbW9kZWxXcml0ZXIuY3JlYXRlRWxlbWVudCgnbWVkaWEnLCB7CiAgICAgICAgICAgIHVybAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KSAvLyBVcGNhc3Qgbm9uLXNlbWFudGljIG1lZGlhLgogICAgLmVsZW1lbnRUb0VsZW1lbnQoewogICAgICB2aWV3OiB7CiAgICAgICAgbmFtZTogJ2RpdicsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgJ2RhdGEtb2VtYmVkLXVybCc6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1vZGVsOiAodmlld01lZGlhLCBtb2RlbFdyaXRlcikgPT4gewogICAgICAgIGNvbnN0IHVybCA9IHZpZXdNZWRpYS5nZXRBdHRyaWJ1dGUoJ2RhdGEtb2VtYmVkLXVybCcpOwoKICAgICAgICBpZiAocmVnaXN0cnkuaGFzTWVkaWEodXJsKSkgewogICAgICAgICAgcmV0dXJuIG1vZGVsV3JpdGVyLmNyZWF0ZUVsZW1lbnQoJ21lZGlhJywgewogICAgICAgICAgICB1cmwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfQoKfQ=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-media-embed/src/mediaembedediting.js"],"names":["Plugin","modelToViewUrlAttributeConverter","MediaEmbedCommand","MediaRegistry","toMediaWidget","createMediaFigureElement","MediaEmbedEditing","pluginName","constructor","editor","config","define","providers","name","url","html","match","id","registry","locale","get","init","schema","model","t","conversion","renderMediaPreview","commands","add","register","isObject","isBlock","allowWhere","allowAttributes","for","elementToElement","view","modelElement","viewWriter","getAttribute","figure","renderForEditingView","attributes","viewMedia","modelWriter","hasMedia","createElement"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module media-embed/mediaembedediting\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\n\nimport { modelToViewUrlAttributeConverter } from './converters';\nimport MediaEmbedCommand from './mediaembedcommand';\nimport MediaRegistry from './mediaregistry';\nimport { toMediaWidget, createMediaFigureElement } from './utils';\n\nimport '../theme/mediaembedediting.css';\n\n/**\n * The media embed editing feature.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class MediaEmbedEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'MediaEmbedEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tconstructor( editor ) {\n\t\tsuper( editor );\n\n\t\teditor.config.define( 'mediaEmbed', {\n\t\t\tproviders: [\n\t\t\t\t{\n\t\t\t\t\tname: 'dailymotion',\n\t\t\t\t\turl: /^dailymotion\\.com\\/video\\/(\\w+)/,\n\t\t\t\t\thtml: match => {\n\t\t\t\t\t\tconst id = match[ 1 ];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div style=\"position: relative; padding-bottom: 100%; height: 0; \">' +\n\t\t\t\t\t\t\t\t`<iframe src=\"https://www.dailymotion.com/embed/video/${ id }\" ` +\n\t\t\t\t\t\t\t\t\t'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n\t\t\t\t\t\t\t\t\t'frameborder=\"0\" width=\"480\" height=\"270\" allowfullscreen allow=\"autoplay\">' +\n\t\t\t\t\t\t\t\t'</iframe>' +\n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tname: 'spotify',\n\t\t\t\t\turl: [\n\t\t\t\t\t\t/^open\\.spotify\\.com\\/(artist\\/\\w+)/,\n\t\t\t\t\t\t/^open\\.spotify\\.com\\/(album\\/\\w+)/,\n\t\t\t\t\t\t/^open\\.spotify\\.com\\/(track\\/\\w+)/\n\t\t\t\t\t],\n\t\t\t\t\thtml: match => {\n\t\t\t\t\t\tconst id = match[ 1 ];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;\">' +\n\t\t\t\t\t\t\t\t`<iframe src=\"https://open.spotify.com/embed/${ id }\" ` +\n\t\t\t\t\t\t\t\t\t'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n\t\t\t\t\t\t\t\t\t'frameborder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\">' +\n\t\t\t\t\t\t\t\t'</iframe>' +\n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tname: 'youtube',\n\t\t\t\t\turl: [\n\t\t\t\t\t\t/^(?:m\\.)?youtube\\.com\\/watch\\?v=([\\w-]+)/,\n\t\t\t\t\t\t/^(?:m\\.)?youtube\\.com\\/v\\/([\\w-]+)/,\n\t\t\t\t\t\t/^youtube\\.com\\/embed\\/([\\w-]+)/,\n\t\t\t\t\t\t/^youtu\\.be\\/([\\w-]+)/\n\t\t\t\t\t],\n\t\t\t\t\thtml: match => {\n\t\t\t\t\t\tconst id = match[ 1 ];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">' +\n\t\t\t\t\t\t\t\t`<iframe src=\"https://www.youtube.com/embed/${ id }\" ` +\n\t\t\t\t\t\t\t\t\t'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n\t\t\t\t\t\t\t\t\t'frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen>' +\n\t\t\t\t\t\t\t\t'</iframe>' +\n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tname: 'vimeo',\n\t\t\t\t\turl: [\n\t\t\t\t\t\t/^vimeo\\.com\\/(\\d+)/,\n\t\t\t\t\t\t/^vimeo\\.com\\/[^/]+\\/[^/]+\\/video\\/(\\d+)/,\n\t\t\t\t\t\t/^vimeo\\.com\\/album\\/[^/]+\\/video\\/(\\d+)/,\n\t\t\t\t\t\t/^vimeo\\.com\\/channels\\/[^/]+\\/(\\d+)/,\n\t\t\t\t\t\t/^vimeo\\.com\\/groups\\/[^/]+\\/videos\\/(\\d+)/,\n\t\t\t\t\t\t/^vimeo\\.com\\/ondemand\\/[^/]+\\/(\\d+)/,\n\t\t\t\t\t\t/^player\\.vimeo\\.com\\/video\\/(\\d+)/\n\t\t\t\t\t],\n\t\t\t\t\thtml: match => {\n\t\t\t\t\t\tconst id = match[ 1 ];\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div style=\"position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;\">' +\n\t\t\t\t\t\t\t\t`<iframe src=\"https://player.vimeo.com/video/${ id }\" ` +\n\t\t\t\t\t\t\t\t\t'style=\"position: absolute; width: 100%; height: 100%; top: 0; left: 0;\" ' +\n\t\t\t\t\t\t\t\t\t'frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen>' +\n\t\t\t\t\t\t\t\t'</iframe>' +\n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t{\n\t\t\t\t\tname: 'instagram',\n\t\t\t\t\turl: /^instagram\\.com\\/p\\/(\\w+)/\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'twitter',\n\t\t\t\t\turl: /^twitter\\.com/\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'googleMaps',\n\t\t\t\t\turl: /^google\\.com\\/maps/\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'flickr',\n\t\t\t\t\turl: /^flickr\\.com/\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'facebook',\n\t\t\t\t\turl: /^facebook\\.com/\n\t\t\t\t},\n\t\t\t]\n\t\t} );\n\n\t\t/**\n\t\t * The media registry managing the media providers in the editor.\n\t\t *\n\t\t * @member {module:media-embed/mediaregistry~MediaRegistry} #registry\n\t\t */\n\t\tthis.registry = new MediaRegistry( editor.locale, editor.config.get( 'mediaEmbed' ) );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst schema = editor.model.schema;\n\t\tconst t = editor.t;\n\t\tconst conversion = editor.conversion;\n\t\tconst renderMediaPreview = editor.config.get( 'mediaEmbed.previewsInData' );\n\t\tconst registry = this.registry;\n\n\t\teditor.commands.add( 'mediaEmbed', new MediaEmbedCommand( editor ) );\n\n\t\t// Configure the schema.\n\t\tschema.register( 'media', {\n\t\t\tisObject: true,\n\t\t\tisBlock: true,\n\t\t\tallowWhere: '$block',\n\t\t\tallowAttributes: [ 'url' ]\n\t\t} );\n\n\t\t// Model -> Data\n\t\tconversion.for( 'dataDowncast' ).elementToElement( {\n\t\t\tmodel: 'media',\n\t\t\tview: ( modelElement, viewWriter ) => {\n\t\t\t\tconst url = modelElement.getAttribute( 'url' );\n\n\t\t\t\treturn createMediaFigureElement( viewWriter, registry, url, {\n\t\t\t\t\trenderMediaPreview: url && renderMediaPreview\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\t// Model -> Data (url -> data-oembed-url)\n\t\tconversion.for( 'dataDowncast' ).add(\n\t\t\tmodelToViewUrlAttributeConverter( registry, {\n\t\t\t\trenderMediaPreview\n\t\t\t} ) );\n\n\t\t// Model -> View (element)\n\t\tconversion.for( 'editingDowncast' ).elementToElement( {\n\t\t\tmodel: 'media',\n\t\t\tview: ( modelElement, viewWriter ) => {\n\t\t\t\tconst url = modelElement.getAttribute( 'url' );\n\t\t\t\tconst figure = createMediaFigureElement( viewWriter, registry, url, {\n\t\t\t\t\trenderForEditingView: true\n\t\t\t\t} );\n\n\t\t\t\treturn toMediaWidget( figure, viewWriter, t( 'media widget' ) );\n\t\t\t}\n\t\t} );\n\n\t\t// Model -> View (url -> data-oembed-url)\n\t\tconversion.for( 'editingDowncast' ).add(\n\t\t\tmodelToViewUrlAttributeConverter( registry, {\n\t\t\t\trenderForEditingView: true\n\t\t\t} ) );\n\n\t\t// View -> Model (data-oembed-url -> url)\n\t\tconversion.for( 'upcast' )\n\t\t\t// Upcast semantic media.\n\t\t\t.elementToElement( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'oembed',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\turl: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: ( viewMedia, modelWriter ) => {\n\t\t\t\t\tconst url = viewMedia.getAttribute( 'url' );\n\n\t\t\t\t\tif ( registry.hasMedia( url ) ) {\n\t\t\t\t\t\treturn modelWriter.createElement( 'media', { url } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} )\n\t\t\t// Upcast non-semantic media.\n\t\t\t.elementToElement( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'div',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\t'data-oembed-url': true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: ( viewMedia, modelWriter ) => {\n\t\t\t\t\tconst url = viewMedia.getAttribute( 'data-oembed-url' );\n\n\t\t\t\t\tif ( registry.hasMedia( url ) ) {\n\t\t\t\t\t\treturn modelWriter.createElement( 'media', { url } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t}\n}\n"]}]}