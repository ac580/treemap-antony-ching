{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/view/observer/focusobserver.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/view/observer/focusobserver.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS92aWV3L29ic2VydmVyL2ZvY3Vzb2JzZXJ2ZXIKICovCgovKiBnbG9iYWxzIHNldFRpbWVvdXQsIGNsZWFyVGltZW91dCAqLwppbXBvcnQgRG9tRXZlbnRPYnNlcnZlciBmcm9tICcuL2RvbWV2ZW50b2JzZXJ2ZXInOwovKioKICoge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDpmb2N1cyBGb2N1c30KICogYW5kIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Ymx1ciBibHVyfSBldmVudHMgb2JzZXJ2ZXIuCiAqIEZvY3VzIG9ic2VydmVyIGhhbmRsZSBhbHNvIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvcm9vdGVkaXRhYmxlZWxlbWVudH5Sb290RWRpdGFibGVFbGVtZW50I2lzRm9jdXNlZCBpc0ZvY3VzZWR9IHByb3BlcnR5IG9mIHRoZQogKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3Jvb3RlZGl0YWJsZWVsZW1lbnR+Um9vdEVkaXRhYmxlRWxlbWVudCByb290IGVsZW1lbnRzfS4KICoKICogTm90ZSB0aGF0IHRoaXMgb2JzZXJ2ZXIgaXMgYXR0YWNoZWQgYnkgdGhlIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvdmlld35WaWV3fSBhbmQgaXMgYXZhaWxhYmxlIGJ5IGRlZmF1bHQuCiAqCiAqIEBleHRlbmRzIG1vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9kb21ldmVudG9ic2VydmVyfkRvbUV2ZW50T2JzZXJ2ZXIKICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBGb2N1c09ic2VydmVyIGV4dGVuZHMgRG9tRXZlbnRPYnNlcnZlciB7CiAgY29uc3RydWN0b3IodmlldykgewogICAgc3VwZXIodmlldyk7CiAgICB0aGlzLmRvbUV2ZW50VHlwZSA9IFsnZm9jdXMnLCAnYmx1ciddOwogICAgdGhpcy51c2VDYXB0dXJlID0gdHJ1ZTsKICAgIGNvbnN0IGRvY3VtZW50ID0gdGhpcy5kb2N1bWVudDsKICAgIGRvY3VtZW50Lm9uKCdmb2N1cycsICgpID0+IHsKICAgICAgZG9jdW1lbnQuaXNGb2N1c2VkID0gdHJ1ZTsgLy8gVW5mb3J0dW5hdGVseSBuYXRpdmUgYHNlbGVjdGlvbmNoYW5nZWAgZXZlbnQgaXMgZmlyZWQgYXN5bmNocm9ub3VzbHkuCiAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCB1bnRpbCBgU2VsZWN0aW9uT2JzZXJ2ZXJgIGhhbmRsZSB0aGUgZXZlbnQgYW5kIHRoZW4gcmVuZGVyLiBPdGhlcndpc2UgcmVuZGVyaW5nIHdpbGwKICAgICAgLy8gb3ZlcndyaXRlIG5ldyBET00gc2VsZWN0aW9uIHdpdGggc2VsZWN0aW9uIGZyb20gdGhlIHZpZXcuCiAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1LWVuZ2luZS9pc3N1ZXMvNzk1IGZvciBtb3JlIGRldGFpbHMuCiAgICAgIC8vIExvbmcgdGltZW91dCBpcyBuZWVkZWQgdG8gc29sdmUgIzY3NiBhbmQgaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yNS1lbmdpbmUvaXNzdWVzLzExNTcgaXNzdWVzLgoKICAgICAgdGhpcy5fcmVuZGVyVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB2aWV3LmZvcmNlUmVuZGVyKCksIDUwKTsKICAgIH0pOwogICAgZG9jdW1lbnQub24oJ2JsdXInLCAoZXZ0LCBkYXRhKSA9PiB7CiAgICAgIGNvbnN0IHNlbGVjdGVkRWRpdGFibGUgPSBkb2N1bWVudC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50OwoKICAgICAgaWYgKHNlbGVjdGVkRWRpdGFibGUgPT09IG51bGwgfHwgc2VsZWN0ZWRFZGl0YWJsZSA9PT0gZGF0YS50YXJnZXQpIHsKICAgICAgICBkb2N1bWVudC5pc0ZvY3VzZWQgPSBmYWxzZTsgLy8gUmUtcmVuZGVyIHRoZSBkb2N1bWVudCB0byB1cGRhdGUgdmlldyBlbGVtZW50cy4KCiAgICAgICAgdmlldy5mb3JjZVJlbmRlcigpOwogICAgICB9CiAgICB9KTsKICAgIC8qKgogICAgICogSWRlbnRpZmllciBvZiB0aGUgdGltZW91dCBjdXJyZW50bHkgdXNlZCBieSBmb2N1cyBsaXN0ZW5lciB0byBkZWxheSByZW5kZXJpbmcgZXhlY3V0aW9uLgogICAgICoKICAgICAqIEBwcml2YXRlCiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9ICNfcmVuZGVyVGltZW91dElkCiAgICAgKi8KICB9CgogIG9uRG9tRXZlbnQoZG9tRXZlbnQpIHsKICAgIHRoaXMuZmlyZShkb21FdmVudC50eXBlLCBkb21FdmVudCk7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBkZXN0cm95KCkgewogICAgaWYgKHRoaXMuX3JlbmRlclRpbWVvdXRJZCkgewogICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVuZGVyVGltZW91dElkKTsKICAgIH0KCiAgICBzdXBlci5kZXN0cm95KCk7CiAgfQoKfQovKioKICogRmlyZWQgd2hlbiBvbmUgb2YgdGhlIGVkaXRhYmxlcyBnZXRzIGZvY3VzLgogKgogKiBJbnRyb2R1Y2VkIGJ5IHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvb2JzZXJ2ZXIvZm9jdXNvYnNlcnZlcn5Gb2N1c09ic2VydmVyfS4KICoKICogTm90ZSB0aGF0IGJlY2F1c2Uge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9mb2N1c29ic2VydmVyfkZvY3VzT2JzZXJ2ZXJ9IGlzIGF0dGFjaGVkIGJ5IHRoZQogKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3ZpZXd+Vmlld30gdGhpcyBldmVudCBpcyBhdmFpbGFibGUgYnkgZGVmYXVsdC4KICoKICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvb2JzZXJ2ZXIvZm9jdXNvYnNlcnZlcn5Gb2N1c09ic2VydmVyCiAqIEBldmVudCBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Zm9jdXMKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvb2JzZXJ2ZXIvZG9tZXZlbnRkYXRhfkRvbUV2ZW50RGF0YX0gZGF0YSBFdmVudCBkYXRhLgogKi8KCi8qKgogKiBGaXJlZCB3aGVuIG9uZSBvZiB0aGUgZWRpdGFibGVzIGxvc2VzIGZvY3VzLgogKgogKiBJbnRyb2R1Y2VkIGJ5IHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvb2JzZXJ2ZXIvZm9jdXNvYnNlcnZlcn5Gb2N1c09ic2VydmVyfS4KICoKICogTm90ZSB0aGF0IGJlY2F1c2Uge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9mb2N1c29ic2VydmVyfkZvY3VzT2JzZXJ2ZXJ9IGlzIGF0dGFjaGVkIGJ5IHRoZQogKiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L3ZpZXd+Vmlld30gdGhpcyBldmVudCBpcyBhdmFpbGFibGUgYnkgZGVmYXVsdC4KICoKICogQHNlZSBtb2R1bGU6ZW5naW5lL3ZpZXcvb2JzZXJ2ZXIvZm9jdXNvYnNlcnZlcn5Gb2N1c09ic2VydmVyCiAqIEBldmVudCBtb2R1bGU6ZW5naW5lL3ZpZXcvZG9jdW1lbnR+RG9jdW1lbnQjZXZlbnQ6Ymx1cgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9kb21ldmVudGRhdGF+RG9tRXZlbnREYXRhfSBkYXRhIEV2ZW50IGRhdGEuCiAqLw=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/view/observer/focusobserver.js"],"names":["DomEventObserver","FocusObserver","constructor","view","domEventType","useCapture","document","on","isFocused","_renderTimeoutId","setTimeout","forceRender","evt","data","selectedEditable","selection","editableElement","target","onDomEvent","domEvent","fire","type","destroy","clearTimeout"],"mappings":"AAAA;;;;;AAKA;;;;AAIA;AAEA,OAAOA,gBAAP,MAA6B,oBAA7B;AAEA;;;;;;;;;;;AAUA,eAAe,MAAMC,aAAN,SAA4BD,gBAA5B,CAA6C;AAC3DE,EAAAA,WAAW,CAAEC,IAAF,EAAS;AACnB,UAAOA,IAAP;AAEA,SAAKC,YAAL,GAAoB,CAAE,OAAF,EAAW,MAAX,CAApB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,UAAMC,QAAQ,GAAG,KAAKA,QAAtB;AAEAA,IAAAA,QAAQ,CAACC,EAAT,CAAa,OAAb,EAAsB,MAAM;AAC3BD,MAAAA,QAAQ,CAACE,SAAT,GAAqB,IAArB,CAD2B,CAG3B;AACA;AACA;AACA;AACA;;AACA,WAAKC,gBAAL,GAAwBC,UAAU,CAAE,MAAMP,IAAI,CAACQ,WAAL,EAAR,EAA4B,EAA5B,CAAlC;AACA,KATD;AAWAL,IAAAA,QAAQ,CAACC,EAAT,CAAa,MAAb,EAAqB,CAAEK,GAAF,EAAOC,IAAP,KAAiB;AACrC,YAAMC,gBAAgB,GAAGR,QAAQ,CAACS,SAAT,CAAmBC,eAA5C;;AAEA,UAAKF,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAKD,IAAI,CAACI,MAA5D,EAAqE;AACpEX,QAAAA,QAAQ,CAACE,SAAT,GAAqB,KAArB,CADoE,CAGpE;;AACAL,QAAAA,IAAI,CAACQ,WAAL;AACA;AACD,KATD;AAWA;;;;;;AAMA;;AAEDO,EAAAA,UAAU,CAAEC,QAAF,EAAa;AACtB,SAAKC,IAAL,CAAWD,QAAQ,CAACE,IAApB,EAA0BF,QAA1B;AACA;AAED;;;;;AAGAG,EAAAA,OAAO,GAAG;AACT,QAAK,KAAKb,gBAAV,EAA6B;AAC5Bc,MAAAA,YAAY,CAAE,KAAKd,gBAAP,CAAZ;AACA;;AAED,UAAMa,OAAN;AACA;;AAnD0D;AAsD5D;;;;;;;;;;;;;AAaA","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/view/observer/focusobserver\n */\n\n/* globals setTimeout, clearTimeout */\n\nimport DomEventObserver from './domeventobserver';\n\n/**\n * {@link module:engine/view/document~Document#event:focus Focus}\n * and {@link module:engine/view/document~Document#event:blur blur} events observer.\n * Focus observer handle also {@link module:engine/view/rooteditableelement~RootEditableElement#isFocused isFocused} property of the\n * {@link module:engine/view/rooteditableelement~RootEditableElement root elements}.\n *\n * Note that this observer is attached by the {@link module:engine/view/view~View} and is available by default.\n *\n * @extends module:engine/view/observer/domeventobserver~DomEventObserver\n */\nexport default class FocusObserver extends DomEventObserver {\n\tconstructor( view ) {\n\t\tsuper( view );\n\n\t\tthis.domEventType = [ 'focus', 'blur' ];\n\t\tthis.useCapture = true;\n\t\tconst document = this.document;\n\n\t\tdocument.on( 'focus', () => {\n\t\t\tdocument.isFocused = true;\n\n\t\t\t// Unfortunately native `selectionchange` event is fired asynchronously.\n\t\t\t// We need to wait until `SelectionObserver` handle the event and then render. Otherwise rendering will\n\t\t\t// overwrite new DOM selection with selection from the view.\n\t\t\t// See https://github.com/ckeditor/ckeditor5-engine/issues/795 for more details.\n\t\t\t// Long timeout is needed to solve #676 and https://github.com/ckeditor/ckeditor5-engine/issues/1157 issues.\n\t\t\tthis._renderTimeoutId = setTimeout( () => view.forceRender(), 50 );\n\t\t} );\n\n\t\tdocument.on( 'blur', ( evt, data ) => {\n\t\t\tconst selectedEditable = document.selection.editableElement;\n\n\t\t\tif ( selectedEditable === null || selectedEditable === data.target ) {\n\t\t\t\tdocument.isFocused = false;\n\n\t\t\t\t// Re-render the document to update view elements.\n\t\t\t\tview.forceRender();\n\t\t\t}\n\t\t} );\n\n\t\t/**\n\t\t * Identifier of the timeout currently used by focus listener to delay rendering execution.\n\t\t *\n\t\t * @private\n\t\t * @member {Number} #_renderTimeoutId\n\t\t */\n\t}\n\n\tonDomEvent( domEvent ) {\n\t\tthis.fire( domEvent.type, domEvent );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdestroy() {\n\t\tif ( this._renderTimeoutId ) {\n\t\t\tclearTimeout( this._renderTimeoutId );\n\t\t}\n\n\t\tsuper.destroy();\n\t}\n}\n\n/**\n * Fired when one of the editables gets focus.\n *\n * Introduced by {@link module:engine/view/observer/focusobserver~FocusObserver}.\n *\n * Note that because {@link module:engine/view/observer/focusobserver~FocusObserver} is attached by the\n * {@link module:engine/view/view~View} this event is available by default.\n *\n * @see module:engine/view/observer/focusobserver~FocusObserver\n * @event module:engine/view/document~Document#event:focus\n * @param {module:engine/view/observer/domeventdata~DomEventData} data Event data.\n */\n\n/**\n * Fired when one of the editables loses focus.\n *\n * Introduced by {@link module:engine/view/observer/focusobserver~FocusObserver}.\n *\n * Note that because {@link module:engine/view/observer/focusobserver~FocusObserver} is attached by the\n * {@link module:engine/view/view~View} this event is available by default.\n *\n * @see module:engine/view/observer/focusobserver~FocusObserver\n * @event module:engine/view/document~Document#event:blur\n * @param {module:engine/view/observer/domeventdata~DomEventData} data Event data.\n */\n"]}]}