{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-font/src/ui/colortableview.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-font/src/ui/colortableview.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGZvbnQvdWkvY29sb3J0YWJsZXZpZXcKICovCmltcG9ydCBWaWV3IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdWkvc3JjL3ZpZXcnOwppbXBvcnQgQnV0dG9uVmlldyBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXVpL3NyYy9idXR0b24vYnV0dG9udmlldyc7CmltcG9ydCBDb2xvclRpbGVWaWV3IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdWkvc3JjL2NvbG9yZ3JpZC9jb2xvcnRpbGV2aWV3JzsKaW1wb3J0IENvbG9yR3JpZFZpZXcgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11aS9zcmMvY29sb3JncmlkL2NvbG9yZ3JpZHZpZXcnOwppbXBvcnQgTGFiZWxWaWV3IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdWkvc3JjL2xhYmVsL2xhYmVsdmlldyc7CmltcG9ydCBEb2N1bWVudENvbG9yQ29sbGVjdGlvbiBmcm9tICcuLi9kb2N1bWVudGNvbG9yY29sbGVjdGlvbic7CmltcG9ydCBUZW1wbGF0ZSBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXVpL3NyYy90ZW1wbGF0ZSc7CmltcG9ydCBGb2N1c1RyYWNrZXIgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvZm9jdXN0cmFja2VyJzsKaW1wb3J0IEZvY3VzQ3ljbGVyIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdWkvc3JjL2ZvY3VzY3ljbGVyJzsKaW1wb3J0IEtleXN0cm9rZUhhbmRsZXIgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMva2V5c3Ryb2tlaGFuZGxlcic7CmltcG9ydCByZW1vdmVCdXR0b25JY29uIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtY29yZS90aGVtZS9pY29ucy9lcmFzZXIuc3ZnJzsKaW1wb3J0ICcuLi8uLi90aGVtZS9mb250Y29sb3IuY3NzJzsKLyoqCiAqIEEgY2xhc3Mgd2hpY2ggcmVwcmVzZW50cyBhIHZpZXcgd2l0aCB0aGUgZm9sbG93aW5nIHN1YuKAk2NvbXBvbmVudHM6CiAqCiAqICogQSByZW1vdmUgY29sb3IgYnV0dG9uLAogKiAqIEEgc3RhdGljIHtAbGluayBtb2R1bGU6dWkvY29sb3JncmlkL2NvbG9yZ3JpZH5Db2xvckdyaWRWaWV3fSBvZiBjb2xvcnMgZGVmaW5lZCBpbiB0aGUgY29uZmlndXJhdGlvbiwKICogKiBBIGR5bmFtaWMge0BsaW5rIG1vZHVsZTp1aS9jb2xvcmdyaWQvY29sb3JncmlkfkNvbG9yR3JpZFZpZXd9IG9mIGNvbG9ycyB1c2VkIGluIHRoZSBkb2N1bWVudC4KICoKICogQGV4dGVuZHMgbW9kdWxlOnVpL3ZpZXd+VmlldwogKi8KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbG9yVGFibGVWaWV3IGV4dGVuZHMgVmlldyB7CiAgLyoqCiAgICogQ3JlYXRlcyBhIHZpZXcgdG8gYmUgaW5zZXJ0ZWQgYXMgYSBjaGlsZCBvZiB7QGxpbmsgbW9kdWxlOnVpL2Ryb3Bkb3duL2Ryb3Bkb3dudmlld35Ecm9wZG93blZpZXd9LgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6dXRpbHMvbG9jYWxlfkxvY2FsZX0gW2xvY2FsZV0gVGhlIGxvY2FsaXphdGlvbiBzZXJ2aWNlcyBpbnN0YW5jZS4KICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWd1cmF0aW9uIG9iamVjdC4KICAgKiBAcGFyYW0ge0FycmF5Ljxtb2R1bGU6dWkvY29sb3JncmlkL2NvbG9yZ3JpZH5Db2xvckRlZmluaXRpb24+fSBjb25maWcuY29sb3JzIEFuIGFycmF5IHdpdGggZGVmaW5pdGlvbnMgb2YgY29sb3JzIHRvCiAgICogYmUgZGlzcGxheWVkIGluIHRoZSB0YWJsZS4KICAgKiBAcGFyYW0ge051bWJlcn0gY29uZmlnLmNvbHVtbnMgVGhlIG51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBjb2xvciBncmlkLgogICAqIEBwYXJhbSB7U3RyaW5nfSBjb25maWcucmVtb3ZlQnV0dG9uTGFiZWwgVGhlIGxhYmVsIG9mIHRoZSBidXR0b24gcmVzcG9uc2libGUgZm9yIHJlbW92aW5nIHRoZSBjb2xvci4KICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmRvY3VtZW50Q29sb3JzTGFiZWwgVGhlIGxhYmVsIGZvciB0aGUgc2VjdGlvbiB3aXRoIHRoZSBkb2N1bWVudCBjb2xvcnMuCiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5kb2N1bWVudENvbG9yc0NvdW50IFRoZSBudW1iZXIgb2YgY29sb3JzIGluIHRoZSBkb2N1bWVudCBjb2xvcnMgc2VjdGlvbiBpbnNpZGUgdGhlIGNvbG9yIGRyb3Bkb3duLgogICAqLwogIGNvbnN0cnVjdG9yKGxvY2FsZSwgewogICAgY29sb3JzLAogICAgY29sdW1ucywKICAgIHJlbW92ZUJ1dHRvbkxhYmVsLAogICAgZG9jdW1lbnRDb2xvcnNMYWJlbCwKICAgIGRvY3VtZW50Q29sb3JzQ291bnQKICB9KSB7CiAgICBzdXBlcihsb2NhbGUpOwogICAgLyoqCiAgICAgKiBBIGNvbGxlY3Rpb24gb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSB0YWJsZS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTp1aS92aWV3Y29sbGVjdGlvbn5WaWV3Q29sbGVjdGlvbn0KICAgICAqLwoKICAgIHRoaXMuaXRlbXMgPSB0aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKTsKICAgIC8qKgogICAgICogQW4gYXJyYXkgd2l0aCBvYmplY3RzIHJlcHJlc2VudGluZyBjb2xvcnMgdG8gYmUgZGlzcGxheWVkIGluIHRoZSBncmlkLgogICAgICoKICAgICAqIEB0eXBlIHtBcnJyYXkuPG1vZHVsZTp1aS9jb2xvcmdyaWQvY29sb3JncmlkfkNvbG9yRGVmaW5pdGlvbj59CiAgICAgKi8KCiAgICB0aGlzLmNvbG9yRGVmaW5pdGlvbnMgPSBjb2xvcnM7CiAgICAvKioKICAgICAqIFRyYWNrcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgRE9NIGZvY3VzIGluIHRoZSBsaXN0LgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7bW9kdWxlOnV0aWxzL2ZvY3VzdHJhY2tlcn5Gb2N1c1RyYWNrZXJ9CiAgICAgKi8KCiAgICB0aGlzLmZvY3VzVHJhY2tlciA9IG5ldyBGb2N1c1RyYWNrZXIoKTsKICAgIC8qKgogICAgICogQW4gaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBtb2R1bGU6dXRpbHMva2V5c3Ryb2tlaGFuZGxlcn5LZXlzdHJva2VIYW5kbGVyfS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTp1dGlscy9rZXlzdHJva2VoYW5kbGVyfktleXN0cm9rZUhhbmRsZXJ9CiAgICAgKi8KCiAgICB0aGlzLmtleXN0cm9rZXMgPSBuZXcgS2V5c3Ryb2tlSGFuZGxlcigpOwogICAgLyoqCiAgICAgKiBLZWVwcyB0aGUgdmFsdWUgb2YgdGhlIGNvbW1hbmQgYXNzb2NpYXRlZCB3aXRoIHRoZSB0YWJsZSBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLgogICAgICoKICAgICAqIEB0eXBlIHtTdHJpbmd9CiAgICAgKi8KCiAgICB0aGlzLnNldCgnc2VsZWN0ZWRDb2xvcicpOwogICAgLyoqCiAgICAgKiBUaGUgbGFiZWwgb2YgdGhlIGJ1dHRvbiByZXNwb25zaWJsZSBmb3IgcmVtb3ZpbmcgY29sb3IgYXR0cmlidXRlcy4KICAgICAqCiAgICAgKiBAdHlwZSB7U3RyaW5nfQogICAgICovCgogICAgdGhpcy5yZW1vdmVCdXR0b25MYWJlbCA9IHJlbW92ZUJ1dHRvbkxhYmVsOwogICAgLyoqCiAgICAgKiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIGNvbG9yIGdyaWQuCiAgICAgKgogICAgICogQHR5cGUge051bWJlcn0KICAgICAqLwoKICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7CiAgICAvKioKICAgICAqIEEgY29sbGVjdGlvbiBvZiBkZWZpbml0aW9ucyB0aGF0IHN0b3JlIHRoZSBkb2N1bWVudCBjb2xvcnMuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHttb2R1bGU6Zm9udC9kb2N1bWVudGNvbG9yY29sbGVjdGlvbn5Eb2N1bWVudENvbG9yQ29sbGVjdGlvbn0KICAgICAqLwoKICAgIHRoaXMuZG9jdW1lbnRDb2xvcnMgPSBuZXcgRG9jdW1lbnRDb2xvckNvbGxlY3Rpb24oKTsKICAgIC8qKgogICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGNvbG9ycyBpbiB0aGUgZG9jdW1lbnQgY29sb3JzIHNlY3Rpb24uCiAgICAgKiBJZiBpdCBlcXVhbHMgMCwgdGhlIGRvY3VtZW50IGNvbG9ycyBzZWN0aW9uIGlzIG5vdCBhZGRlZC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEB0eXBlIHtOdW1iZXJ9CiAgICAgKi8KCiAgICB0aGlzLmRvY3VtZW50Q29sb3JzQ291bnQgPSBkb2N1bWVudENvbG9yc0NvdW50OwogICAgLyoqCiAgICAgKiBQcmVzZXJ2ZXMgdGhlIHJlZmVyZW5jZSB0byB7QGxpbmsgbW9kdWxlOnVpL2NvbG9yZ3JpZC9jb2xvcmdyaWR+Q29sb3JHcmlkVmlld30gdXNlZCB0byBjcmVhdGUKICAgICAqIHRoZSBkZWZhdWx0IChzdGF0aWMpIGNvbG9yIHNldC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTp1aS9jb2xvcmdyaWQvY29sb3JncmlkfkNvbG9yR3JpZFZpZXd9CiAgICAgKi8KCiAgICB0aGlzLnN0YXRpY0NvbG9yc0dyaWQgPSB0aGlzLl9jcmVhdGVTdGF0aWNDb2xvcnNHcmlkKCk7CiAgICAvKioKICAgICAqIFByZXNlcnZlcyB0aGUgcmVmZXJlbmNlIHRvIHtAbGluayBtb2R1bGU6dWkvY29sb3JncmlkL2NvbG9yZ3JpZH5Db2xvckdyaWRWaWV3fSB1c2VkIHRvIGNyZWF0ZQogICAgICogdGhlIGRvY3VtZW50IGNvbG9ycy4gSXQgcmVtYWlucyB1bmRlZmluZWQgaWYgdGhlIGRvY3VtZW50IGNvbG9ycyBmZWF0dXJlIGlzIGRpc2FibGVkLgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQG1lbWJlciB7bW9kdWxlOnVpL2NvbG9yZ3JpZC9jb2xvcmdyaWR+Q29sb3JHcmlkVmlld30KICAgICAqLwoKICAgIHRoaXMuZG9jdW1lbnRDb2xvcnNHcmlkOwogICAgLyoqCiAgICAgKiBIZWxwcyBjeWNsaW5nIG92ZXIgZm9jdXNhYmxlIHtAbGluayAjaXRlbXN9IGluIHRoZSBsaXN0LgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQHByb3RlY3RlZAogICAgICogQG1lbWJlciB7bW9kdWxlOnVpL2ZvY3VzY3ljbGVyfkZvY3VzQ3ljbGVyfQogICAgICovCgogICAgdGhpcy5fZm9jdXNDeWNsZXIgPSBuZXcgRm9jdXNDeWNsZXIoewogICAgICBmb2N1c2FibGVzOiB0aGlzLml0ZW1zLAogICAgICBmb2N1c1RyYWNrZXI6IHRoaXMuZm9jdXNUcmFja2VyLAogICAgICBrZXlzdHJva2VIYW5kbGVyOiB0aGlzLmtleXN0cm9rZXMsCiAgICAgIGFjdGlvbnM6IHsKICAgICAgICAvLyBOYXZpZ2F0ZSBsaXN0IGl0ZW1zIGJhY2t3YXJkcyB1c2luZyB0aGUgQXJyb3cgVXAga2V5LgogICAgICAgIGZvY3VzUHJldmlvdXM6ICdhcnJvd3VwJywKICAgICAgICAvLyBOYXZpZ2F0ZSBsaXN0IGl0ZW1zIGZvcndhcmRzIHVzaW5nIHRoZSBBcnJvdyBEb3duIGtleS4KICAgICAgICBmb2N1c05leHQ6ICdhcnJvd2Rvd24nCiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5zZXRUZW1wbGF0ZSh7CiAgICAgIHRhZzogJ2RpdicsCiAgICAgIGF0dHJpYnV0ZXM6IHsKICAgICAgICBjbGFzczogWydjaycsICdjay1jb2xvci10YWJsZSddCiAgICAgIH0sCiAgICAgIGNoaWxkcmVuOiB0aGlzLml0ZW1zCiAgICB9KTsKICAgIHRoaXMuaXRlbXMuYWRkKHRoaXMuX3JlbW92ZUNvbG9yQnV0dG9uKCkpOwogICAgdGhpcy5pdGVtcy5hZGQodGhpcy5zdGF0aWNDb2xvcnNHcmlkKTsKCiAgICBpZiAoZG9jdW1lbnRDb2xvcnNDb3VudCkgewogICAgICAvLyBDcmVhdGUgYSBsYWJlbCBmb3IgZG9jdW1lbnQgY29sb3JzLgogICAgICBjb25zdCBiaW5kID0gVGVtcGxhdGUuYmluZCh0aGlzLmRvY3VtZW50Q29sb3JzLCB0aGlzLmRvY3VtZW50Q29sb3JzKTsKICAgICAgY29uc3QgbGFiZWwgPSBuZXcgTGFiZWxWaWV3KHRoaXMubG9jYWxlKTsKICAgICAgbGFiZWwudGV4dCA9IGRvY3VtZW50Q29sb3JzTGFiZWw7CiAgICAgIGxhYmVsLmV4dGVuZFRlbXBsYXRlKHsKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICBjbGFzczogWydjaycsICdjay1jb2xvci1ncmlkX19sYWJlbCcsIGJpbmQuaWYoJ2lzRW1wdHknLCAnY2staGlkZGVuJyldCiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5pdGVtcy5hZGQobGFiZWwpOwogICAgICB0aGlzLmRvY3VtZW50Q29sb3JzR3JpZCA9IHRoaXMuX2NyZWF0ZURvY3VtZW50Q29sb3JzR3JpZCgpOwogICAgICB0aGlzLml0ZW1zLmFkZCh0aGlzLmRvY3VtZW50Q29sb3JzR3JpZCk7CiAgICB9CiAgfQogIC8qKgogICAqIFNjYW5zIHRocm91Z2ggdGhlIGVkaXRvciBtb2RlbCBhbmQgc2VhcmNoZXMgZm9yIHRleHQgbm9kZSBhdHRyaWJ1dGVzIHdpdGggdGhlIGdpdmVuIGF0dHJpYnV0ZSBuYW1lLgogICAqIEZvdW5kIGVudHJpZXMgYXJlIHNldCBhcyBkb2N1bWVudCBjb2xvcnMuCiAgICoKICAgKiBBbGwgdGhlIHByZXZpb3VzbHkgc3RvcmVkIGRvY3VtZW50IGNvbG9ycyB3aWxsIGJlIGxvc3QgaW4gdGhlIHByb2Nlc3MuCiAgICoKICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWx9IG1vZGVsIFRoZSBtb2RlbCB1c2VkIGFzIGEgc291cmNlIHRvIG9idGFpbiB0aGUgZG9jdW1lbnQgY29sb3JzLgogICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyaWJ1dGVOYW1lIERldGVybWluZXMgdGhlIG5hbWUgb2YgdGhlIHJlbGF0ZWQgbW9kZWwncyBhdHRyaWJ1dGUgZm9yIGEgZ2l2ZW4gZHJvcGRvd24uCiAgICovCgoKICB1cGRhdGVEb2N1bWVudENvbG9ycyhtb2RlbCwgYXR0cmlidXRlTmFtZSkgewogICAgY29uc3QgZG9jdW1lbnQgPSBtb2RlbC5kb2N1bWVudDsKICAgIGNvbnN0IG1heENvdW50ID0gdGhpcy5kb2N1bWVudENvbG9yc0NvdW50OwogICAgdGhpcy5kb2N1bWVudENvbG9ycy5jbGVhcigpOwoKICAgIGZvciAoY29uc3Qgcm9vdE5hbWUgb2YgZG9jdW1lbnQuZ2V0Um9vdE5hbWVzKCkpIHsKICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmdldFJvb3Qocm9vdE5hbWUpOwogICAgICBjb25zdCByYW5nZSA9IG1vZGVsLmNyZWF0ZVJhbmdlSW4ocm9vdCk7CgogICAgICBmb3IgKGNvbnN0IG5vZGUgb2YgcmFuZ2UuZ2V0SXRlbXMoKSkgewogICAgICAgIGlmIChub2RlLmlzKCd0ZXh0UHJveHknKSAmJiBub2RlLmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkgewogICAgICAgICAgdGhpcy5fYWRkQ29sb3JUb0RvY3VtZW50Q29sb3JzKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKTsKCiAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudENvbG9ycy5sZW5ndGggPj0gbWF4Q291bnQpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICAvKioKICAgKiBSZWZyZXNoZXMgdGhlIHN0YXRlIG9mIHRoZSBzZWxlY3RlZCBjb2xvciBpbiBvbmUgb3IgYm90aCB7QGxpbmsgbW9kdWxlOnVpL2NvbG9yZ3JpZC9jb2xvcmdyaWR+Q29sb3JHcmlkVmlld31zCiAgICogYXZhaWxhYmxlIGluIHRoZSB7QGxpbmsgbW9kdWxlOmZvbnQvdWkvY29sb3J0YWJsZXZpZXd+Q29sb3JUYWJsZVZpZXd9LiBJdCBndWFyYW50ZWVzIHRoYXQgdGhlIHNlbGVjdGlvbiB3aWxsIG9jY3VyIG9ubHkgaW4gb25lCiAgICogb2YgdGhlbS4KICAgKi8KCgogIHVwZGF0ZVNlbGVjdGVkQ29sb3JzKCkgewogICAgY29uc3QgZG9jdW1lbnRDb2xvcnNHcmlkID0gdGhpcy5kb2N1bWVudENvbG9yc0dyaWQ7CiAgICBjb25zdCBzdGF0aWNDb2xvcnNHcmlkID0gdGhpcy5zdGF0aWNDb2xvcnNHcmlkOwogICAgY29uc3Qgc2VsZWN0ZWRDb2xvciA9IHRoaXMuc2VsZWN0ZWRDb2xvcjsKICAgIHN0YXRpY0NvbG9yc0dyaWQuc2VsZWN0ZWRDb2xvciA9IHNlbGVjdGVkQ29sb3I7CgogICAgaWYgKGRvY3VtZW50Q29sb3JzR3JpZCkgewogICAgICBkb2N1bWVudENvbG9yc0dyaWQuc2VsZWN0ZWRDb2xvciA9IHNlbGVjdGVkQ29sb3I7CiAgICB9CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICByZW5kZXIoKSB7CiAgICBzdXBlci5yZW5kZXIoKTsgLy8gSXRlbXMgYWRkZWQgYmVmb3JlIHJlbmRlcmluZyBzaG91bGQgYmUga25vd24gdG8gdGhlICNmb2N1c1RyYWNrZXIuCgogICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuaXRlbXMpIHsKICAgICAgdGhpcy5mb2N1c1RyYWNrZXIuYWRkKGl0ZW0uZWxlbWVudCk7CiAgICB9IC8vIFN0YXJ0IGxpc3RlbmluZyBmb3IgdGhlIGtleXN0cm9rZXMgY29taW5nIGZyb20gI2VsZW1lbnQuCgoKICAgIHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpOwogIH0KICAvKioKICAgKiBGb2N1c2VzIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudCBpbiB7QGxpbmsgI2l0ZW1zfS4KICAgKi8KCgogIGZvY3VzKCkgewogICAgdGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpOwogIH0KICAvKioKICAgKiBGb2N1c2VzIHRoZSBsYXN0IGZvY3VzYWJsZSBlbGVtZW50IGluIHtAbGluayAjaXRlbXN9LgogICAqLwoKCiAgZm9jdXNMYXN0KCkgewogICAgdGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNMYXN0KCk7CiAgfQogIC8qKgogICAqIEFkZHMgdGhlIHJlbW92ZSBjb2xvciBidXR0b24gYXMgYSBjaGlsZCBvZiB0aGUgY3VycmVudCB2aWV3LgogICAqCiAgICogQHByaXZhdGUKICAgKiBAcmV0dXJucyB7bW9kdWxlOnVpL2J1dHRvbi9idXR0b252aWV3fkJ1dHRvblZpZXd9CiAgICovCgoKICBfcmVtb3ZlQ29sb3JCdXR0b24oKSB7CiAgICBjb25zdCBidXR0b25WaWV3ID0gbmV3IEJ1dHRvblZpZXcoKTsKICAgIGJ1dHRvblZpZXcuc2V0KHsKICAgICAgd2l0aFRleHQ6IHRydWUsCiAgICAgIGljb246IHJlbW92ZUJ1dHRvbkljb24sCiAgICAgIHRvb2x0aXA6IHRydWUsCiAgICAgIGxhYmVsOiB0aGlzLnJlbW92ZUJ1dHRvbkxhYmVsCiAgICB9KTsKICAgIGJ1dHRvblZpZXcuY2xhc3MgPSAnY2stY29sb3ItdGFibGVfX3JlbW92ZS1jb2xvcic7CiAgICBidXR0b25WaWV3Lm9uKCdleGVjdXRlJywgKCkgPT4gewogICAgICB0aGlzLmZpcmUoJ2V4ZWN1dGUnLCB7CiAgICAgICAgdmFsdWU6IG51bGwKICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiBidXR0b25WaWV3OwogIH0KICAvKioKICAgKiBDcmVhdGVzIGEgc3RhdGljIGNvbG9yIHRhYmxlIGdyaWQgYmFzZWQgb24gdGhlIGVkaXRvciBjb25maWd1cmF0aW9uLgogICAqCiAgICogQHByaXZhdGUKICAgKiBAcmV0dXJucyB7bW9kdWxlOnVpL2NvbG9yZ3JpZC9jb2xvcmdyaWR+Q29sb3JHcmlkVmlld30KICAgKi8KCgogIF9jcmVhdGVTdGF0aWNDb2xvcnNHcmlkKCkgewogICAgY29uc3QgY29sb3JHcmlkID0gbmV3IENvbG9yR3JpZFZpZXcodGhpcy5sb2NhbGUsIHsKICAgICAgY29sb3JEZWZpbml0aW9uczogdGhpcy5jb2xvckRlZmluaXRpb25zLAogICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbnMKICAgIH0pOwogICAgY29sb3JHcmlkLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcyk7CiAgICByZXR1cm4gY29sb3JHcmlkOwogIH0KICAvKioKICAgKiBDcmVhdGVzIHRoZSBkb2N1bWVudCBjb2xvcnMgc2VjdGlvbiB2aWV3IGFuZCBiaW5kcyBpdCB0byB7QGxpbmsgI2RvY3VtZW50Q29sb3JzfS4KICAgKgogICAqIEBwcml2YXRlCiAgICogQHJldHVybnMge21vZHVsZTp1aS9jb2xvcmdyaWQvY29sb3JncmlkfkNvbG9yR3JpZFZpZXd9CiAgICovCgoKICBfY3JlYXRlRG9jdW1lbnRDb2xvcnNHcmlkKCkgewogICAgY29uc3QgYmluZCA9IFRlbXBsYXRlLmJpbmQodGhpcy5kb2N1bWVudENvbG9ycywgdGhpcy5kb2N1bWVudENvbG9ycyk7CiAgICBjb25zdCBkb2N1bWVudENvbG9yc0dyaWQgPSBuZXcgQ29sb3JHcmlkVmlldyh0aGlzLmxvY2FsZSwgewogICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbnMKICAgIH0pOwogICAgZG9jdW1lbnRDb2xvcnNHcmlkLmRlbGVnYXRlKCdleGVjdXRlJykudG8odGhpcyk7CiAgICBkb2N1bWVudENvbG9yc0dyaWQuZXh0ZW5kVGVtcGxhdGUoewogICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgY2xhc3M6IGJpbmQuaWYoJ2lzRW1wdHknLCAnY2staGlkZGVuJykKICAgICAgfQogICAgfSk7CiAgICBkb2N1bWVudENvbG9yc0dyaWQuaXRlbXMuYmluZFRvKHRoaXMuZG9jdW1lbnRDb2xvcnMpLnVzaW5nKGNvbG9yT2JqID0+IHsKICAgICAgY29uc3QgY29sb3JUaWxlID0gbmV3IENvbG9yVGlsZVZpZXcoKTsKICAgICAgY29sb3JUaWxlLnNldCh7CiAgICAgICAgY29sb3I6IGNvbG9yT2JqLmNvbG9yLAogICAgICAgIGhhc0JvcmRlcjogY29sb3JPYmoub3B0aW9ucyAmJiBjb2xvck9iai5vcHRpb25zLmhhc0JvcmRlcgogICAgICB9KTsKCiAgICAgIGlmIChjb2xvck9iai5sYWJlbCkgewogICAgICAgIGNvbG9yVGlsZS5zZXQoewogICAgICAgICAgbGFiZWw6IGNvbG9yT2JqLmxhYmVsLAogICAgICAgICAgdG9vbHRpcDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9CgogICAgICBjb2xvclRpbGUub24oJ2V4ZWN1dGUnLCAoKSA9PiB7CiAgICAgICAgdGhpcy5maXJlKCdleGVjdXRlJywgewogICAgICAgICAgdmFsdWU6IGNvbG9yT2JqLmNvbG9yCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gY29sb3JUaWxlOwogICAgfSk7IC8vIFNlbGVjdGVkIGNvbG9yIHNob3VsZCBiZSBjbGVhcmVkIHdoZW4gZG9jdW1lbnQgY29sb3JzIGJlY2FtZSBlbXB0eS4KCiAgICB0aGlzLmRvY3VtZW50Q29sb3JzLm9uKCdjaGFuZ2U6aXNFbXB0eScsIChldnQsIG5hbWUsIHZhbCkgPT4gewogICAgICBpZiAodmFsKSB7CiAgICAgICAgZG9jdW1lbnRDb2xvcnNHcmlkLnNlbGVjdGVkQ29sb3IgPSBudWxsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBkb2N1bWVudENvbG9yc0dyaWQ7CiAgfQogIC8qKgogICAqIEFkZHMgYSBnaXZlbiBjb2xvciB0byB0aGUgZG9jdW1lbnQgY29sb3JzIGxpc3QuIElmIHBvc3NpYmxlLCB0aGUgbWV0aG9kIHdpbGwgYXR0ZW1wdCB0byB1c2UKICAgKiBkYXRhIGZyb20gdGhlIHtAbGluayAjY29sb3JEZWZpbml0aW9uc30gKGxhYmVsLCBjb2xvciBvcHRpb25zKS4KICAgKgogICAqIEBwcml2YXRlCiAgICogQHBhcmFtIHtTdHJpbmd9IGNvbG9yIEEgc3RyaW5nIHRoYXQgc3RvcmVzIHRoZSB2YWx1ZSBvZiB0aGUgcmVjZW50bHkgYXBwbGllZCBjb2xvci4KICAgKi8KCgogIF9hZGRDb2xvclRvRG9jdW1lbnRDb2xvcnMoY29sb3IpIHsKICAgIGNvbnN0IHByZWRlZmluZWRDb2xvciA9IHRoaXMuY29sb3JEZWZpbml0aW9ucy5maW5kKGRlZmluaXRpb24gPT4gZGVmaW5pdGlvbi5jb2xvciA9PT0gY29sb3IpOwoKICAgIGlmICghcHJlZGVmaW5lZENvbG9yKSB7CiAgICAgIHRoaXMuZG9jdW1lbnRDb2xvcnMuYWRkKHsKICAgICAgICBjb2xvciwKICAgICAgICBsYWJlbDogY29sb3IsCiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgaGFzQm9yZGVyOiBmYWxzZQogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRvY3VtZW50Q29sb3JzLmFkZChPYmplY3QuYXNzaWduKHt9LCBwcmVkZWZpbmVkQ29sb3IpKTsKICAgIH0KICB9Cgp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-font/src/ui/colortableview.js"],"names":["View","ButtonView","ColorTileView","ColorGridView","LabelView","DocumentColorCollection","Template","FocusTracker","FocusCycler","KeystrokeHandler","removeButtonIcon","ColorTableView","constructor","locale","colors","columns","removeButtonLabel","documentColorsLabel","documentColorsCount","items","createCollection","colorDefinitions","focusTracker","keystrokes","set","documentColors","staticColorsGrid","_createStaticColorsGrid","documentColorsGrid","_focusCycler","focusables","keystrokeHandler","actions","focusPrevious","focusNext","setTemplate","tag","attributes","class","children","add","_removeColorButton","bind","label","text","extendTemplate","if","_createDocumentColorsGrid","updateDocumentColors","model","attributeName","document","maxCount","clear","rootName","getRootNames","root","getRoot","range","createRangeIn","node","getItems","is","hasAttribute","_addColorToDocumentColors","getAttribute","length","updateSelectedColors","selectedColor","render","item","element","listenTo","focus","focusFirst","focusLast","buttonView","withText","icon","tooltip","on","fire","value","colorGrid","delegate","to","bindTo","using","colorObj","colorTile","color","hasBorder","options","evt","name","val","predefinedColor","find","definition","Object","assign"],"mappings":"AAAA;;;;;AAKA;;;AAIA,OAAOA,IAAP,MAAiB,iCAAjB;AACA,OAAOC,UAAP,MAAuB,8CAAvB;AACA,OAAOC,aAAP,MAA0B,oDAA1B;AACA,OAAOC,aAAP,MAA0B,oDAA1B;AACA,OAAOC,SAAP,MAAsB,4CAAtB;AACA,OAAOC,uBAAP,MAAoC,4BAApC;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,OAAOC,gBAAP,MAA6B,gDAA7B;AACA,OAAOC,gBAAP,MAA6B,iDAA7B;AACA,OAAO,2BAAP;AAEA;;;;;;;;;;AASA,eAAe,MAAMC,cAAN,SAA6BX,IAA7B,CAAkC;AAChD;;;;;;;;;;;;AAYAY,EAAAA,WAAW,CAAEC,MAAF,EAAU;AAAEC,IAAAA,MAAF;AAAUC,IAAAA,OAAV;AAAmBC,IAAAA,iBAAnB;AAAsCC,IAAAA,mBAAtC;AAA2DC,IAAAA;AAA3D,GAAV,EAA6F;AACvG,UAAOL,MAAP;AAEA;;;;;;;AAMA,SAAKM,KAAL,GAAa,KAAKC,gBAAL,EAAb;AAEA;;;;;;AAKA,SAAKC,gBAAL,GAAwBP,MAAxB;AAEA;;;;;;;AAMA,SAAKQ,YAAL,GAAoB,IAAIf,YAAJ,EAApB;AAEA;;;;;;;AAMA,SAAKgB,UAAL,GAAkB,IAAId,gBAAJ,EAAlB;AAEA;;;;;;AAKA,SAAKe,GAAL,CAAU,eAAV;AAEA;;;;;;AAKA,SAAKR,iBAAL,GAAyBA,iBAAzB;AAEA;;;;;;AAKA,SAAKD,OAAL,GAAeA,OAAf;AAEA;;;;;;;AAMA,SAAKU,cAAL,GAAsB,IAAIpB,uBAAJ,EAAtB;AAEA;;;;;;;;AAOA,SAAKa,mBAAL,GAA2BA,mBAA3B;AAEA;;;;;;;;AAOA,SAAKQ,gBAAL,GAAwB,KAAKC,uBAAL,EAAxB;AAEA;;;;;;;;AAOA,SAAKC,kBAAL;AAEA;;;;;;;;AAOA,SAAKC,YAAL,GAAoB,IAAIrB,WAAJ,CAAiB;AACpCsB,MAAAA,UAAU,EAAE,KAAKX,KADmB;AAEpCG,MAAAA,YAAY,EAAE,KAAKA,YAFiB;AAGpCS,MAAAA,gBAAgB,EAAE,KAAKR,UAHa;AAIpCS,MAAAA,OAAO,EAAE;AACR;AACAC,QAAAA,aAAa,EAAE,SAFP;AAIR;AACAC,QAAAA,SAAS,EAAE;AALH;AAJ2B,KAAjB,CAApB;AAaA,SAAKC,WAAL,CAAkB;AACjBC,MAAAA,GAAG,EAAE,KADY;AAEjBC,MAAAA,UAAU,EAAE;AACXC,QAAAA,KAAK,EAAE,CACN,IADM,EAEN,gBAFM;AADI,OAFK;AAQjBC,MAAAA,QAAQ,EAAE,KAAKpB;AARE,KAAlB;AAWA,SAAKA,KAAL,CAAWqB,GAAX,CAAgB,KAAKC,kBAAL,EAAhB;AACA,SAAKtB,KAAL,CAAWqB,GAAX,CAAgB,KAAKd,gBAArB;;AAEA,QAAKR,mBAAL,EAA2B;AAC1B;AACA,YAAMwB,IAAI,GAAGpC,QAAQ,CAACoC,IAAT,CAAe,KAAKjB,cAApB,EAAoC,KAAKA,cAAzC,CAAb;AACA,YAAMkB,KAAK,GAAG,IAAIvC,SAAJ,CAAe,KAAKS,MAApB,CAAd;AAEA8B,MAAAA,KAAK,CAACC,IAAN,GAAa3B,mBAAb;AACA0B,MAAAA,KAAK,CAACE,cAAN,CAAsB;AACrBR,QAAAA,UAAU,EAAE;AACXC,UAAAA,KAAK,EAAE,CACN,IADM,EAEN,sBAFM,EAGNI,IAAI,CAACI,EAAL,CAAS,SAAT,EAAoB,WAApB,CAHM;AADI;AADS,OAAtB;AAUA,WAAK3B,KAAL,CAAWqB,GAAX,CAAgBG,KAAhB;AAEA,WAAKf,kBAAL,GAA0B,KAAKmB,yBAAL,EAA1B;AACA,WAAK5B,KAAL,CAAWqB,GAAX,CAAgB,KAAKZ,kBAArB;AACA;AACD;AAED;;;;;;;;;;;AASAoB,EAAAA,oBAAoB,CAAEC,KAAF,EAASC,aAAT,EAAyB;AAC5C,UAAMC,QAAQ,GAAGF,KAAK,CAACE,QAAvB;AACA,UAAMC,QAAQ,GAAG,KAAKlC,mBAAtB;AAEA,SAAKO,cAAL,CAAoB4B,KAApB;;AAEA,SAAM,MAAMC,QAAZ,IAAwBH,QAAQ,CAACI,YAAT,EAAxB,EAAkD;AACjD,YAAMC,IAAI,GAAGL,QAAQ,CAACM,OAAT,CAAkBH,QAAlB,CAAb;AACA,YAAMI,KAAK,GAAGT,KAAK,CAACU,aAAN,CAAqBH,IAArB,CAAd;;AAEA,WAAM,MAAMI,IAAZ,IAAoBF,KAAK,CAACG,QAAN,EAApB,EAAuC;AACtC,YAAKD,IAAI,CAACE,EAAL,CAAS,WAAT,KAA0BF,IAAI,CAACG,YAAL,CAAmBb,aAAnB,CAA/B,EAAoE;AACnE,eAAKc,yBAAL,CAAgCJ,IAAI,CAACK,YAAL,CAAmBf,aAAnB,CAAhC;;AAEA,cAAK,KAAKzB,cAAL,CAAoByC,MAApB,IAA8Bd,QAAnC,EAA8C;AAC7C;AACA;AACD;AACD;AACD;AACD;AAED;;;;;;;AAKAe,EAAAA,oBAAoB,GAAG;AACtB,UAAMvC,kBAAkB,GAAG,KAAKA,kBAAhC;AACA,UAAMF,gBAAgB,GAAG,KAAKA,gBAA9B;AACA,UAAM0C,aAAa,GAAG,KAAKA,aAA3B;AAEA1C,IAAAA,gBAAgB,CAAC0C,aAAjB,GAAiCA,aAAjC;;AAEA,QAAKxC,kBAAL,EAA0B;AACzBA,MAAAA,kBAAkB,CAACwC,aAAnB,GAAmCA,aAAnC;AACA;AACD;AAED;;;;;AAGAC,EAAAA,MAAM,GAAG;AACR,UAAMA,MAAN,GADQ,CAGR;;AACA,SAAM,MAAMC,IAAZ,IAAoB,KAAKnD,KAAzB,EAAiC;AAChC,WAAKG,YAAL,CAAkBkB,GAAlB,CAAuB8B,IAAI,CAACC,OAA5B;AACA,KANO,CAQR;;;AACA,SAAKhD,UAAL,CAAgBiD,QAAhB,CAA0B,KAAKD,OAA/B;AACA;AAED;;;;;AAGAE,EAAAA,KAAK,GAAG;AACP,SAAK5C,YAAL,CAAkB6C,UAAlB;AACA;AAED;;;;;AAGAC,EAAAA,SAAS,GAAG;AACX,SAAK9C,YAAL,CAAkB8C,SAAlB;AACA;AAED;;;;;;;;AAMAlC,EAAAA,kBAAkB,GAAG;AACpB,UAAMmC,UAAU,GAAG,IAAI3E,UAAJ,EAAnB;AAEA2E,IAAAA,UAAU,CAACpD,GAAX,CAAgB;AACfqD,MAAAA,QAAQ,EAAE,IADK;AAEfC,MAAAA,IAAI,EAAEpE,gBAFS;AAGfqE,MAAAA,OAAO,EAAE,IAHM;AAIfpC,MAAAA,KAAK,EAAE,KAAK3B;AAJG,KAAhB;AAOA4D,IAAAA,UAAU,CAACtC,KAAX,GAAmB,8BAAnB;AACAsC,IAAAA,UAAU,CAACI,EAAX,CAAe,SAAf,EAA0B,MAAM;AAC/B,WAAKC,IAAL,CAAW,SAAX,EAAsB;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAtB;AACA,KAFD;AAIA,WAAON,UAAP;AACA;AAED;;;;;;;;AAMAjD,EAAAA,uBAAuB,GAAG;AACzB,UAAMwD,SAAS,GAAG,IAAIhF,aAAJ,CAAmB,KAAKU,MAAxB,EAAgC;AACjDQ,MAAAA,gBAAgB,EAAE,KAAKA,gBAD0B;AAEjDN,MAAAA,OAAO,EAAE,KAAKA;AAFmC,KAAhC,CAAlB;AAKAoE,IAAAA,SAAS,CAACC,QAAV,CAAoB,SAApB,EAAgCC,EAAhC,CAAoC,IAApC;AAEA,WAAOF,SAAP;AACA;AAED;;;;;;;;AAMApC,EAAAA,yBAAyB,GAAG;AAC3B,UAAML,IAAI,GAAGpC,QAAQ,CAACoC,IAAT,CAAe,KAAKjB,cAApB,EAAoC,KAAKA,cAAzC,CAAb;AACA,UAAMG,kBAAkB,GAAG,IAAIzB,aAAJ,CAAmB,KAAKU,MAAxB,EAAgC;AAC1DE,MAAAA,OAAO,EAAE,KAAKA;AAD4C,KAAhC,CAA3B;AAIAa,IAAAA,kBAAkB,CAACwD,QAAnB,CAA6B,SAA7B,EAAyCC,EAAzC,CAA6C,IAA7C;AAEAzD,IAAAA,kBAAkB,CAACiB,cAAnB,CAAmC;AAClCR,MAAAA,UAAU,EAAE;AACXC,QAAAA,KAAK,EAAEI,IAAI,CAACI,EAAL,CAAS,SAAT,EAAoB,WAApB;AADI;AADsB,KAAnC;AAMAlB,IAAAA,kBAAkB,CAACT,KAAnB,CAAyBmE,MAAzB,CAAiC,KAAK7D,cAAtC,EAAuD8D,KAAvD,CACCC,QAAQ,IAAI;AACX,YAAMC,SAAS,GAAG,IAAIvF,aAAJ,EAAlB;AAEAuF,MAAAA,SAAS,CAACjE,GAAV,CAAe;AACdkE,QAAAA,KAAK,EAAEF,QAAQ,CAACE,KADF;AAEdC,QAAAA,SAAS,EAAEH,QAAQ,CAACI,OAAT,IAAoBJ,QAAQ,CAACI,OAAT,CAAiBD;AAFlC,OAAf;;AAKA,UAAKH,QAAQ,CAAC7C,KAAd,EAAsB;AACrB8C,QAAAA,SAAS,CAACjE,GAAV,CAAe;AACdmB,UAAAA,KAAK,EAAE6C,QAAQ,CAAC7C,KADF;AAEdoC,UAAAA,OAAO,EAAE;AAFK,SAAf;AAIA;;AAEDU,MAAAA,SAAS,CAACT,EAAV,CAAc,SAAd,EAAyB,MAAM;AAC9B,aAAKC,IAAL,CAAW,SAAX,EAAsB;AACrBC,UAAAA,KAAK,EAAEM,QAAQ,CAACE;AADK,SAAtB;AAGA,OAJD;AAMA,aAAOD,SAAP;AACA,KAvBF,EAd2B,CAwC3B;;AACA,SAAKhE,cAAL,CAAoBuD,EAApB,CAAwB,gBAAxB,EAA0C,CAAEa,GAAF,EAAOC,IAAP,EAAaC,GAAb,KAAsB;AAC/D,UAAKA,GAAL,EAAW;AACVnE,QAAAA,kBAAkB,CAACwC,aAAnB,GAAmC,IAAnC;AACA;AACD,KAJD;AAMA,WAAOxC,kBAAP;AACA;AAED;;;;;;;;;AAOAoC,EAAAA,yBAAyB,CAAE0B,KAAF,EAAU;AAClC,UAAMM,eAAe,GAAG,KAAK3E,gBAAL,CACtB4E,IADsB,CAChBC,UAAU,IAAIA,UAAU,CAACR,KAAX,KAAqBA,KADnB,CAAxB;;AAGA,QAAK,CAACM,eAAN,EAAwB;AACvB,WAAKvE,cAAL,CAAoBe,GAApB,CAAyB;AACxBkD,QAAAA,KADwB;AAExB/C,QAAAA,KAAK,EAAE+C,KAFiB;AAGxBE,QAAAA,OAAO,EAAE;AACRD,UAAAA,SAAS,EAAE;AADH;AAHe,OAAzB;AAOA,KARD,MAQO;AACN,WAAKlE,cAAL,CAAoBe,GAApB,CAAyB2D,MAAM,CAACC,MAAP,CAAe,EAAf,EAAmBJ,eAAnB,CAAzB;AACA;AACD;;AApW+C","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module font/ui/colortableview\n */\n\nimport View from '@ckeditor/ckeditor5-ui/src/view';\nimport ButtonView from '@ckeditor/ckeditor5-ui/src/button/buttonview';\nimport ColorTileView from '@ckeditor/ckeditor5-ui/src/colorgrid/colortileview';\nimport ColorGridView from '@ckeditor/ckeditor5-ui/src/colorgrid/colorgridview';\nimport LabelView from '@ckeditor/ckeditor5-ui/src/label/labelview';\nimport DocumentColorCollection from '../documentcolorcollection';\nimport Template from '@ckeditor/ckeditor5-ui/src/template';\nimport FocusTracker from '@ckeditor/ckeditor5-utils/src/focustracker';\nimport FocusCycler from '@ckeditor/ckeditor5-ui/src/focuscycler';\nimport KeystrokeHandler from '@ckeditor/ckeditor5-utils/src/keystrokehandler';\nimport removeButtonIcon from '@ckeditor/ckeditor5-core/theme/icons/eraser.svg';\nimport '../../theme/fontcolor.css';\n\n/**\n * A class which represents a view with the following sub–components:\n *\n * * A remove color button,\n * * A static {@link module:ui/colorgrid/colorgrid~ColorGridView} of colors defined in the configuration,\n * * A dynamic {@link module:ui/colorgrid/colorgrid~ColorGridView} of colors used in the document.\n *\n * @extends module:ui/view~View\n */\nexport default class ColorTableView extends View {\n\t/**\n\t * Creates a view to be inserted as a child of {@link module:ui/dropdown/dropdownview~DropdownView}.\n\t *\n\t * @param {module:utils/locale~Locale} [locale] The localization services instance.\n\t * @param {Object} config The configuration object.\n\t * @param {Array.<module:ui/colorgrid/colorgrid~ColorDefinition>} config.colors An array with definitions of colors to\n\t * be displayed in the table.\n\t * @param {Number} config.columns The number of columns in the color grid.\n\t * @param {String} config.removeButtonLabel The label of the button responsible for removing the color.\n\t * @param {String} config.documentColorsLabel The label for the section with the document colors.\n\t * @param {String} config.documentColorsCount The number of colors in the document colors section inside the color dropdown.\n\t */\n\tconstructor( locale, { colors, columns, removeButtonLabel, documentColorsLabel, documentColorsCount } ) {\n\t\tsuper( locale );\n\n\t\t/**\n\t\t * A collection of the children of the table.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:ui/viewcollection~ViewCollection}\n\t\t */\n\t\tthis.items = this.createCollection();\n\n\t\t/**\n\t\t * An array with objects representing colors to be displayed in the grid.\n\t\t *\n\t\t * @type {Arrray.<module:ui/colorgrid/colorgrid~ColorDefinition>}\n\t\t */\n\t\tthis.colorDefinitions = colors;\n\n\t\t/**\n\t\t * Tracks information about the DOM focus in the list.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/focustracker~FocusTracker}\n\t\t */\n\t\tthis.focusTracker = new FocusTracker();\n\n\t\t/**\n\t\t * An instance of the {@link module:utils/keystrokehandler~KeystrokeHandler}.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/keystrokehandler~KeystrokeHandler}\n\t\t */\n\t\tthis.keystrokes = new KeystrokeHandler();\n\n\t\t/**\n\t\t * Keeps the value of the command associated with the table for the current selection.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.set( 'selectedColor' );\n\n\t\t/**\n\t\t * The label of the button responsible for removing color attributes.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tthis.removeButtonLabel = removeButtonLabel;\n\n\t\t/**\n\t\t * The number of columns in the color grid.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tthis.columns = columns;\n\n\t\t/**\n\t\t * A collection of definitions that store the document colors.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:font/documentcolorcollection~DocumentColorCollection}\n\t\t */\n\t\tthis.documentColors = new DocumentColorCollection();\n\n\t\t/**\n\t\t * The maximum number of colors in the document colors section.\n\t\t * If it equals 0, the document colors section is not added.\n\t\t *\n\t\t * @readonly\n\t\t * @type {Number}\n\t\t */\n\t\tthis.documentColorsCount = documentColorsCount;\n\n\t\t/**\n\t\t * Preserves the reference to {@link module:ui/colorgrid/colorgrid~ColorGridView} used to create\n\t\t * the default (static) color set.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:ui/colorgrid/colorgrid~ColorGridView}\n\t\t */\n\t\tthis.staticColorsGrid = this._createStaticColorsGrid();\n\n\t\t/**\n\t\t * Preserves the reference to {@link module:ui/colorgrid/colorgrid~ColorGridView} used to create\n\t\t * the document colors. It remains undefined if the document colors feature is disabled.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:ui/colorgrid/colorgrid~ColorGridView}\n\t\t */\n\t\tthis.documentColorsGrid;\n\n\t\t/**\n\t\t * Helps cycling over focusable {@link #items} in the list.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {module:ui/focuscycler~FocusCycler}\n\t\t */\n\t\tthis._focusCycler = new FocusCycler( {\n\t\t\tfocusables: this.items,\n\t\t\tfocusTracker: this.focusTracker,\n\t\t\tkeystrokeHandler: this.keystrokes,\n\t\t\tactions: {\n\t\t\t\t// Navigate list items backwards using the Arrow Up key.\n\t\t\t\tfocusPrevious: 'arrowup',\n\n\t\t\t\t// Navigate list items forwards using the Arrow Down key.\n\t\t\t\tfocusNext: 'arrowdown',\n\t\t\t}\n\t\t} );\n\n\t\tthis.setTemplate( {\n\t\t\ttag: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: [\n\t\t\t\t\t'ck',\n\t\t\t\t\t'ck-color-table'\n\t\t\t\t]\n\t\t\t},\n\t\t\tchildren: this.items\n\t\t} );\n\n\t\tthis.items.add( this._removeColorButton() );\n\t\tthis.items.add( this.staticColorsGrid );\n\n\t\tif ( documentColorsCount ) {\n\t\t\t// Create a label for document colors.\n\t\t\tconst bind = Template.bind( this.documentColors, this.documentColors );\n\t\t\tconst label = new LabelView( this.locale );\n\n\t\t\tlabel.text = documentColorsLabel;\n\t\t\tlabel.extendTemplate( {\n\t\t\t\tattributes: {\n\t\t\t\t\tclass: [\n\t\t\t\t\t\t'ck',\n\t\t\t\t\t\t'ck-color-grid__label',\n\t\t\t\t\t\tbind.if( 'isEmpty', 'ck-hidden' )\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tthis.items.add( label );\n\n\t\t\tthis.documentColorsGrid = this._createDocumentColorsGrid();\n\t\t\tthis.items.add( this.documentColorsGrid );\n\t\t}\n\t}\n\n\t/**\n\t * Scans through the editor model and searches for text node attributes with the given attribute name.\n\t * Found entries are set as document colors.\n\t *\n\t * All the previously stored document colors will be lost in the process.\n\t *\n\t * @param {module:engine/model/model~Model} model The model used as a source to obtain the document colors.\n\t * @param {String} attributeName Determines the name of the related model's attribute for a given dropdown.\n\t */\n\tupdateDocumentColors( model, attributeName ) {\n\t\tconst document = model.document;\n\t\tconst maxCount = this.documentColorsCount;\n\n\t\tthis.documentColors.clear();\n\n\t\tfor ( const rootName of document.getRootNames() ) {\n\t\t\tconst root = document.getRoot( rootName );\n\t\t\tconst range = model.createRangeIn( root );\n\n\t\t\tfor ( const node of range.getItems() ) {\n\t\t\t\tif ( node.is( 'textProxy' ) && node.hasAttribute( attributeName ) ) {\n\t\t\t\t\tthis._addColorToDocumentColors( node.getAttribute( attributeName ) );\n\n\t\t\t\t\tif ( this.documentColors.length >= maxCount ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Refreshes the state of the selected color in one or both {@link module:ui/colorgrid/colorgrid~ColorGridView}s\n\t * available in the {@link module:font/ui/colortableview~ColorTableView}. It guarantees that the selection will occur only in one\n\t * of them.\n\t */\n\tupdateSelectedColors() {\n\t\tconst documentColorsGrid = this.documentColorsGrid;\n\t\tconst staticColorsGrid = this.staticColorsGrid;\n\t\tconst selectedColor = this.selectedColor;\n\n\t\tstaticColorsGrid.selectedColor = selectedColor;\n\n\t\tif ( documentColorsGrid ) {\n\t\t\tdocumentColorsGrid.selectedColor = selectedColor;\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\trender() {\n\t\tsuper.render();\n\n\t\t// Items added before rendering should be known to the #focusTracker.\n\t\tfor ( const item of this.items ) {\n\t\t\tthis.focusTracker.add( item.element );\n\t\t}\n\n\t\t// Start listening for the keystrokes coming from #element.\n\t\tthis.keystrokes.listenTo( this.element );\n\t}\n\n\t/**\n\t * Focuses the first focusable element in {@link #items}.\n\t */\n\tfocus() {\n\t\tthis._focusCycler.focusFirst();\n\t}\n\n\t/**\n\t * Focuses the last focusable element in {@link #items}.\n\t */\n\tfocusLast() {\n\t\tthis._focusCycler.focusLast();\n\t}\n\n\t/**\n\t * Adds the remove color button as a child of the current view.\n\t *\n\t * @private\n\t * @returns {module:ui/button/buttonview~ButtonView}\n\t */\n\t_removeColorButton() {\n\t\tconst buttonView = new ButtonView();\n\n\t\tbuttonView.set( {\n\t\t\twithText: true,\n\t\t\ticon: removeButtonIcon,\n\t\t\ttooltip: true,\n\t\t\tlabel: this.removeButtonLabel\n\t\t} );\n\n\t\tbuttonView.class = 'ck-color-table__remove-color';\n\t\tbuttonView.on( 'execute', () => {\n\t\t\tthis.fire( 'execute', { value: null } );\n\t\t} );\n\n\t\treturn buttonView;\n\t}\n\n\t/**\n\t * Creates a static color table grid based on the editor configuration.\n\t *\n\t * @private\n\t * @returns {module:ui/colorgrid/colorgrid~ColorGridView}\n\t */\n\t_createStaticColorsGrid() {\n\t\tconst colorGrid = new ColorGridView( this.locale, {\n\t\t\tcolorDefinitions: this.colorDefinitions,\n\t\t\tcolumns: this.columns\n\t\t} );\n\n\t\tcolorGrid.delegate( 'execute' ).to( this );\n\n\t\treturn colorGrid;\n\t}\n\n\t/**\n\t * Creates the document colors section view and binds it to {@link #documentColors}.\n\t *\n\t * @private\n\t * @returns {module:ui/colorgrid/colorgrid~ColorGridView}\n\t */\n\t_createDocumentColorsGrid() {\n\t\tconst bind = Template.bind( this.documentColors, this.documentColors );\n\t\tconst documentColorsGrid = new ColorGridView( this.locale, {\n\t\t\tcolumns: this.columns\n\t\t} );\n\n\t\tdocumentColorsGrid.delegate( 'execute' ).to( this );\n\n\t\tdocumentColorsGrid.extendTemplate( {\n\t\t\tattributes: {\n\t\t\t\tclass: bind.if( 'isEmpty', 'ck-hidden' )\n\t\t\t}\n\t\t} );\n\n\t\tdocumentColorsGrid.items.bindTo( this.documentColors ).using(\n\t\t\tcolorObj => {\n\t\t\t\tconst colorTile = new ColorTileView();\n\n\t\t\t\tcolorTile.set( {\n\t\t\t\t\tcolor: colorObj.color,\n\t\t\t\t\thasBorder: colorObj.options && colorObj.options.hasBorder\n\t\t\t\t} );\n\n\t\t\t\tif ( colorObj.label ) {\n\t\t\t\t\tcolorTile.set( {\n\t\t\t\t\t\tlabel: colorObj.label,\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tcolorTile.on( 'execute', () => {\n\t\t\t\t\tthis.fire( 'execute', {\n\t\t\t\t\t\tvalue: colorObj.color\n\t\t\t\t\t} );\n\t\t\t\t} );\n\n\t\t\t\treturn colorTile;\n\t\t\t}\n\t\t);\n\n\t\t// Selected color should be cleared when document colors became empty.\n\t\tthis.documentColors.on( 'change:isEmpty', ( evt, name, val ) => {\n\t\t\tif ( val ) {\n\t\t\t\tdocumentColorsGrid.selectedColor = null;\n\t\t\t}\n\t\t} );\n\n\t\treturn documentColorsGrid;\n\t}\n\n\t/**\n\t * Adds a given color to the document colors list. If possible, the method will attempt to use\n\t * data from the {@link #colorDefinitions} (label, color options).\n\t *\n\t * @private\n\t * @param {String} color A string that stores the value of the recently applied color.\n\t */\n\t_addColorToDocumentColors( color ) {\n\t\tconst predefinedColor = this.colorDefinitions\n\t\t\t.find( definition => definition.color === color );\n\n\t\tif ( !predefinedColor ) {\n\t\t\tthis.documentColors.add( {\n\t\t\t\tcolor,\n\t\t\t\tlabel: color,\n\t\t\t\toptions: {\n\t\t\t\t\thasBorder: false\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.documentColors.add( Object.assign( {}, predefinedColor ) );\n\t\t}\n\t}\n}\n"]}]}