{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/image/imageediting.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/image/imageediting.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGltYWdlL2ltYWdlL2ltYWdlZWRpdGluZwogKi8KaW1wb3J0IFBsdWdpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWNvcmUvc3JjL3BsdWdpbic7CmltcG9ydCBJbWFnZUxvYWRPYnNlcnZlciBmcm9tICcuL2ltYWdlbG9hZG9ic2VydmVyJzsKaW1wb3J0IHsgdmlld0ZpZ3VyZVRvTW9kZWwsIG1vZGVsVG9WaWV3QXR0cmlidXRlQ29udmVydGVyLCBzcmNzZXRBdHRyaWJ1dGVDb252ZXJ0ZXIgfSBmcm9tICcuL2NvbnZlcnRlcnMnOwppbXBvcnQgeyB0b0ltYWdlV2lkZ2V0IH0gZnJvbSAnLi91dGlscyc7CmltcG9ydCBJbWFnZUluc2VydENvbW1hbmQgZnJvbSAnLi9pbWFnZWluc2VydGNvbW1hbmQnOwovKioKICogVGhlIGltYWdlIGVuZ2luZSBwbHVnaW4uCiAqCiAqIEl0IHJlZ2lzdGVyczoKICoKICogKiBgPGltYWdlPmAgYXMgYSBibG9jayBlbGVtZW50IGluIHRoZSBkb2N1bWVudCBzY2hlbWEsIGFuZCBhbGxvd3MgYGFsdGAsIGBzcmNgIGFuZCBgc3Jjc2V0YCBhdHRyaWJ1dGVzLgogKiAqIGNvbnZlcnRlcnMgZm9yIGVkaXRpbmcgYW5kIGRhdGEgcGlwZWxpbmVzLgogKiAqIGAnaW1hZ2VJbnNlcnQnYCBjb21tYW5kLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VFZGl0aW5nIGV4dGVuZHMgUGx1Z2luIHsKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogIHN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpIHsKICAgIHJldHVybiAnSW1hZ2VFZGl0aW5nJzsKICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIGluaXQoKSB7CiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgIGNvbnN0IHNjaGVtYSA9IGVkaXRvci5tb2RlbC5zY2hlbWE7CiAgICBjb25zdCB0ID0gZWRpdG9yLnQ7CiAgICBjb25zdCBjb252ZXJzaW9uID0gZWRpdG9yLmNvbnZlcnNpb247IC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1LWltYWdlL2lzc3Vlcy8xNDIuCgogICAgZWRpdG9yLmVkaXRpbmcudmlldy5hZGRPYnNlcnZlcihJbWFnZUxvYWRPYnNlcnZlcik7IC8vIENvbmZpZ3VyZSBzY2hlbWEuCgogICAgc2NoZW1hLnJlZ2lzdGVyKCdpbWFnZScsIHsKICAgICAgaXNPYmplY3Q6IHRydWUsCiAgICAgIGlzQmxvY2s6IHRydWUsCiAgICAgIGFsbG93V2hlcmU6ICckYmxvY2snLAogICAgICBhbGxvd0F0dHJpYnV0ZXM6IFsnYWx0JywgJ3NyYycsICdzcmNzZXQnXQogICAgfSk7CiAgICBjb252ZXJzaW9uLmZvcignZGF0YURvd25jYXN0JykuZWxlbWVudFRvRWxlbWVudCh7CiAgICAgIG1vZGVsOiAnaW1hZ2UnLAogICAgICB2aWV3OiAobW9kZWxFbGVtZW50LCB2aWV3V3JpdGVyKSA9PiBjcmVhdGVJbWFnZVZpZXdFbGVtZW50KHZpZXdXcml0ZXIpCiAgICB9KTsKICAgIGNvbnZlcnNpb24uZm9yKCdlZGl0aW5nRG93bmNhc3QnKS5lbGVtZW50VG9FbGVtZW50KHsKICAgICAgbW9kZWw6ICdpbWFnZScsCiAgICAgIHZpZXc6IChtb2RlbEVsZW1lbnQsIHZpZXdXcml0ZXIpID0+IHRvSW1hZ2VXaWRnZXQoY3JlYXRlSW1hZ2VWaWV3RWxlbWVudCh2aWV3V3JpdGVyKSwgdmlld1dyaXRlciwgdCgnaW1hZ2Ugd2lkZ2V0JykpCiAgICB9KTsKICAgIGNvbnZlcnNpb24uZm9yKCdkb3duY2FzdCcpLmFkZChtb2RlbFRvVmlld0F0dHJpYnV0ZUNvbnZlcnRlcignc3JjJykpLmFkZChtb2RlbFRvVmlld0F0dHJpYnV0ZUNvbnZlcnRlcignYWx0JykpLmFkZChzcmNzZXRBdHRyaWJ1dGVDb252ZXJ0ZXIoKSk7CiAgICBjb252ZXJzaW9uLmZvcigndXBjYXN0JykuZWxlbWVudFRvRWxlbWVudCh7CiAgICAgIHZpZXc6IHsKICAgICAgICBuYW1lOiAnaW1nJywKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICBzcmM6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1vZGVsOiAodmlld0ltYWdlLCBtb2RlbFdyaXRlcikgPT4gbW9kZWxXcml0ZXIuY3JlYXRlRWxlbWVudCgnaW1hZ2UnLCB7CiAgICAgICAgc3JjOiB2aWV3SW1hZ2UuZ2V0QXR0cmlidXRlKCdzcmMnKQogICAgICB9KQogICAgfSkuYXR0cmlidXRlVG9BdHRyaWJ1dGUoewogICAgICB2aWV3OiB7CiAgICAgICAgbmFtZTogJ2ltZycsCiAgICAgICAga2V5OiAnYWx0JwogICAgICB9LAogICAgICBtb2RlbDogJ2FsdCcKICAgIH0pLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHsKICAgICAgdmlldzogewogICAgICAgIG5hbWU6ICdpbWcnLAogICAgICAgIGtleTogJ3NyY3NldCcKICAgICAgfSwKICAgICAgbW9kZWw6IHsKICAgICAgICBrZXk6ICdzcmNzZXQnLAogICAgICAgIHZhbHVlOiB2aWV3SW1hZ2UgPT4gewogICAgICAgICAgY29uc3QgdmFsdWUgPSB7CiAgICAgICAgICAgIGRhdGE6IHZpZXdJbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyY3NldCcpCiAgICAgICAgICB9OwoKICAgICAgICAgIGlmICh2aWV3SW1hZ2UuaGFzQXR0cmlidXRlKCd3aWR0aCcpKSB7CiAgICAgICAgICAgIHZhbHVlLndpZHRoID0gdmlld0ltYWdlLmdldEF0dHJpYnV0ZSgnd2lkdGgnKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9KS5hZGQodmlld0ZpZ3VyZVRvTW9kZWwoKSk7IC8vIFJlZ2lzdGVyIGltYWdlVXBsb2FkIGNvbW1hbmQuCgogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnaW1hZ2VJbnNlcnQnLCBuZXcgSW1hZ2VJbnNlcnRDb21tYW5kKGVkaXRvcikpOwogIH0KCn0gLy8gQ3JlYXRlcyBhIHZpZXcgZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIGltYWdlLgovLwovLwkJPGZpZ3VyZSBjbGFzcz0iaW1hZ2UiPjxpbWc+PC9pbWc+PC9maWd1cmU+Ci8vCi8vIE5vdGUgdGhhdCBgYWx0YCBhbmQgYHNyY2AgYXR0cmlidXRlcyBhcmUgY29udmVydGVkIHNlcGFyYXRlbHksIHNvIHRoZXkgYXJlIG5vdCBpbmNsdWRlZC4KLy8KLy8gQHByaXZhdGUKLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG93bmNhc3R3cml0ZXJ+RG93bmNhc3RXcml0ZXJ9IHdyaXRlcgovLyBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS92aWV3L2NvbnRhaW5lcmVsZW1lbnR+Q29udGFpbmVyRWxlbWVudH0KCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbWFnZVZpZXdFbGVtZW50KHdyaXRlcikgewogIGNvbnN0IGVtcHR5RWxlbWVudCA9IHdyaXRlci5jcmVhdGVFbXB0eUVsZW1lbnQoJ2ltZycpOwogIGNvbnN0IGZpZ3VyZSA9IHdyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KCdmaWd1cmUnLCB7CiAgICBjbGFzczogJ2ltYWdlJwogIH0pOwogIHdyaXRlci5pbnNlcnQod3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQoZmlndXJlLCAwKSwgZW1wdHlFbGVtZW50KTsKICByZXR1cm4gZmlndXJlOwp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/image/imageediting.js"],"names":["Plugin","ImageLoadObserver","viewFigureToModel","modelToViewAttributeConverter","srcsetAttributeConverter","toImageWidget","ImageInsertCommand","ImageEditing","pluginName","init","editor","schema","model","t","conversion","editing","view","addObserver","register","isObject","isBlock","allowWhere","allowAttributes","for","elementToElement","modelElement","viewWriter","createImageViewElement","add","name","attributes","src","viewImage","modelWriter","createElement","getAttribute","attributeToAttribute","key","value","data","hasAttribute","width","commands","writer","emptyElement","createEmptyElement","figure","createContainerElement","class","insert","createPositionAt"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module image/image/imageediting\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport ImageLoadObserver from './imageloadobserver';\n\nimport {\n\tviewFigureToModel,\n\tmodelToViewAttributeConverter,\n\tsrcsetAttributeConverter\n} from './converters';\n\nimport { toImageWidget } from './utils';\n\nimport ImageInsertCommand from './imageinsertcommand';\n\n/**\n * The image engine plugin.\n *\n * It registers:\n *\n * * `<image>` as a block element in the document schema, and allows `alt`, `src` and `srcset` attributes.\n * * converters for editing and data pipelines.\n * * `'imageInsert'` command.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class ImageEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'ImageEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst schema = editor.model.schema;\n\t\tconst t = editor.t;\n\t\tconst conversion = editor.conversion;\n\n\t\t// See https://github.com/ckeditor/ckeditor5-image/issues/142.\n\t\teditor.editing.view.addObserver( ImageLoadObserver );\n\n\t\t// Configure schema.\n\t\tschema.register( 'image', {\n\t\t\tisObject: true,\n\t\t\tisBlock: true,\n\t\t\tallowWhere: '$block',\n\t\t\tallowAttributes: [ 'alt', 'src', 'srcset' ]\n\t\t} );\n\n\t\tconversion.for( 'dataDowncast' ).elementToElement( {\n\t\t\tmodel: 'image',\n\t\t\tview: ( modelElement, viewWriter ) => createImageViewElement( viewWriter )\n\t\t} );\n\n\t\tconversion.for( 'editingDowncast' ).elementToElement( {\n\t\t\tmodel: 'image',\n\t\t\tview: ( modelElement, viewWriter ) => toImageWidget( createImageViewElement( viewWriter ), viewWriter, t( 'image widget' ) )\n\t\t} );\n\n\t\tconversion.for( 'downcast' )\n\t\t\t.add( modelToViewAttributeConverter( 'src' ) )\n\t\t\t.add( modelToViewAttributeConverter( 'alt' ) )\n\t\t\t.add( srcsetAttributeConverter() );\n\n\t\tconversion.for( 'upcast' )\n\t\t\t.elementToElement( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'img',\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tsrc: true\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmodel: ( viewImage, modelWriter ) => modelWriter.createElement( 'image', { src: viewImage.getAttribute( 'src' ) } )\n\t\t\t} )\n\t\t\t.attributeToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'img',\n\t\t\t\t\tkey: 'alt'\n\t\t\t\t},\n\t\t\t\tmodel: 'alt'\n\t\t\t} )\n\t\t\t.attributeToAttribute( {\n\t\t\t\tview: {\n\t\t\t\t\tname: 'img',\n\t\t\t\t\tkey: 'srcset'\n\t\t\t\t},\n\t\t\t\tmodel: {\n\t\t\t\t\tkey: 'srcset',\n\t\t\t\t\tvalue: viewImage => {\n\t\t\t\t\t\tconst value = {\n\t\t\t\t\t\t\tdata: viewImage.getAttribute( 'srcset' )\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif ( viewImage.hasAttribute( 'width' ) ) {\n\t\t\t\t\t\t\tvalue.width = viewImage.getAttribute( 'width' );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.add( viewFigureToModel() );\n\n\t\t// Register imageUpload command.\n\t\teditor.commands.add( 'imageInsert', new ImageInsertCommand( editor ) );\n\t}\n}\n\n// Creates a view element representing the image.\n//\n//\t\t<figure class=\"image\"><img></img></figure>\n//\n// Note that `alt` and `src` attributes are converted separately, so they are not included.\n//\n// @private\n// @param {module:engine/view/downcastwriter~DowncastWriter} writer\n// @returns {module:engine/view/containerelement~ContainerElement}\nexport function createImageViewElement( writer ) {\n\tconst emptyElement = writer.createEmptyElement( 'img' );\n\tconst figure = writer.createContainerElement( 'figure', { class: 'image' } );\n\n\twriter.insert( writer.createPositionAt( figure, 0 ), emptyElement );\n\n\treturn figure;\n}\n"]}]}