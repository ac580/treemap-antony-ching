{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-utils/src/dom/getresizeobserver.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-utils/src/dom/getresizeobserver.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHV0aWxzL2RvbS9nZXRyZXNpemVvYnNlcnZlcgogKi8KCi8qIGdsb2JhbHMgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0ICovCmltcG9ydCBtaXggZnJvbSAnLi4vbWl4JzsKaW1wb3J0IGdsb2JhbCBmcm9tICcuL2dsb2JhbCc7CmltcG9ydCBSZWN0IGZyb20gJy4vcmVjdCc7CmltcG9ydCBEb21FbWl0dGVyTWl4aW4gZnJvbSAnLi9lbWl0dGVybWl4aW4nOwpjb25zdCBSRVNJWkVfQ0hFQ0tfSU5URVJWQUwgPSAxMDA7Ci8qKgogKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIFtgUmVzaXplT2JzZXJ2ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzaXplT2JzZXJ2ZXIpLgogKiBJbiBicm93c2VycyB0aGF0IHN1cHBvcnQgdGhlIGBSZXNpemVPYnNlcnZlcmAgQVBJLCB0aGUgbmF0aXZlIG9ic2VydmVyIGluc3RhbmNlIGlzIHJldHVybmVkLgogKiBJbiBvdGhlciBicm93c2VycywgYSBwb2x5ZmlsbGVkIGluc3RhbmNlIGlzIHJldHVybmVkIGluc3RlYWQgd2l0aCBhIGNvbXBhdGlibGUgQVBJLgogKgogKiBbTGVhcm4gbW9yZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc2l6ZU9ic2VydmVyKSBhYm91dCB0aGUgbmF0aXZlIEFQSS4KICoKICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBmdW5jdGlvbiBjYWxsZWQgd2hlbiBhbnkgb2JzZXJ2ZWQgZWxlbWVudCB3YXMgcmVzaXplZC4gUmVmZXIgdG8gdGhlCiAqIG5hdGl2ZSBbYFJlc2l6ZU9ic2VydmVyYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc2l6ZU9ic2VydmVyKSBBUEkgdG8KICogbGVhcm4gbW9yZS4KICogQHJldHVybnMge21vZHVsZTp1dGlscy9kb20vZ2V0cmVzaXplb2JzZXJ2ZXJ+UmVzaXplT2JzZXJ2ZXJ9IEFuIG9ic2VydmVyIGluc3RhbmNlLgogKi8KCmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKSB7CiAgLy8gVE9ETzogT25lIGRheSwgdGhlIGBSZXNpemVPYnNlcnZlcmAgQVBJIHdpbGwgYmUgc3VwcG9ydGVkIGluIGFsbCBtb2Rlcm4gd2ViIGJyb3dzZXJzLgogIC8vIFdoZW4gaXQgaGFwcGVucywgdGhpcyBtb2R1bGUgd2lsbCBubyBsb25nZXIgbWFrZSBzZW5zZSBhbmQgc2hvdWxkIGJlIHJlbW92ZWQgYW5kCiAgLy8gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBzaG91bGQgYmUgdXNlZCBhY3Jvc3MgdGhlIHByb2plY3QgdG8gc2F2ZSBieXRlcy4KICAvLyBDaGVjayBvdXQgaHR0cHM6Ly9jYW5pdXNlLmNvbS8jZmVhdD1yZXNpemVvYnNlcnZlci4KICBpZiAodHlwZW9mIGdsb2JhbC53aW5kb3cuUmVzaXplT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgIHJldHVybiBuZXcgZ2xvYmFsLndpbmRvdy5SZXNpemVPYnNlcnZlcihjYWxsYmFjayk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXJQb2x5ZmlsbChjYWxsYmFjayk7CiAgfQp9Ci8qKgogKiBBIHBvbHlmaWxsIGNsYXNzIGZvciB0aGUgbmF0aXZlIFtgUmVzaXplT2JzZXJ2ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzaXplT2JzZXJ2ZXIpLgogKgogKiBAcHJpdmF0ZQogKiBAbWl4ZXMgbW9kdWxlOnV0aWxzL2RvbWVtaXR0ZXJtaXhpbn5Eb21FbWl0dGVyTWl4aW4KICovCgpjbGFzcyBSZXNpemVPYnNlcnZlclBvbHlmaWxsIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSB7QGxpbmsgbW9kdWxlOnV0aWxzL2RvbS9nZXRyZXNpemVvYnNlcnZlcn5SZXNpemVPYnNlcnZlclBvbHlmaWxsfSBjbGFzcy4KICAgKgogICAqIEl0IHN5bmNocm9ub3VzbHkgcmVhY3RzIHRvIHJlc2l6ZSBvZiB0aGUgd2luZG93IHRvIGNoZWNrIGlmIG9ic2VydmVkIGVsZW1lbnRzJyBnZW9tZXRyeSBjaGFuZ2VkLgogICAqCiAgICogQWRkaXRpb25hbGx5LCB0aGUgcG9seWZpbGxlZCBvYnNlcnZlciB1c2VzIGEgdGltZW91dCB0byBjaGVjayBpZiBvYnNlcnZlZCBlbGVtZW50cycgZ2VvbWV0cnkgaGFzIGNoYW5nZWQKICAgKiBpbiBzb21lIG90aGVyIHdheSAoZHluYW1pYyBsYXlvdXRzLCBzY3JvbGxiYXJzIHNob3dpbmcgdXAsIGV0Yy4pLCBzbyBpdHMgcmVzcG9uc2UgY2FuIGFsc28gYmUgYXN5bmNocm9ub3VzLgogICAqCiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBmdW5jdGlvbiBjYWxsZWQgd2hlbiBhbnkgb2JzZXJ2ZWQgZWxlbWVudCB3YXMgcmVzaXplZC4gUmVmZXIgdG8gdGhlCiAgICogbmF0aXZlIFtgUmVzaXplT2JzZXJ2ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzaXplT2JzZXJ2ZXIpIEFQSSB0bwogICAqIGxlYXJuIG1vcmUuCiAgICovCiAgY29uc3RydWN0b3IoY2FsbGJhY2spIHsKICAgIC8qKgogICAgICogQSBmdW5jdGlvbiBjYWxsZWQgd2hlbiBhbnkgb2JzZXJ2ZWQge0BsaW5rICNfZWxlbWVudHMgZWxlbWVudH0gd2FzIHJlc2l6ZWQuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn0KICAgICAqLwogICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjazsKICAgIC8qKgogICAgICogRE9NIGVsZW1lbnRzIGN1cnJlbnRseSBvYnNlcnZlZCBieSB0aGUgb2JzZXJ2ZXIgaW5zdGFuY2UuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAcHJvdGVjdGVkCiAgICAgKiBAbWVtYmVyIHtTZXR9CiAgICAgKi8KCiAgICB0aGlzLl9lbGVtZW50cyA9IG5ldyBTZXQoKTsKICAgIC8qKgogICAgICogQ2FjaGVkIERPTSB7QGxpbmsgI19lbGVtZW50cyBlbGVtZW50c30gYm91bmRpbmcgcmVjdHMgdG8gY29tcGFyZSB0byB1cG9uIHRoZSBuZXh0IGNoZWNrLgogICAgICoKICAgICAqIEByZWFkb25seQogICAgICogQHByb3RlY3RlZAogICAgICogQG1lbWJlciB7TWFwLjxIVE1MRWxlbWVudCxtb2R1bGU6dXRpbHMvZG9tL3JlY3R+UmVjdD59CiAgICAgKi8KCiAgICB0aGlzLl9wcmV2aW91c1JlY3RzID0gbmV3IE1hcCgpOwogICAgLyoqCiAgICAgKiBBbiBVSUQgb2YgdGhlIGN1cnJlbnQgdGltZW91dCB1cG9uIHdoaWNoIHRoZSBvYnNlcnZlZCBlbGVtZW50cyByZWN0cwogICAgICogd2lsbCBiZSBjb21wYXJlZCB0byB0aGUge0BsaW5rICNfcHJldmlvdXNSZWN0cyBwcmV2aW91cyByZWN0c30gZnJvbSB0aGUgcGFzdC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEBtZW1iZXIge01hcC48SFRNTEVsZW1lbnQsbW9kdWxlOnV0aWxzL2RvbS9yZWN0flJlY3Q+fQogICAgICovCgogICAgdGhpcy5fcGVyaW9kaWNDaGVja1RpbWVvdXQgPSBudWxsOwogIH0KICAvKioKICAgKiBTdGFydHMgb2JzZXJ2aW5nIGEgRE9NIGVsZW1lbnQuCiAgICoKICAgKiBMZWFybiBtb3JlIGluIHRoZQogICAqIFtuYXRpdmUgbWV0aG9kIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXNpemVPYnNlcnZlci9vYnNlcnZlKS4KICAgKgogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQKICAgKi8KCgogIG9ic2VydmUoZWxlbWVudCkgewogICAgdGhpcy5fZWxlbWVudHMuYWRkKGVsZW1lbnQpOwoKICAgIGlmICh0aGlzLl9lbGVtZW50cy5zaXplID09PSAxKSB7CiAgICAgIHRoaXMuX3N0YXJ0UGVyaW9kaWNDaGVjaygpOwogICAgfQogIH0KICAvKioKICAgKiBTdG9wcyBvYnNlcnZpbmcgYSBET00gZWxlbWVudC4KICAgKgogICAqIExlYXJuIG1vcmUgaW4gdGhlCiAgICogW25hdGl2ZSBtZXRob2QgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc2l6ZU9ic2VydmVyL3Vub2JzZXJ2ZSkuCiAgICoKICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50CiAgICovCgoKICB1bm9ic2VydmUoZWxlbWVudCkgewogICAgdGhpcy5fZWxlbWVudHMuZGVsZXRlKGVsZW1lbnQpOwoKICAgIHRoaXMuX3ByZXZpb3VzUmVjdHMuZGVsZXRlKGVsZW1lbnQpOwoKICAgIGlmICghdGhpcy5fZWxlbWVudHMuc2l6ZSkgewogICAgICB0aGlzLl9zdG9wUGVyaW9kaWNDaGVjaygpOwogICAgfQogIH0KICAvKioKICAgKiBTdG9wcyBvYnNlcnZpbmcgYWxsIG9ic2VydmVkIERPTSBlbGVtZW50cy4KICAgKgogICAqIExlYXJuIG1vcmUgaW4gdGhlCiAgICogW25hdGl2ZSBtZXRob2QgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc2l6ZU9ic2VydmVyL2Rpc2Nvbm5lY3QpLgogICAqCiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudAogICAqLwoKCiAgZGlzY29ubmVjdCgpIHsKICAgIHRoaXMuX2VsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB0aGlzLnVub2JzZXJ2ZShlbGVtZW50KSk7CiAgfQogIC8qKgogICAqIFdoZW4gY2FsbGVkLCB0aGUgb2JzZXJ2ZXIgY2FsbHMgdGhlIHtAbGluayAjX2NhbGxiYWNrIHJlc2l6ZSBjYWxsYmFja30gZm9yIGFsbCBvYnNlcnZlZAogICAqIHtAbGluayAjX2VsZW1lbnRzIGVsZW1lbnRzfSBidXQgYWxzbyBzdGFydHMgY2hlY2tpbmcgcGVyaW9kaWNhbGx5IGZvciBjaGFuZ2VzIGluIHRoZSBlbGVtZW50cycgZ2VvbWV0cnkuCiAgICogSWYgc29tZSBhcmUgZGV0ZWN0ZWQsIHtAbGluayAjX2NhbGxiYWNrIHJlc2l6ZSBjYWxsYmFja30gaXMgY2FsbGVkIGZvciByZWxldmFudCBlbGVtZW50cyB0aGF0IHdlcmUgcmVzaXplZC4KICAgKgogICAqIEBwcm90ZWN0ZWQKICAgKi8KCgogIF9zdGFydFBlcmlvZGljQ2hlY2soKSB7CiAgICBjb25zdCBwZXJpb2RpY0NoZWNrID0gKCkgPT4gewogICAgICB0aGlzLl9jaGVja0VsZW1lbnRSZWN0c0FuZEV4ZWN1dGVDYWxsYmFjaygpOwoKICAgICAgdGhpcy5fcGVyaW9kaWNDaGVja1RpbWVvdXQgPSBzZXRUaW1lb3V0KHBlcmlvZGljQ2hlY2ssIFJFU0laRV9DSEVDS19JTlRFUlZBTCk7CiAgICB9OwoKICAgIHRoaXMubGlzdGVuVG8oZ2xvYmFsLndpbmRvdywgJ3Jlc2l6ZScsICgpID0+IHsKICAgICAgdGhpcy5fY2hlY2tFbGVtZW50UmVjdHNBbmRFeGVjdXRlQ2FsbGJhY2soKTsKICAgIH0pOwogICAgcGVyaW9kaWNDaGVjaygpOwogIH0KICAvKioKICAgKiBTdG9wcyBjaGVja2luZyBmb3IgY2hhbmdlcyBpbiBhbGwgb2JzZXJ2ZWQge0BsaW5rICNfZWxlbWVudHMgZWxlbWVudHN9IGdlb21ldHJ5LgogICAqCiAgICogQHByb3RlY3RlZAogICAqLwoKCiAgX3N0b3BQZXJpb2RpY0NoZWNrKCkgewogICAgY2xlYXJUaW1lb3V0KHRoaXMuX3BlcmlvZGljQ2hlY2tUaW1lb3V0KTsKICAgIHRoaXMuc3RvcExpc3RlbmluZygpOwoKICAgIHRoaXMuX3ByZXZpb3VzUmVjdHMuY2xlYXIoKTsKICB9CiAgLyoqCiAgICogQ2hlY2tzIGlmIHRoZSBnZW9tZXRyeSBvZiBhbnkgb2YgdGhlIHtAbGluayAjX2VsZW1lbnRzIGVsZW1lbnR9IGhhcyBjaGFuZ2VkLiBJZiBzbywgZXhlY3V0ZXMKICAgKiB0aGUge0BsaW5rICNfY2FsbGJhY2sgcmVzaXplIGNhbGxiYWNrfSB3aXRoIGVsZW1lbnQgZ2VvbWV0cnkgZGF0YS4KICAgKgogICAqIEBwcm90ZWN0ZWQKICAgKi8KCgogIF9jaGVja0VsZW1lbnRSZWN0c0FuZEV4ZWN1dGVDYWxsYmFjaygpIHsKICAgIGNvbnN0IGVudHJpZXMgPSBbXTsKCiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGhpcy5fZWxlbWVudHMpIHsKICAgICAgaWYgKHRoaXMuX2hhc1JlY3RDaGFuZ2VkKGVsZW1lbnQpKSB7CiAgICAgICAgZW50cmllcy5wdXNoKHsKICAgICAgICAgIHRhcmdldDogZWxlbWVudCwKICAgICAgICAgIGNvbnRlbnRSZWN0OiB0aGlzLl9wcmV2aW91c1JlY3RzLmdldChlbGVtZW50KQogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogICAgaWYgKGVudHJpZXMubGVuZ3RoKSB7CiAgICAgIHRoaXMuX2NhbGxiYWNrKGVudHJpZXMpOwogICAgfQogIH0KICAvKioKICAgKiBDb21wYXJlcyB0aGUgRE9NIGVsZW1lbnQgZ2VvbWV0cnkgdG8gdGhlIHtAbGluayAjX3ByZXZpb3VzUmVjdHMgY2FjaGVkIGdlb21ldHJ5fSBmcm9tIHRoZSBwYXN0LgogICAqIFJldHVybnMgYHRydWVgIGlmIGdlb21ldHJ5IGhhcyBjaGFuZ2VkIG9yIHRoZSBlbGVtZW50IGlzIGNoZWNrZWQgZm9yIHRoZSBmaXJzdCB0aW1lLgogICAqCiAgICogQHByb3RlY3RlZAogICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQKICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgKi8KCgogIF9oYXNSZWN0Q2hhbmdlZChlbGVtZW50KSB7CiAgICBpZiAoIWVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5LmNvbnRhaW5zKGVsZW1lbnQpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICBjb25zdCBjdXJyZW50UmVjdCA9IG5ldyBSZWN0KGVsZW1lbnQpOwoKICAgIGNvbnN0IHByZXZpb3VzUmVjdCA9IHRoaXMuX3ByZXZpb3VzUmVjdHMuZ2V0KGVsZW1lbnQpOyAvLyBUaGUgZmlyc3QgY2hlY2sgc2hvdWxkIGFsd2F5cyB5aWVsZCB0cnVlIGRlc3BpdGUgbm8gUHJldmlvdXMgcmVjdCB0byBjb21wYXJlIHRvLgogICAgLy8gVGhlIG5hdGl2ZSBSZXNpemVPYnNlcnZlciBkb2VzIHRoYXQgYW5kLi4uIHRoYXQgbWFrZXMgc2Vuc2UuIFNvcnQgb2YuCgoKICAgIGNvbnN0IGhhc0NoYW5nZWQgPSAhcHJldmlvdXNSZWN0IHx8ICFwcmV2aW91c1JlY3QuaXNFcXVhbChjdXJyZW50UmVjdCk7CgogICAgdGhpcy5fcHJldmlvdXNSZWN0cy5zZXQoZWxlbWVudCwgY3VycmVudFJlY3QpOwoKICAgIHJldHVybiBoYXNDaGFuZ2VkOwogIH0KCn0KCm1peChSZXNpemVPYnNlcnZlclBvbHlmaWxsLCBEb21FbWl0dGVyTWl4aW4pOwovKioKICogQSByZXNpemUgb2JzZXJ2ZXIgb2JqZWN0IChlaXRoZXIgbmF0aXZlIG9yIHtAbGluayBtb2R1bGU6dXRpbHMvZG9tL2dldHJlc2l6ZW9ic2VydmVyfmdldFJlc2l6ZU9ic2VydmVyIHBvbHlmaWxsZWR9KQogKiBvZmZlcmluZyB0aGUgW2BSZXNpemVPYnNlcnZlcmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXNpemVPYnNlcnZlcikgQVBJLgogKgogKiBAdHlwZWRlZiB7RnVuY3Rpb259IG1vZHVsZTp1dGlscy9kb20vZ2V0cmVzaXplb2JzZXJ2ZXJ+UmVzaXplT2JzZXJ2ZXIKICov"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-utils/src/dom/getresizeobserver.js"],"names":["mix","global","Rect","DomEmitterMixin","RESIZE_CHECK_INTERVAL","getResizeObserver","callback","window","ResizeObserver","ResizeObserverPolyfill","constructor","_callback","_elements","Set","_previousRects","Map","_periodicCheckTimeout","observe","element","add","size","_startPeriodicCheck","unobserve","delete","_stopPeriodicCheck","disconnect","forEach","periodicCheck","_checkElementRectsAndExecuteCallback","setTimeout","listenTo","clearTimeout","stopListening","clear","entries","_hasRectChanged","push","target","contentRect","get","length","ownerDocument","body","contains","currentRect","previousRect","hasChanged","isEqual","set"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module utils/dom/getresizeobserver\n */\n\n/* globals setTimeout, clearTimeout */\n\nimport mix from '../mix';\nimport global from './global';\nimport Rect from './rect';\nimport DomEmitterMixin from './emittermixin';\n\nconst RESIZE_CHECK_INTERVAL = 100;\n\n/**\n * Returns an instance of [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver).\n * In browsers that support the `ResizeObserver` API, the native observer instance is returned.\n * In other browsers, a polyfilled instance is returned instead with a compatible API.\n *\n * [Learn more](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver) about the native API.\n *\n * @param {Function} callback A function called when any observed element was resized. Refer to the\n * native [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver) API to\n * learn more.\n * @returns {module:utils/dom/getresizeobserver~ResizeObserver} An observer instance.\n */\nexport default function getResizeObserver( callback ) {\n\t// TODO: One day, the `ResizeObserver` API will be supported in all modern web browsers.\n\t// When it happens, this module will no longer make sense and should be removed and\n\t// the native implementation should be used across the project to save bytes.\n\t// Check out https://caniuse.com/#feat=resizeobserver.\n\tif ( typeof global.window.ResizeObserver === 'function' ) {\n\t\treturn new global.window.ResizeObserver( callback );\n\t} else {\n\t\treturn new ResizeObserverPolyfill( callback );\n\t}\n}\n\n/**\n * A polyfill class for the native [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver).\n *\n * @private\n * @mixes module:utils/domemittermixin~DomEmitterMixin\n */\nclass ResizeObserverPolyfill {\n\t/**\n\t * Creates an instance of the {@link module:utils/dom/getresizeobserver~ResizeObserverPolyfill} class.\n\t *\n\t * It synchronously reacts to resize of the window to check if observed elements' geometry changed.\n\t *\n\t * Additionally, the polyfilled observer uses a timeout to check if observed elements' geometry has changed\n\t * in some other way (dynamic layouts, scrollbars showing up, etc.), so its response can also be asynchronous.\n\t *\n\t * @param {Function} callback A function called when any observed element was resized. Refer to the\n\t * native [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver) API to\n\t * learn more.\n\t */\n\tconstructor( callback ) {\n\t\t/**\n\t\t * A function called when any observed {@link #_elements element} was resized.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {Function}\n\t\t */\n\t\tthis._callback = callback;\n\n\t\t/**\n\t\t * DOM elements currently observed by the observer instance.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {Set}\n\t\t */\n\t\tthis._elements = new Set();\n\n\t\t/**\n\t\t * Cached DOM {@link #_elements elements} bounding rects to compare to upon the next check.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {Map.<HTMLElement,module:utils/dom/rect~Rect>}\n\t\t */\n\t\tthis._previousRects = new Map();\n\n\t\t/**\n\t\t * An UID of the current timeout upon which the observed elements rects\n\t\t * will be compared to the {@link #_previousRects previous rects} from the past.\n\t\t *\n\t\t * @readonly\n\t\t * @protected\n\t\t * @member {Map.<HTMLElement,module:utils/dom/rect~Rect>}\n\t\t */\n\t\tthis._periodicCheckTimeout = null;\n\t}\n\n\t/**\n\t * Starts observing a DOM element.\n\t *\n\t * Learn more in the\n\t * [native method documentation](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/observe).\n\t *\n\t * @param {HTMLElement} element\n\t */\n\tobserve( element ) {\n\t\tthis._elements.add( element );\n\n\t\tif ( this._elements.size === 1 ) {\n\t\t\tthis._startPeriodicCheck();\n\t\t}\n\t}\n\n\t/**\n\t * Stops observing a DOM element.\n\t *\n\t * Learn more in the\n\t * [native method documentation](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/unobserve).\n\t *\n\t * @param {HTMLElement} element\n\t */\n\tunobserve( element ) {\n\t\tthis._elements.delete( element );\n\t\tthis._previousRects.delete( element );\n\n\t\tif ( !this._elements.size ) {\n\t\t\tthis._stopPeriodicCheck();\n\t\t}\n\t}\n\n\t/**\n\t * Stops observing all observed DOM elements.\n\t *\n\t * Learn more in the\n\t * [native method documentation](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver/disconnect).\n\t *\n\t * @param {HTMLElement} element\n\t */\n\tdisconnect() {\n\t\tthis._elements.forEach( element => this.unobserve( element ) );\n\t}\n\n\t/**\n\t * When called, the observer calls the {@link #_callback resize callback} for all observed\n\t * {@link #_elements elements} but also starts checking periodically for changes in the elements' geometry.\n\t * If some are detected, {@link #_callback resize callback} is called for relevant elements that were resized.\n\t *\n\t * @protected\n\t */\n\t_startPeriodicCheck() {\n\t\tconst periodicCheck = () => {\n\t\t\tthis._checkElementRectsAndExecuteCallback();\n\t\t\tthis._periodicCheckTimeout = setTimeout( periodicCheck, RESIZE_CHECK_INTERVAL );\n\t\t};\n\n\t\tthis.listenTo( global.window, 'resize', () => {\n\t\t\tthis._checkElementRectsAndExecuteCallback();\n\t\t} );\n\n\t\tperiodicCheck();\n\t}\n\n\t/**\n\t * Stops checking for changes in all observed {@link #_elements elements} geometry.\n\t *\n\t * @protected\n\t */\n\t_stopPeriodicCheck() {\n\t\tclearTimeout( this._periodicCheckTimeout );\n\t\tthis.stopListening();\n\t\tthis._previousRects.clear();\n\t}\n\n\t/**\n\t * Checks if the geometry of any of the {@link #_elements element} has changed. If so, executes\n\t * the {@link #_callback resize callback} with element geometry data.\n\t *\n\t * @protected\n\t */\n\t_checkElementRectsAndExecuteCallback() {\n\t\tconst entries = [];\n\n\t\tfor ( const element of this._elements ) {\n\t\t\tif ( this._hasRectChanged( element ) ) {\n\t\t\t\tentries.push( {\n\t\t\t\t\ttarget: element,\n\t\t\t\t\tcontentRect: this._previousRects.get( element )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\tif ( entries.length ) {\n\t\t\tthis._callback( entries );\n\t\t}\n\t}\n\n\t/**\n\t * Compares the DOM element geometry to the {@link #_previousRects cached geometry} from the past.\n\t * Returns `true` if geometry has changed or the element is checked for the first time.\n\t *\n\t * @protected\n\t * @param {HTMLElement} element\n\t * @returns {Boolean}\n\t */\n\t_hasRectChanged( element ) {\n\t\tif ( !element.ownerDocument.body.contains( element ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst currentRect = new Rect( element );\n\t\tconst previousRect = this._previousRects.get( element );\n\n\t\t// The first check should always yield true despite no Previous rect to compare to.\n\t\t// The native ResizeObserver does that and... that makes sense. Sort of.\n\t\tconst hasChanged = !previousRect || !previousRect.isEqual( currentRect );\n\n\t\tthis._previousRects.set( element, currentRect );\n\n\t\treturn hasChanged;\n\t}\n}\n\nmix( ResizeObserverPolyfill, DomEmitterMixin );\n\n/**\n * A resize observer object (either native or {@link module:utils/dom/getresizeobserver~getResizeObserver polyfilled})\n * offering the [`ResizeObserver`](https://developer.mozilla.org/en-US/docs/Web/API/ResizeObserver) API.\n *\n * @typedef {Function} module:utils/dom/getresizeobserver~ResizeObserver\n */\n"]}]}