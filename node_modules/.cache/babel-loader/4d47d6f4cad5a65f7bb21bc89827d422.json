{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-widget/src/utils.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-widget/src/utils.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHdpZGdldC91dGlscwogKi8KaW1wb3J0IEhpZ2hsaWdodFN0YWNrIGZyb20gJy4vaGlnaGxpZ2h0c3RhY2snOwppbXBvcnQgSWNvblZpZXcgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11aS9zcmMvaWNvbi9pY29udmlldyc7CmltcG9ydCBlbnYgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvZW52JzsKaW1wb3J0IGRyYWdIYW5kbGVJY29uIGZyb20gJy4uL3RoZW1lL2ljb25zL2RyYWctaGFuZGxlLnN2Zyc7Ci8qKgogKiBDU1MgY2xhc3MgYWRkZWQgdG8gZWFjaCB3aWRnZXQgZWxlbWVudC4KICoKICogQGNvbnN0IHtTdHJpbmd9CiAqLwoKZXhwb3J0IGNvbnN0IFdJREdFVF9DTEFTU19OQU1FID0gJ2NrLXdpZGdldCc7Ci8qKgogKiBDU1MgY2xhc3MgYWRkZWQgdG8gY3VycmVudGx5IHNlbGVjdGVkIHdpZGdldCBlbGVtZW50LgogKgogKiBAY29uc3Qge1N0cmluZ30KICovCgpleHBvcnQgY29uc3QgV0lER0VUX1NFTEVDVEVEX0NMQVNTX05BTUUgPSAnY2std2lkZ2V0X3NlbGVjdGVkJzsKLyoqCiAqIFJldHVybnMgYHRydWVgIGlmIGdpdmVuIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvbm9kZX5Ob2RlfSBpcyBhbiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gYW5kIGEgd2lkZ2V0LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9ub2Rlfk5vZGV9IG5vZGUKICogQHJldHVybnMge0Jvb2xlYW59CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGlzV2lkZ2V0KG5vZGUpIHsKICBpZiAoIW5vZGUuaXMoJ2VsZW1lbnQnKSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgcmV0dXJuICEhbm9kZS5nZXRDdXN0b21Qcm9wZXJ0eSgnd2lkZ2V0Jyk7Cn0KLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqLwoKLyoqCiAqIENvbnZlcnRzIHRoZSBnaXZlbiB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gdG8gYSB3aWRnZXQgaW4gdGhlIGZvbGxvd2luZyB3YXk6CiAqCiAqICogc2V0cyB0aGUgYGNvbnRlbnRlZGl0YWJsZWAgYXR0cmlidXRlIHRvIGAidHJ1ZSJgLAogKiAqIGFkZHMgdGhlIGBjay13aWRnZXRgIENTUyBjbGFzcywKICogKiBhZGRzIGEgY3VzdG9tIHtAbGluayBtb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50I2dldEZpbGxlck9mZnNldCBgZ2V0RmlsbGVyT2Zmc2V0KClgfSBtZXRob2QgcmV0dXJuaW5nIGBudWxsYCwKICogKiBhZGRzIGEgY3VzdG9tIHByb3BlcnR5IGFsbG93aW5nIHRvIHJlY29nbml6ZSB3aWRnZXQgZWxlbWVudHMgYnkgdXNpbmcge0BsaW5rIH5pc1dpZGdldCBgaXNXaWRnZXQoKWB9LAogKiAqIGltcGxlbWVudHMgdGhlIHtAbGluayB+c2V0SGlnaGxpZ2h0SGFuZGxpbmcgdmlldyBoaWdobGlnaHQgb24gd2lkZ2V0c30uCiAqCiAqIFRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoCiAqIHtAbGluayBtb2R1bGU6ZW5naW5lL2NvbnZlcnNpb24vZG93bmNhc3RoZWxwZXJzfkRvd25jYXN0SGVscGVycyBkb3duY2FzdCBjb252ZXJzaW9uIGhlbHBlcnN9CiAqIGxpa2Uge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udmVyc2lvbi9kb3duY2FzdGhlbHBlcnN+RG93bmNhc3RIZWxwZXJzI2VsZW1lbnRUb0VsZW1lbnQgYGVsZW1lbnRUb0VsZW1lbnQoKWB9LgogKiBNb3Jlb3ZlciwgdHlwaWNhbGx5IHlvdSB3aWxsIHdhbnQgdG8gdXNlIGB0b1dpZGdldCgpYCBvbmx5IGZvciBgZWRpdGluZ0Rvd25jYXN0YCwgd2hpbGUga2VlcGluZyB0aGUgYGRhdGFEb3duY2FzdGAgY2xlYW4uCiAqCiAqIEZvciBleGFtcGxlLCBpbiBvcmRlciB0byBjb252ZXJ0IGEgYDx3aWRnZXQ+YCBtb2RlbCBlbGVtZW50IHRvIGA8ZGl2IGNsYXNzPSJ3aWRnZXQiPmAgaW4gdGhlIHZpZXcsIHlvdSBjYW4gZGVmaW5lCiAqIHN1Y2ggY29udmVydGVyczoKICoKICoJCWVkaXRvci5jb252ZXJzaW9uLmZvciggJ2VkaXRpbmdEb3duY2FzdCcgKQogKgkJCS5lbGVtZW50VG9FbGVtZW50KCB7CiAqCQkJCW1vZGVsOiAnd2lkZ2V0JywKICoJCQkJdmlldzogKCBtb2RlbEl0ZW0sIHdyaXRlciApID0+IHsKICoJCQkJCWNvbnN0IGRpdiA9IHdyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KCAnZGl2JywgeyBjbGFzczogJ3dpZGdldCcgfSApOwogKgogKgkJCQkJcmV0dXJuIHRvV2lkZ2V0KCBkaXYsIHdyaXRlciwgeyBsYWJlbDogJ3NvbWUgd2lkZ2V0JyB9ICk7CiAqCQkJCX0KICoJCQl9ICk7CiAqCiAqCQllZGl0b3IuY29udmVyc2lvbi5mb3IoICdkYXRhRG93bmNhc3QnICkKICoJCQkuZWxlbWVudFRvRWxlbWVudCggewogKgkJCQltb2RlbDogJ3dpZGdldCcsCiAqCQkJCXZpZXc6ICggbW9kZWxJdGVtLCB3cml0ZXIgKSA9PiB7CiAqCQkJCQlyZXR1cm4gd3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoICdkaXYnLCB7IGNsYXNzOiAnd2lkZ2V0JyB9ICk7CiAqCQkJCX0KICoJCQl9ICk7CiAqCiAqIFNlZSB0aGUgZnVsbCBzb3VyY2UgY29kZSBvZiB0aGUgd2lkZ2V0ICh3aXRoIGEgbmVzdGVkIGVkaXRhYmxlKSBzY2hlbWEgZGVmaW5pdGlvbiBhbmQgY29udmVydGVycyBpbgogKiBbdGhpcyBzYW1wbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtd2lkZ2V0L2Jsb2IvbWFzdGVyL3Rlc3RzL21hbnVhbC93aWRnZXQtd2l0aC1uZXN0ZWRlZGl0YWJsZS5qcykuCiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2VsZW1lbnR+RWxlbWVudH0gZWxlbWVudAogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9kb3duY2FzdHdyaXRlcn5Eb3duY2FzdFdyaXRlcn0gd3JpdGVyCiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0KICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IFtvcHRpb25zLmxhYmVsXSBFbGVtZW50J3MgbGFiZWwgcHJvdmlkZWQgdG8gdGhlIHtAbGluayB+c2V0TGFiZWx9IGZ1bmN0aW9uLiBJdCBjYW4gYmUgcGFzc2VkIGFzCiAqIGEgcGxhaW4gc3RyaW5nIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGEgc3RyaW5nLiBJdCByZXByZXNlbnRzIHRoZSB3aWRnZXQgZm9yIGFzc2lzdGl2ZSB0ZWNobm9sb2dpZXMgKGxpa2Ugc2NyZWVuIHJlYWRlcnMpLgogKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmhhc1NlbGVjdGlvbkhhbmRsZT1mYWxzZV0gSWYgYHRydWVgLCB0aGUgd2lkZ2V0IHdpbGwgaGF2ZSBhIHNlbGVjdGlvbiBoYW5kbGUgYWRkZWQuCiAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBSZXR1cm5zIHRoZSBzYW1lIGVsZW1lbnQuCiAqLwoKLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovCgpleHBvcnQgZnVuY3Rpb24gdG9XaWRnZXQoZWxlbWVudCwgd3JpdGVyLCBvcHRpb25zID0ge30pIHsKICAvLyBUaGUgc2VsZWN0aW9uIG9uIEVkZ2UgYmVoYXZlcyBiZXR0ZXIgd2hlbiB0aGUgd2hvbGUgZWRpdG9yIGNvbnRlbnRzIGlzIGluIGEgc2luZ2xlIGNvbnRlbnRlZGl0YWJsZSBlbGVtZW50LgogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUvaXNzdWVzLzEwNzkKICBpZiAoIWVudi5pc0VkZ2UpIHsKICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICdmYWxzZScsIGVsZW1lbnQpOwogIH0KCiAgd3JpdGVyLmFkZENsYXNzKFdJREdFVF9DTEFTU19OQU1FLCBlbGVtZW50KTsKICB3cml0ZXIuc2V0Q3VzdG9tUHJvcGVydHkoJ3dpZGdldCcsIHRydWUsIGVsZW1lbnQpOwogIGVsZW1lbnQuZ2V0RmlsbGVyT2Zmc2V0ID0gZ2V0RmlsbGVyT2Zmc2V0OwoKICBpZiAob3B0aW9ucy5sYWJlbCkgewogICAgc2V0TGFiZWwoZWxlbWVudCwgb3B0aW9ucy5sYWJlbCwgd3JpdGVyKTsKICB9CgogIGlmIChvcHRpb25zLmhhc1NlbGVjdGlvbkhhbmRsZSkgewogICAgYWRkU2VsZWN0aW9uSGFuZGxlKGVsZW1lbnQsIHdyaXRlcik7CiAgfQoKICBzZXRIaWdobGlnaHRIYW5kbGluZyhlbGVtZW50LCB3cml0ZXIsIChlbGVtZW50LCBkZXNjcmlwdG9yLCB3cml0ZXIpID0+IHdyaXRlci5hZGRDbGFzcyhub3JtYWxpemVUb0FycmF5KGRlc2NyaXB0b3IuY2xhc3NlcyksIGVsZW1lbnQpLCAoZWxlbWVudCwgZGVzY3JpcHRvciwgd3JpdGVyKSA9PiB3cml0ZXIucmVtb3ZlQ2xhc3Mobm9ybWFsaXplVG9BcnJheShkZXNjcmlwdG9yLmNsYXNzZXMpLCBlbGVtZW50KSk7CiAgcmV0dXJuIGVsZW1lbnQ7IC8vIE5vcm1hbGl6ZXMgQ1NTIGNsYXNzIGluIGRlc2NyaXB0b3IgdGhhdCBjYW4gYmUgcHJvdmlkZWQgaW4gZm9ybSBvZiBhbiBhcnJheSBvciBhIHN0cmluZy4KCiAgZnVuY3Rpb24gbm9ybWFsaXplVG9BcnJheShjbGFzc2VzKSB7CiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBbY2xhc3Nlc107CiAgfQp9Ci8qKgogKiBTZXRzIGhpZ2hsaWdodCBoYW5kbGluZyBtZXRob2RzLiBVc2VzIHtAbGluayBtb2R1bGU6d2lkZ2V0L2hpZ2hsaWdodHN0YWNrfkhpZ2hsaWdodFN0YWNrfSB0bwogKiBwcm9wZXJseSBkZXRlcm1pbmUgd2hpY2ggaGlnaGxpZ2h0IGRlc2NyaXB0b3Igc2hvdWxkIGJlIHVzZWQgYXQgZ2l2ZW4gdGltZS4KICoKICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZWxlbWVudH5FbGVtZW50fSBlbGVtZW50CiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkCiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlbW92ZQogKi8KCmV4cG9ydCBmdW5jdGlvbiBzZXRIaWdobGlnaHRIYW5kbGluZyhlbGVtZW50LCB3cml0ZXIsIGFkZCwgcmVtb3ZlKSB7CiAgY29uc3Qgc3RhY2sgPSBuZXcgSGlnaGxpZ2h0U3RhY2soKTsKICBzdGFjay5vbignY2hhbmdlOnRvcCcsIChldnQsIGRhdGEpID0+IHsKICAgIGlmIChkYXRhLm9sZERlc2NyaXB0b3IpIHsKICAgICAgcmVtb3ZlKGVsZW1lbnQsIGRhdGEub2xkRGVzY3JpcHRvciwgZGF0YS53cml0ZXIpOwogICAgfQoKICAgIGlmIChkYXRhLm5ld0Rlc2NyaXB0b3IpIHsKICAgICAgYWRkKGVsZW1lbnQsIGRhdGEubmV3RGVzY3JpcHRvciwgZGF0YS53cml0ZXIpOwogICAgfQogIH0pOwogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgnYWRkSGlnaGxpZ2h0JywgKGVsZW1lbnQsIGRlc2NyaXB0b3IsIHdyaXRlcikgPT4gc3RhY2suYWRkKGRlc2NyaXB0b3IsIHdyaXRlciksIGVsZW1lbnQpOwogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgncmVtb3ZlSGlnaGxpZ2h0JywgKGVsZW1lbnQsIGlkLCB3cml0ZXIpID0+IHN0YWNrLnJlbW92ZShpZCwgd3JpdGVyKSwgZWxlbWVudCk7Cn0KLyoqCiAqIFNldHMgbGFiZWwgZm9yIGdpdmVuIGVsZW1lbnQuCiAqIEl0IGNhbiBiZSBwYXNzZWQgYXMgYSBwbGFpbiBzdHJpbmcgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYSBzdHJpbmcuIEZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGVhY2ggdGltZSBsYWJlbCBpcyByZXRyaWV2ZWQgYnkKICoge0BsaW5rIH5nZXRMYWJlbCBgZ2V0TGFiZWwoKWB9LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQKICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IGxhYmVsT3JDcmVhdG9yCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKICovCgpleHBvcnQgZnVuY3Rpb24gc2V0TGFiZWwoZWxlbWVudCwgbGFiZWxPckNyZWF0b3IsIHdyaXRlcikgewogIHdyaXRlci5zZXRDdXN0b21Qcm9wZXJ0eSgnd2lkZ2V0TGFiZWwnLCBsYWJlbE9yQ3JlYXRvciwgZWxlbWVudCk7Cn0KLyoqCiAqIFJldHVybnMgdGhlIGxhYmVsIG9mIHRoZSBwcm92aWRlZCBlbGVtZW50LgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9lbGVtZW50fkVsZW1lbnR9IGVsZW1lbnQKICogQHJldHVybnMge1N0cmluZ30KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0TGFiZWwoZWxlbWVudCkgewogIGNvbnN0IGxhYmVsQ3JlYXRvciA9IGVsZW1lbnQuZ2V0Q3VzdG9tUHJvcGVydHkoJ3dpZGdldExhYmVsJyk7CgogIGlmICghbGFiZWxDcmVhdG9yKSB7CiAgICByZXR1cm4gJyc7CiAgfQoKICByZXR1cm4gdHlwZW9mIGxhYmVsQ3JlYXRvciA9PSAnZnVuY3Rpb24nID8gbGFiZWxDcmVhdG9yKCkgOiBsYWJlbENyZWF0b3I7Cn0KLyoqCiAqIEFkZHMgZnVuY3Rpb25hbGl0eSB0byB0aGUgcHJvdmlkZWQge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lZGl0YWJsZWVsZW1lbnR+RWRpdGFibGVFbGVtZW50fSB0byBhY3QgYXMgYSB3aWRnZXQncyBlZGl0YWJsZToKICoKICogKiBzZXRzIHRoZSBgY29udGVudGVkaXRhYmxlYCBhdHRyaWJ1dGUgdG8gYHRydWVgIHdoZW4ge0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9lZGl0YWJsZWVsZW1lbnR+RWRpdGFibGVFbGVtZW50I2lzUmVhZE9ubHl9IGlzIGBmYWxzZWAsCiAqIG90aGVyd2lzZSBzZXRzIGl0IHRvIGBmYWxzZWAsCiAqICogYWRkcyB0aGUgYGNrLWVkaXRvcl9fZWRpdGFibGVgIGFuZCBgY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVgIENTUyBjbGFzc2VzLAogKiAqIGFkZHMgdGhlIGBjay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkYCBDU1MgY2xhc3Mgd2hlbiB0aGUgZWRpdGFibGUgaXMgZm9jdXNlZCBhbmQgcmVtb3ZlcyBpdCB3aGVuIGl0IGlzIGJsdXJyZWQuCiAqCiAqIFNpbWlsYXJseSB0byB7QGxpbmsgfnRvV2lkZ2V0IGB0b1dpZGdldCgpYH0gdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdXNlZCBpbiBgZGF0YURvd25jYXN0YCBvbmx5IGFuZCBpdCBpcyB1c3VhbGx5CiAqIHVzZWQgdG9nZXRoZXIgd2l0aCB7QGxpbmsgbW9kdWxlOmVuZ2luZS9jb252ZXJzaW9uL2Rvd25jYXN0aGVscGVyc35Eb3duY2FzdEhlbHBlcnMjZWxlbWVudFRvRWxlbWVudCBgZWxlbWVudFRvRWxlbWVudCgpYH0uCiAqCiAqIEZvciBleGFtcGxlLCBpbiBvcmRlciB0byBjb252ZXJ0IGEgYDxuZXN0ZWQ+YCBtb2RlbCBlbGVtZW50IHRvIGA8ZGl2IGNsYXNzPSJuZXN0ZWQiPmAgaW4gdGhlIHZpZXcsIHlvdSBjYW4gZGVmaW5lCiAqIHN1Y2ggY29udmVydGVyczoKICoKICoJCWVkaXRvci5jb252ZXJzaW9uLmZvciggJ2VkaXRpbmdEb3duY2FzdCcgKQogKgkJCS5lbGVtZW50VG9FbGVtZW50KCB7CiAqCQkJCW1vZGVsOiAnbmVzdGVkJywKICoJCQkJdmlldzogKCBtb2RlbEl0ZW0sIHdyaXRlciApID0+IHsKICoJCQkJCWNvbnN0IGRpdiA9IHdyaXRlci5jcmVhdGVFZGl0YWJsZUVsZW1lbnQoICdkaXYnLCB7IGNsYXNzOiAnbmVzdGVkJyB9ICk7CiAqCiAqCQkJCQlyZXR1cm4gdG9XaWRnZXRFZGl0YWJsZSggbmVzdGVkLCB3cml0ZXIgKTsKICoJCQkJfQogKgkJCX0gKTsKICoKICoJCWVkaXRvci5jb252ZXJzaW9uLmZvciggJ2RhdGFEb3duY2FzdCcgKQogKgkJCS5lbGVtZW50VG9FbGVtZW50KCB7CiAqCQkJCW1vZGVsOiAnbmVzdGVkJywKICoJCQkJdmlldzogKCBtb2RlbEl0ZW0sIHdyaXRlciApID0+IHsKICoJCQkJCXJldHVybiB3cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudCggJ2RpdicsIHsgY2xhc3M6ICduZXN0ZWQnIH0gKTsKICoJCQkJfQogKgkJCX0gKTsKICoKICogU2VlIHRoZSBmdWxsIHNvdXJjZSBjb2RlIG9mIHRoZSB3aWRnZXQgKHdpdGggbmVzdGVkIGVkaXRhYmxlKSBzY2hlbWEgZGVmaW5pdGlvbiBhbmQgY29udmVydGVycyBpbgogKiBbdGhpcyBzYW1wbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvcjUtd2lkZ2V0L2Jsb2IvbWFzdGVyL3Rlc3RzL21hbnVhbC93aWRnZXQtd2l0aC1uZXN0ZWRlZGl0YWJsZS5qcykuCiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2VkaXRhYmxlZWxlbWVudH5FZGl0YWJsZUVsZW1lbnR9IGVkaXRhYmxlCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2Rvd25jYXN0d3JpdGVyfkRvd25jYXN0V3JpdGVyfSB3cml0ZXIKICogQHJldHVybnMge21vZHVsZTplbmdpbmUvdmlldy9lZGl0YWJsZWVsZW1lbnR+RWRpdGFibGVFbGVtZW50fSBSZXR1cm5zIHRoZSBzYW1lIGVsZW1lbnQgdGhhdCB3YXMgcHJvdmlkZWQgaW4gdGhlIGBlZGl0YWJsZWAgcGFyYW1ldGVyCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHRvV2lkZ2V0RWRpdGFibGUoZWRpdGFibGUsIHdyaXRlcikgewogIHdyaXRlci5hZGRDbGFzcyhbJ2NrLWVkaXRvcl9fZWRpdGFibGUnLCAnY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUnXSwgZWRpdGFibGUpOyAvLyBUaGUgc2VsZWN0aW9uIG9uIEVkZ2UgYmVoYXZlcyBiZXR0ZXIgd2hlbiB0aGUgd2hvbGUgZWRpdG9yIGNvbnRlbnRzIGlzIGluIGEgc2luZ2xlIGNvbnRlbnRlZGlibGUgZWxlbWVudC4KICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1L2lzc3Vlcy8xMDc5CgogIGlmICghZW52LmlzRWRnZSkgewogICAgLy8gU2V0IGluaXRpYWwgY29udGVudGVkaXRhYmxlIHZhbHVlLgogICAgd3JpdGVyLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgZWRpdGFibGUuaXNSZWFkT25seSA/ICdmYWxzZScgOiAndHJ1ZScsIGVkaXRhYmxlKTsgLy8gQmluZCB0aGUgY29udGVudGVkaXRhYmxlIHByb3BlcnR5IHRvIGVsZW1lbnQjaXNSZWFkT25seS4KCiAgICBlZGl0YWJsZS5vbignY2hhbmdlOmlzUmVhZE9ubHknLCAoZXZ0LCBwcm9wZXJ0eSwgaXMpID0+IHsKICAgICAgd3JpdGVyLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgaXMgPyAnZmFsc2UnIDogJ3RydWUnLCBlZGl0YWJsZSk7CiAgICB9KTsKICB9CgogIGVkaXRhYmxlLm9uKCdjaGFuZ2U6aXNGb2N1c2VkJywgKGV2dCwgcHJvcGVydHksIGlzKSA9PiB7CiAgICBpZiAoaXMpIHsKICAgICAgd3JpdGVyLmFkZENsYXNzKCdjay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkJywgZWRpdGFibGUpOwogICAgfSBlbHNlIHsKICAgICAgd3JpdGVyLnJlbW92ZUNsYXNzKCdjay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkJywgZWRpdGFibGUpOwogICAgfQogIH0pOwogIHJldHVybiBlZGl0YWJsZTsKfQovKioKICogUmV0dXJucyBhIG1vZGVsIHBvc2l0aW9uIHdoaWNoIGlzIG9wdGltYWwgKGluIHRlcm1zIG9mIFVYKSBmb3IgaW5zZXJ0aW5nIGEgd2lkZ2V0IGJsb2NrLgogKgogKiBGb3IgaW5zdGFuY2UsIGlmIGEgc2VsZWN0aW9uIGlzIGluIHRoZSBtaWRkbGUgb2YgYSBwYXJhZ3JhcGgsIHRoZSBwb3NpdGlvbiBiZWZvcmUgdGhpcyBwYXJhZ3JhcGgKICogd2lsbCBiZSByZXR1cm5lZCBzbyB0aGF0IGl0IGlzIG5vdCBzcGxpdC4gSWYgdGhlIHNlbGVjdGlvbiBpcyBhdCB0aGUgZW5kIG9mIGEgcGFyYWdyYXBoLAogKiB0aGUgcG9zaXRpb24gYWZ0ZXIgdGhpcyBwYXJhZ3JhcGggd2lsbCBiZSByZXR1cm5lZC4KICoKICogTm90ZTogSWYgdGhlIHNlbGVjdGlvbiBpcyBwbGFjZWQgaW4gYW4gZW1wdHkgYmxvY2ssIHRoYXQgYmxvY2sgd2lsbCBiZSByZXR1cm5lZC4gSWYgdGhhdCBwb3NpdGlvbgogKiBpcyB0aGVuIHBhc3NlZCB0byB7QGxpbmsgbW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbCNpbnNlcnRDb250ZW50fSwKICogdGhlIGJsb2NrIHdpbGwgYmUgZnVsbHkgcmVwbGFjZWQgYnkgdGhlIGltYWdlLgogKgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvc2VsZWN0aW9uflNlbGVjdGlvbnxtb2R1bGU6ZW5naW5lL21vZGVsL2RvY3VtZW50c2VsZWN0aW9ufkRvY3VtZW50U2VsZWN0aW9ufSBzZWxlY3Rpb24KICogVGhlIHNlbGVjdGlvbiBiYXNlZCBvbiB3aGljaCB0aGUgaW5zZXJ0aW9uIHBvc2l0aW9uIHNob3VsZCBiZSBjYWxjdWxhdGVkLgogKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvbW9kZWx+TW9kZWx9IG1vZGVsIE1vZGVsIGluc3RhbmNlLgogKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9wb3NpdGlvbn5Qb3NpdGlvbn0gVGhlIG9wdGltYWwgcG9zaXRpb24uCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGZpbmRPcHRpbWFsSW5zZXJ0aW9uUG9zaXRpb24oc2VsZWN0aW9uLCBtb2RlbCkgewogIGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTsKCiAgaWYgKHNlbGVjdGVkRWxlbWVudCAmJiBtb2RlbC5zY2hlbWEuaXNCbG9jayhzZWxlY3RlZEVsZW1lbnQpKSB7CiAgICByZXR1cm4gbW9kZWwuY3JlYXRlUG9zaXRpb25BZnRlcihzZWxlY3RlZEVsZW1lbnQpOwogIH0KCiAgY29uc3QgZmlyc3RCbG9jayA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLm5leHQoKS52YWx1ZTsKCiAgaWYgKGZpcnN0QmxvY2spIHsKICAgIC8vIElmIGluc2VydGluZyBpbnRvIGFuIGVtcHR5IGJsb2NrIOKAkyByZXR1cm4gcG9zaXRpb24gaW4gdGhhdCBibG9jay4gSXQgd2lsbCBnZXQKICAgIC8vIHJlcGxhY2VkIHdpdGggdGhlIGltYWdlIGJ5IGluc2VydENvbnRlbnQoKS4gIzQyLgogICAgaWYgKGZpcnN0QmxvY2suaXNFbXB0eSkgewogICAgICByZXR1cm4gbW9kZWwuY3JlYXRlUG9zaXRpb25BdChmaXJzdEJsb2NrLCAwKTsKICAgIH0KCiAgICBjb25zdCBwb3NpdGlvbkFmdGVyID0gbW9kZWwuY3JlYXRlUG9zaXRpb25BZnRlcihmaXJzdEJsb2NrKTsgLy8gSWYgc2VsZWN0aW9uIGlzIGF0IHRoZSBlbmQgb2YgdGhlIGJsb2NrIC0gcmV0dXJuIHBvc2l0aW9uIGFmdGVyIHRoZSBibG9jay4KCiAgICBpZiAoc2VsZWN0aW9uLmZvY3VzLmlzVG91Y2hpbmcocG9zaXRpb25BZnRlcikpIHsKICAgICAgcmV0dXJuIHBvc2l0aW9uQWZ0ZXI7CiAgICB9IC8vIE90aGVyd2lzZSByZXR1cm4gcG9zaXRpb24gYmVmb3JlIHRoZSBibG9jay4KCgogICAgcmV0dXJuIG1vZGVsLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKGZpcnN0QmxvY2spOwogIH0KCiAgcmV0dXJuIHNlbGVjdGlvbi5mb2N1czsKfQovKioKICogQSB1dGlsIHRvIGJlIHVzZWQgaW4gb3JkZXIgdG8gbWFwIHZpZXcgcG9zaXRpb25zIHRvIGNvcnJlY3QgbW9kZWwgcG9zaXRpb25zIHdoZW4gaW1wbGVtZW50aW5nIGEgd2lkZ2V0CiAqIHdoaWNoIHJlbmRlcnMgbm9uLWVtcHR5IHZpZXcgZWxlbWVudCBmb3IgYW4gZW1wdHkgbW9kZWwgZWxlbWVudC4KICoKICogRm9yIGV4YW1wbGU6CiAqCiAqCQkvLyBNb2RlbDoKICoJCTxwbGFjZWhvbGRlciB0eXBlPSJuYW1lIj48L3BsYWNlaG9sZGVyPgogKgogKgkJLy8gVmlldzoKICoJCTxzcGFuIGNsYXNzPSJwbGFjZWhvbGRlciI+bmFtZTwvc3Bhbj4KICoKICogSW4gc3VjaCBjYXNlLCB2aWV3IHBvc2l0aW9ucyBpbnNpZGUgYDxzcGFuPmAgY2Fubm90IGJlIGNvcnJlY3QgbWFwcGVkIHRvIHRoZSBtb2RlbCAoYmVjYXVzZSB0aGUgbW9kZWwgZWxlbWVudCBpcyBlbXB0eSkuCiAqIFRvIGhhbmRsZSBtYXBwaW5nIHBvc2l0aW9ucyBpbnNpZGUgYDxzcGFuIGNsYXNzPSJwbGFjZWhvbGRlciI+YCB0byB0aGUgbW9kZWwgdXNlIHRoaXMgdXRpbCBhcyBmb2xsb3dzOgogKgogKgkJZWRpdG9yLmVkaXRpbmcubWFwcGVyLm9uKAogKgkJCSd2aWV3VG9Nb2RlbFBvc2l0aW9uJywKICoJCQl2aWV3VG9Nb2RlbFBvc2l0aW9uT3V0c2lkZU1vZGVsRWxlbWVudCggbW9kZWwsIHZpZXdFbGVtZW50ID0+IHZpZXdFbGVtZW50Lmhhc0NsYXNzKCAncGxhY2Vob2xkZXInICkgKQogKgkJKTsKICoKICogVGhlIGNhbGxiYWNrIHdpbGwgdHJ5IHRvIG1hcCB0aGUgdmlldyBvZmZzZXQgb2Ygc2VsZWN0aW9uIHRvIGFuIGV4cGVjdGVkIG1vZGVsIHBvc2l0aW9uLgogKgogKiAxLiBXaGVuIHRoZSBwb3NpdGlvbiBpcyBhdCB0aGUgZW5kIChvciBpbiB0aGUgbWlkZGxlKSBvZiB0aGUgaW5saW5lIHdpZGdldDoKICoKICoJCS8vIFZpZXc6CiAqCQk8cD5mb28gPHNwYW4gY2xhc3M9InBsYWNlaG9sZGVyIj5uYW1lfDwvc3Bhbj4gYmFyPC9wPgogKgogKgkJLy8gTW9kZWw6CiAqCQk8cGFyYWdyYXBoPmZvbyA8cGxhY2Vob2xkZXIgdHlwZT0ibmFtZSI+PC9wbGFjZWhvbGRlcj58IGJhcjwvcGFyYWdyYXBoPgogKgogKiAyLiBXaGVuIHRoZSBwb3NpdGlvbiBpcyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBpbmxpbmUgd2lkZ2V0OgogKgogKgkJLy8gVmlldzoKICoJCTxwPmZvbyA8c3BhbiBjbGFzcz0icGxhY2Vob2xkZXIiPnxuYW1lPC9zcGFuPiBiYXI8L3A+CiAqCiAqCQkvLyBNb2RlbDoKICoJCTxwYXJhZ3JhcGg+Zm9vIHw8cGxhY2Vob2xkZXIgdHlwZT0ibmFtZSI+PC9wbGFjZWhvbGRlcj4gYmFyPC9wYXJhZ3JhcGg+CiAqCiAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9tb2RlbH5Nb2RlbH0gbW9kZWwgTW9kZWwgaW5zdGFuY2Ugb24gd2hpY2ggdGhlIGNhbGxiYWNrIG9wZXJhdGVzLgogKiBAcGFyYW0ge0Z1bmN0aW9ufSB2aWV3RWxlbWVudE1hdGNoZXIgRnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgYSB2aWV3IGVsZW1lbnQgYW5kIHNob3VsZCByZXR1cm4gYHRydWVgIGlmIHRoZSBjdXN0b20gbWFwcGluZwogKiBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgZ2l2ZW4gdmlldyBlbGVtZW50LgogKiBAcmV0dXJuIHtGdW5jdGlvbn0KICovCgpleHBvcnQgZnVuY3Rpb24gdmlld1RvTW9kZWxQb3NpdGlvbk91dHNpZGVNb2RlbEVsZW1lbnQobW9kZWwsIHZpZXdFbGVtZW50TWF0Y2hlcikgewogIHJldHVybiAoZXZ0LCBkYXRhKSA9PiB7CiAgICBjb25zdCB7CiAgICAgIG1hcHBlciwKICAgICAgdmlld1Bvc2l0aW9uCiAgICB9ID0gZGF0YTsKICAgIGNvbnN0IHZpZXdQYXJlbnQgPSBtYXBwZXIuZmluZE1hcHBlZFZpZXdBbmNlc3Rvcih2aWV3UG9zaXRpb24pOwoKICAgIGlmICghdmlld0VsZW1lbnRNYXRjaGVyKHZpZXdQYXJlbnQpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBtb2RlbFBhcmVudCA9IG1hcHBlci50b01vZGVsRWxlbWVudCh2aWV3UGFyZW50KTsKICAgIGRhdGEubW9kZWxQb3NpdGlvbiA9IG1vZGVsLmNyZWF0ZVBvc2l0aW9uQXQobW9kZWxQYXJlbnQsIHZpZXdQb3NpdGlvbi5pc0F0U3RhcnQgPyAnYmVmb3JlJyA6ICdhZnRlcicpOwogIH07Cn0gLy8gRGVmYXVsdCBmaWxsZXIgb2Zmc2V0IGZ1bmN0aW9uIGFwcGxpZWQgdG8gYWxsIHdpZGdldCBlbGVtZW50cy4KLy8KLy8gQHJldHVybnMge251bGx9CgpmdW5jdGlvbiBnZXRGaWxsZXJPZmZzZXQoKSB7CiAgcmV0dXJuIG51bGw7Cn0gLy8gQWRkcyBhIGRyYWcgaGFuZGxlIHRvIHRoZSB3aWRnZXQuCi8vCi8vIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS92aWV3L2NvbnRhaW5lcmVsZW1lbnR+Q29udGFpbmVyRWxlbWVudH0KLy8gQHBhcmFtIHttb2R1bGU6ZW5naW5lL3ZpZXcvZG93bmNhc3R3cml0ZXJ+RG93bmNhc3RXcml0ZXJ9IHdyaXRlcgoKCmZ1bmN0aW9uIGFkZFNlbGVjdGlvbkhhbmRsZSh3aWRnZXRFbGVtZW50LCB3cml0ZXIpIHsKICBjb25zdCBzZWxlY3Rpb25IYW5kbGUgPSB3cml0ZXIuY3JlYXRlVUlFbGVtZW50KCdkaXYnLCB7CiAgICBjbGFzczogJ2NrIGNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZScKICB9LCBmdW5jdGlvbiAoZG9tRG9jdW1lbnQpIHsKICAgIGNvbnN0IGRvbUVsZW1lbnQgPSB0aGlzLnRvRG9tRWxlbWVudChkb21Eb2N1bWVudCk7IC8vIFVzZSB0aGUgSWNvblZpZXcgZnJvbSB0aGUgdWkgbGlicmFyeS4KCiAgICBjb25zdCBpY29uID0gbmV3IEljb25WaWV3KCk7CiAgICBpY29uLnNldCgnY29udGVudCcsIGRyYWdIYW5kbGVJY29uKTsgLy8gUmVuZGVyIHRoZSBpY29uIHZpZXcgcmlnaHQgYXdheSB0byBhcHBlbmQgaXRzICNlbGVtZW50IHRvIHRoZSBzZWxlY3Rpb25IYW5kbGUgRE9NIGVsZW1lbnQuCgogICAgaWNvbi5yZW5kZXIoKTsKICAgIGRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQoaWNvbi5lbGVtZW50KTsKICAgIHJldHVybiBkb21FbGVtZW50OwogIH0pOyAvLyBBcHBlbmQgdGhlIHNlbGVjdGlvbiBoYW5kbGUgaW50byB0aGUgd2lkZ2V0IHdyYXBwZXIuCgogIHdyaXRlci5pbnNlcnQod3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQod2lkZ2V0RWxlbWVudCwgMCksIHNlbGVjdGlvbkhhbmRsZSk7CiAgd3JpdGVyLmFkZENsYXNzKFsnY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZSddLCB3aWRnZXRFbGVtZW50KTsKfQ=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-widget/src/utils.js"],"names":["HighlightStack","IconView","env","dragHandleIcon","WIDGET_CLASS_NAME","WIDGET_SELECTED_CLASS_NAME","isWidget","node","is","getCustomProperty","toWidget","element","writer","options","isEdge","setAttribute","addClass","setCustomProperty","getFillerOffset","label","setLabel","hasSelectionHandle","addSelectionHandle","setHighlightHandling","descriptor","normalizeToArray","classes","removeClass","Array","isArray","add","remove","stack","on","evt","data","oldDescriptor","newDescriptor","id","labelOrCreator","getLabel","labelCreator","toWidgetEditable","editable","isReadOnly","property","findOptimalInsertionPosition","selection","model","selectedElement","getSelectedElement","schema","isBlock","createPositionAfter","firstBlock","getSelectedBlocks","next","value","isEmpty","createPositionAt","positionAfter","focus","isTouching","createPositionBefore","viewToModelPositionOutsideModelElement","viewElementMatcher","mapper","viewPosition","viewParent","findMappedViewAncestor","modelParent","toModelElement","modelPosition","isAtStart","widgetElement","selectionHandle","createUIElement","class","domDocument","domElement","toDomElement","icon","set","render","appendChild","insert"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module widget/utils\n */\n\nimport HighlightStack from './highlightstack';\nimport IconView from '@ckeditor/ckeditor5-ui/src/icon/iconview';\nimport env from '@ckeditor/ckeditor5-utils/src/env';\n\nimport dragHandleIcon from '../theme/icons/drag-handle.svg';\n\n/**\n * CSS class added to each widget element.\n *\n * @const {String}\n */\nexport const WIDGET_CLASS_NAME = 'ck-widget';\n\n/**\n * CSS class added to currently selected widget element.\n *\n * @const {String}\n */\nexport const WIDGET_SELECTED_CLASS_NAME = 'ck-widget_selected';\n\n/**\n * Returns `true` if given {@link module:engine/view/node~Node} is an {@link module:engine/view/element~Element} and a widget.\n *\n * @param {module:engine/view/node~Node} node\n * @returns {Boolean}\n */\nexport function isWidget( node ) {\n\tif ( !node.is( 'element' ) ) {\n\t\treturn false;\n\t}\n\n\treturn !!node.getCustomProperty( 'widget' );\n}\n\n/* eslint-disable max-len */\n/**\n * Converts the given {@link module:engine/view/element~Element} to a widget in the following way:\n *\n * * sets the `contenteditable` attribute to `\"true\"`,\n * * adds the `ck-widget` CSS class,\n * * adds a custom {@link module:engine/view/element~Element#getFillerOffset `getFillerOffset()`} method returning `null`,\n * * adds a custom property allowing to recognize widget elements by using {@link ~isWidget `isWidget()`},\n * * implements the {@link ~setHighlightHandling view highlight on widgets}.\n *\n * This function needs to be used in conjunction with\n * {@link module:engine/conversion/downcasthelpers~DowncastHelpers downcast conversion helpers}\n * like {@link module:engine/conversion/downcasthelpers~DowncastHelpers#elementToElement `elementToElement()`}.\n * Moreover, typically you will want to use `toWidget()` only for `editingDowncast`, while keeping the `dataDowncast` clean.\n *\n * For example, in order to convert a `<widget>` model element to `<div class=\"widget\">` in the view, you can define\n * such converters:\n *\n *\t\teditor.conversion.for( 'editingDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'widget',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\tconst div = writer.createContainerElement( 'div', { class: 'widget' } );\n *\n *\t\t\t\t\treturn toWidget( div, writer, { label: 'some widget' } );\n *\t\t\t\t}\n *\t\t\t} );\n *\n *\t\teditor.conversion.for( 'dataDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'widget',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\treturn writer.createContainerElement( 'div', { class: 'widget' } );\n *\t\t\t\t}\n *\t\t\t} );\n *\n * See the full source code of the widget (with a nested editable) schema definition and converters in\n * [this sample](https://github.com/ckeditor/ckeditor5-widget/blob/master/tests/manual/widget-with-nestededitable.js).\n *\n * @param {module:engine/view/element~Element} element\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n * @param {Object} [options={}]\n * @param {String|Function} [options.label] Element's label provided to the {@link ~setLabel} function. It can be passed as\n * a plain string or a function returning a string. It represents the widget for assistive technologies (like screen readers).\n * @param {Boolean} [options.hasSelectionHandle=false] If `true`, the widget will have a selection handle added.\n * @returns {module:engine/view/element~Element} Returns the same element.\n */\n/* eslint-enable max-len */\nexport function toWidget( element, writer, options = {} ) {\n\t// The selection on Edge behaves better when the whole editor contents is in a single contenteditable element.\n\t// https://github.com/ckeditor/ckeditor5/issues/1079\n\tif ( !env.isEdge ) {\n\t\twriter.setAttribute( 'contenteditable', 'false', element );\n\t}\n\n\twriter.addClass( WIDGET_CLASS_NAME, element );\n\twriter.setCustomProperty( 'widget', true, element );\n\telement.getFillerOffset = getFillerOffset;\n\n\tif ( options.label ) {\n\t\tsetLabel( element, options.label, writer );\n\t}\n\n\tif ( options.hasSelectionHandle ) {\n\t\taddSelectionHandle( element, writer );\n\t}\n\n\tsetHighlightHandling(\n\t\telement,\n\t\twriter,\n\t\t( element, descriptor, writer ) => writer.addClass( normalizeToArray( descriptor.classes ), element ),\n\t\t( element, descriptor, writer ) => writer.removeClass( normalizeToArray( descriptor.classes ), element )\n\t);\n\n\treturn element;\n\n\t// Normalizes CSS class in descriptor that can be provided in form of an array or a string.\n\tfunction normalizeToArray( classes ) {\n\t\treturn Array.isArray( classes ) ? classes : [ classes ];\n\t}\n}\n\n/**\n * Sets highlight handling methods. Uses {@link module:widget/highlightstack~HighlightStack} to\n * properly determine which highlight descriptor should be used at given time.\n *\n * @param {module:engine/view/element~Element} element\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n * @param {Function} add\n * @param {Function} remove\n */\nexport function setHighlightHandling( element, writer, add, remove ) {\n\tconst stack = new HighlightStack();\n\n\tstack.on( 'change:top', ( evt, data ) => {\n\t\tif ( data.oldDescriptor ) {\n\t\t\tremove( element, data.oldDescriptor, data.writer );\n\t\t}\n\n\t\tif ( data.newDescriptor ) {\n\t\t\tadd( element, data.newDescriptor, data.writer );\n\t\t}\n\t} );\n\n\twriter.setCustomProperty( 'addHighlight', ( element, descriptor, writer ) => stack.add( descriptor, writer ), element );\n\twriter.setCustomProperty( 'removeHighlight', ( element, id, writer ) => stack.remove( id, writer ), element );\n}\n\n/**\n * Sets label for given element.\n * It can be passed as a plain string or a function returning a string. Function will be called each time label is retrieved by\n * {@link ~getLabel `getLabel()`}.\n *\n * @param {module:engine/view/element~Element} element\n * @param {String|Function} labelOrCreator\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n */\nexport function setLabel( element, labelOrCreator, writer ) {\n\twriter.setCustomProperty( 'widgetLabel', labelOrCreator, element );\n}\n\n/**\n * Returns the label of the provided element.\n *\n * @param {module:engine/view/element~Element} element\n * @returns {String}\n */\nexport function getLabel( element ) {\n\tconst labelCreator = element.getCustomProperty( 'widgetLabel' );\n\n\tif ( !labelCreator ) {\n\t\treturn '';\n\t}\n\n\treturn typeof labelCreator == 'function' ? labelCreator() : labelCreator;\n}\n\n/**\n * Adds functionality to the provided {@link module:engine/view/editableelement~EditableElement} to act as a widget's editable:\n *\n * * sets the `contenteditable` attribute to `true` when {@link module:engine/view/editableelement~EditableElement#isReadOnly} is `false`,\n * otherwise sets it to `false`,\n * * adds the `ck-editor__editable` and `ck-editor__nested-editable` CSS classes,\n * * adds the `ck-editor__nested-editable_focused` CSS class when the editable is focused and removes it when it is blurred.\n *\n * Similarly to {@link ~toWidget `toWidget()`} this function should be used in `dataDowncast` only and it is usually\n * used together with {@link module:engine/conversion/downcasthelpers~DowncastHelpers#elementToElement `elementToElement()`}.\n *\n * For example, in order to convert a `<nested>` model element to `<div class=\"nested\">` in the view, you can define\n * such converters:\n *\n *\t\teditor.conversion.for( 'editingDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'nested',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\tconst div = writer.createEditableElement( 'div', { class: 'nested' } );\n *\n *\t\t\t\t\treturn toWidgetEditable( nested, writer );\n *\t\t\t\t}\n *\t\t\t} );\n *\n *\t\teditor.conversion.for( 'dataDowncast' )\n *\t\t\t.elementToElement( {\n *\t\t\t\tmodel: 'nested',\n *\t\t\t\tview: ( modelItem, writer ) => {\n *\t\t\t\t\treturn writer.createContainerElement( 'div', { class: 'nested' } );\n *\t\t\t\t}\n *\t\t\t} );\n *\n * See the full source code of the widget (with nested editable) schema definition and converters in\n * [this sample](https://github.com/ckeditor/ckeditor5-widget/blob/master/tests/manual/widget-with-nestededitable.js).\n *\n * @param {module:engine/view/editableelement~EditableElement} editable\n * @param {module:engine/view/downcastwriter~DowncastWriter} writer\n * @returns {module:engine/view/editableelement~EditableElement} Returns the same element that was provided in the `editable` parameter\n */\nexport function toWidgetEditable( editable, writer ) {\n\twriter.addClass( [ 'ck-editor__editable', 'ck-editor__nested-editable' ], editable );\n\n\t// The selection on Edge behaves better when the whole editor contents is in a single contentedible element.\n\t// https://github.com/ckeditor/ckeditor5/issues/1079\n\tif ( !env.isEdge ) {\n\t\t// Set initial contenteditable value.\n\t\twriter.setAttribute( 'contenteditable', editable.isReadOnly ? 'false' : 'true', editable );\n\n\t\t// Bind the contenteditable property to element#isReadOnly.\n\t\teditable.on( 'change:isReadOnly', ( evt, property, is ) => {\n\t\t\twriter.setAttribute( 'contenteditable', is ? 'false' : 'true', editable );\n\t\t} );\n\t}\n\n\teditable.on( 'change:isFocused', ( evt, property, is ) => {\n\t\tif ( is ) {\n\t\t\twriter.addClass( 'ck-editor__nested-editable_focused', editable );\n\t\t} else {\n\t\t\twriter.removeClass( 'ck-editor__nested-editable_focused', editable );\n\t\t}\n\t} );\n\n\treturn editable;\n}\n\n/**\n * Returns a model position which is optimal (in terms of UX) for inserting a widget block.\n *\n * For instance, if a selection is in the middle of a paragraph, the position before this paragraph\n * will be returned so that it is not split. If the selection is at the end of a paragraph,\n * the position after this paragraph will be returned.\n *\n * Note: If the selection is placed in an empty block, that block will be returned. If that position\n * is then passed to {@link module:engine/model/model~Model#insertContent},\n * the block will be fully replaced by the image.\n *\n * @param {module:engine/model/selection~Selection|module:engine/model/documentselection~DocumentSelection} selection\n * The selection based on which the insertion position should be calculated.\n * @param {module:engine/model/model~Model} model Model instance.\n * @returns {module:engine/model/position~Position} The optimal position.\n */\nexport function findOptimalInsertionPosition( selection, model ) {\n\tconst selectedElement = selection.getSelectedElement();\n\n\tif ( selectedElement && model.schema.isBlock( selectedElement ) ) {\n\t\treturn model.createPositionAfter( selectedElement );\n\t}\n\n\tconst firstBlock = selection.getSelectedBlocks().next().value;\n\n\tif ( firstBlock ) {\n\t\t// If inserting into an empty block â€“ return position in that block. It will get\n\t\t// replaced with the image by insertContent(). #42.\n\t\tif ( firstBlock.isEmpty ) {\n\t\t\treturn model.createPositionAt( firstBlock, 0 );\n\t\t}\n\n\t\tconst positionAfter = model.createPositionAfter( firstBlock );\n\n\t\t// If selection is at the end of the block - return position after the block.\n\t\tif ( selection.focus.isTouching( positionAfter ) ) {\n\t\t\treturn positionAfter;\n\t\t}\n\n\t\t// Otherwise return position before the block.\n\t\treturn model.createPositionBefore( firstBlock );\n\t}\n\n\treturn selection.focus;\n}\n\n/**\n * A util to be used in order to map view positions to correct model positions when implementing a widget\n * which renders non-empty view element for an empty model element.\n *\n * For example:\n *\n *\t\t// Model:\n *\t\t<placeholder type=\"name\"></placeholder>\n *\n *\t\t// View:\n *\t\t<span class=\"placeholder\">name</span>\n *\n * In such case, view positions inside `<span>` cannot be correct mapped to the model (because the model element is empty).\n * To handle mapping positions inside `<span class=\"placeholder\">` to the model use this util as follows:\n *\n *\t\teditor.editing.mapper.on(\n *\t\t\t'viewToModelPosition',\n *\t\t\tviewToModelPositionOutsideModelElement( model, viewElement => viewElement.hasClass( 'placeholder' ) )\n *\t\t);\n *\n * The callback will try to map the view offset of selection to an expected model position.\n *\n * 1. When the position is at the end (or in the middle) of the inline widget:\n *\n *\t\t// View:\n *\t\t<p>foo <span class=\"placeholder\">name|</span> bar</p>\n *\n *\t\t// Model:\n *\t\t<paragraph>foo <placeholder type=\"name\"></placeholder>| bar</paragraph>\n *\n * 2. When the position is at the beginning of the inline widget:\n *\n *\t\t// View:\n *\t\t<p>foo <span class=\"placeholder\">|name</span> bar</p>\n *\n *\t\t// Model:\n *\t\t<paragraph>foo |<placeholder type=\"name\"></placeholder> bar</paragraph>\n *\n * @param {module:engine/model/model~Model} model Model instance on which the callback operates.\n * @param {Function} viewElementMatcher Function that is passed a view element and should return `true` if the custom mapping\n * should be applied to the given view element.\n * @return {Function}\n */\nexport function viewToModelPositionOutsideModelElement( model, viewElementMatcher ) {\n\treturn ( evt, data ) => {\n\t\tconst { mapper, viewPosition } = data;\n\n\t\tconst viewParent = mapper.findMappedViewAncestor( viewPosition );\n\n\t\tif ( !viewElementMatcher( viewParent ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst modelParent = mapper.toModelElement( viewParent );\n\n\t\tdata.modelPosition = model.createPositionAt( modelParent, viewPosition.isAtStart ? 'before' : 'after' );\n\t};\n}\n\n// Default filler offset function applied to all widget elements.\n//\n// @returns {null}\nfunction getFillerOffset() {\n\treturn null;\n}\n\n// Adds a drag handle to the widget.\n//\n// @param {module:engine/view/containerelement~ContainerElement}\n// @param {module:engine/view/downcastwriter~DowncastWriter} writer\nfunction addSelectionHandle( widgetElement, writer ) {\n\tconst selectionHandle = writer.createUIElement( 'div', { class: 'ck ck-widget__selection-handle' }, function( domDocument ) {\n\t\tconst domElement = this.toDomElement( domDocument );\n\n\t\t// Use the IconView from the ui library.\n\t\tconst icon = new IconView();\n\t\ticon.set( 'content', dragHandleIcon );\n\n\t\t// Render the icon view right away to append its #element to the selectionHandle DOM element.\n\t\ticon.render();\n\n\t\tdomElement.appendChild( icon.element );\n\n\t\treturn domElement;\n\t} );\n\n\t// Append the selection handle into the widget wrapper.\n\twriter.insert( writer.createPositionAt( widgetElement, 0 ), selectionHandle );\n\twriter.addClass( [ 'ck-widget_with-selection-handle' ], widgetElement );\n}\n"]}]}