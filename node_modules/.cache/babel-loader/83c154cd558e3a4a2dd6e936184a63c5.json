{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-upload/src/filereader.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-upload/src/filereader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHVwbG9hZC9maWxlcmVhZGVyCiAqLwoKLyogZ2xvYmFscyB3aW5kb3cgKi8KaW1wb3J0IE9ic2VydmFibGVNaXhpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9vYnNlcnZhYmxlbWl4aW4nOwppbXBvcnQgbWl4IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL21peCc7Ci8qKgogKiBXcmFwcGVyIG92ZXIgdGhlIG5hdGl2ZSBgRmlsZVJlYWRlcmAuCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmlsZVJlYWRlciB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgRmlsZVJlYWRlci4KICAgKi8KICBjb25zdHJ1Y3RvcigpIHsKICAgIGNvbnN0IHJlYWRlciA9IG5ldyB3aW5kb3cuRmlsZVJlYWRlcigpOwogICAgLyoqCiAgICAgKiBJbnN0YW5jZSBvZiBuYXRpdmUgRmlsZVJlYWRlci4KICAgICAqCiAgICAgKiBAcHJpdmF0ZQogICAgICogQG1lbWJlciB7RmlsZVJlYWRlcn0gI19yZWFkZXIKICAgICAqLwoKICAgIHRoaXMuX3JlYWRlciA9IHJlYWRlcjsKICAgIHRoaXMuX2RhdGEgPSB1bmRlZmluZWQ7CiAgICAvKioKICAgICAqIE51bWJlciBvZiBieXRlcyBsb2FkZWQuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAb2JzZXJ2YWJsZQogICAgICogQG1lbWJlciB7TnVtYmVyfSAjbG9hZGVkCiAgICAgKi8KCiAgICB0aGlzLnNldCgnbG9hZGVkJywgMCk7CgogICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSBldnQgPT4gewogICAgICB0aGlzLmxvYWRlZCA9IGV2dC5sb2FkZWQ7CiAgICB9OwogIH0KICAvKioKICAgKiBSZXR1cm5zIGVycm9yIHRoYXQgb2NjdXJyZWQgZHVyaW5nIGZpbGUgcmVhZGluZy4KICAgKgogICAqIEByZXR1cm5zIHtFcnJvcn0KICAgKi8KCgogIGdldCBlcnJvcigpIHsKICAgIHJldHVybiB0aGlzLl9yZWFkZXIuZXJyb3I7CiAgfQogIC8qKgogICAqIEhvbGRzIHRoZSBkYXRhIG9mIGFuIGFscmVhZHkgbG9hZGVkIGZpbGUuIFRoZSBmaWxlIG11c3QgYmUgZmlyc3QgbG9hZGVkCiAgICogYnkgdXNpbmcge0BsaW5rIG1vZHVsZTp1cGxvYWQvZmlsZXJlYWRlcn5GaWxlUmVhZGVyI3JlYWQgYHJlYWQoKWB9LgogICAqCiAgICogQHR5cGUge0ZpbGV8dW5kZWZpbmVkfQogICAqLwoKCiAgZ2V0IGRhdGEoKSB7CiAgICByZXR1cm4gdGhpcy5fZGF0YTsKICB9CiAgLyoqCiAgICogUmVhZHMgdGhlIHByb3ZpZGVkIGZpbGUuCiAgICoKICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgTmF0aXZlIEZpbGUgb2JqZWN0LgogICAqIEByZXR1cm5zIHtQcm9taXNlLjxTdHJpbmc+fSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBmaWxlJ3MgY29udGVudC4KICAgKiBUaGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIGluIGNhc2Ugb2YgYW4gZXJyb3Igb3Igd2hlbiB0aGUgcmVhZGluZyBwcm9jZXNzIGlzIGFib3J0ZWQuCiAgICovCgoKICByZWFkKGZpbGUpIHsKICAgIGNvbnN0IHJlYWRlciA9IHRoaXMuX3JlYWRlcjsKICAgIHRoaXMudG90YWwgPSBmaWxlLnNpemU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gewogICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlYWRlci5yZXN1bHQ7CiAgICAgICAgdGhpcy5fZGF0YSA9IHJlc3VsdDsKICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgIH07CgogICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHsKICAgICAgICByZWplY3QoJ2Vycm9yJyk7CiAgICAgIH07CgogICAgICByZWFkZXIub25hYm9ydCA9ICgpID0+IHsKICAgICAgICByZWplY3QoJ2Fib3J0ZWQnKTsKICAgICAgfTsKCiAgICAgIHRoaXMuX3JlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSk7CiAgfQogIC8qKgogICAqIEFib3J0cyBmaWxlIHJlYWRlci4KICAgKi8KCgogIGFib3J0KCkgewogICAgdGhpcy5fcmVhZGVyLmFib3J0KCk7CiAgfQoKfQptaXgoRmlsZVJlYWRlciwgT2JzZXJ2YWJsZU1peGluKTs="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-upload/src/filereader.js"],"names":["ObservableMixin","mix","FileReader","constructor","reader","window","_reader","_data","undefined","set","onprogress","evt","loaded","error","data","read","file","total","size","Promise","resolve","reject","onload","result","onerror","onabort","readAsDataURL","abort"],"mappings":"AAAA;;;;;AAKA;;;;AAIA;AAEA,OAAOA,eAAP,MAA4B,+CAA5B;AACA,OAAOC,GAAP,MAAgB,mCAAhB;AAEA;;;;AAGA,eAAe,MAAMC,UAAN,CAAiB;AAC/B;;;AAGAC,EAAAA,WAAW,GAAG;AACb,UAAMC,MAAM,GAAG,IAAIC,MAAM,CAACH,UAAX,EAAf;AAEA;;;;;;;AAMA,SAAKI,OAAL,GAAeF,MAAf;AAEA,SAAKG,KAAL,GAAaC,SAAb;AAEA;;;;;;;;AAOA,SAAKC,GAAL,CAAU,QAAV,EAAoB,CAApB;;AAEAL,IAAAA,MAAM,CAACM,UAAP,GAAoBC,GAAG,IAAI;AAC1B,WAAKC,MAAL,GAAcD,GAAG,CAACC,MAAlB;AACA,KAFD;AAGA;AAED;;;;;;;AAKA,MAAIC,KAAJ,GAAY;AACX,WAAO,KAAKP,OAAL,CAAaO,KAApB;AACA;AAED;;;;;;;;AAMA,MAAIC,IAAJ,GAAW;AACV,WAAO,KAAKP,KAAZ;AACA;AAED;;;;;;;;;AAOAQ,EAAAA,IAAI,CAAEC,IAAF,EAAS;AACZ,UAAMZ,MAAM,GAAG,KAAKE,OAApB;AACA,SAAKW,KAAL,GAAaD,IAAI,CAACE,IAAlB;AAEA,WAAO,IAAIC,OAAJ,CAAa,CAAEC,OAAF,EAAWC,MAAX,KAAuB;AAC1CjB,MAAAA,MAAM,CAACkB,MAAP,GAAgB,MAAM;AACrB,cAAMC,MAAM,GAAGnB,MAAM,CAACmB,MAAtB;AAEA,aAAKhB,KAAL,GAAagB,MAAb;AAEAH,QAAAA,OAAO,CAAEG,MAAF,CAAP;AACA,OAND;;AAQAnB,MAAAA,MAAM,CAACoB,OAAP,GAAiB,MAAM;AACtBH,QAAAA,MAAM,CAAE,OAAF,CAAN;AACA,OAFD;;AAIAjB,MAAAA,MAAM,CAACqB,OAAP,GAAiB,MAAM;AACtBJ,QAAAA,MAAM,CAAE,SAAF,CAAN;AACA,OAFD;;AAIA,WAAKf,OAAL,CAAaoB,aAAb,CAA4BV,IAA5B;AACA,KAlBM,CAAP;AAmBA;AAED;;;;;AAGAW,EAAAA,KAAK,GAAG;AACP,SAAKrB,OAAL,CAAaqB,KAAb;AACA;;AAvF8B;AA0FhC1B,GAAG,CAAEC,UAAF,EAAcF,eAAd,CAAH","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module upload/filereader\n */\n\n/* globals window */\n\nimport ObservableMixin from '@ckeditor/ckeditor5-utils/src/observablemixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\n\n/**\n * Wrapper over the native `FileReader`.\n */\nexport default class FileReader {\n\t/**\n\t * Creates an instance of the FileReader.\n\t */\n\tconstructor() {\n\t\tconst reader = new window.FileReader();\n\n\t\t/**\n\t\t * Instance of native FileReader.\n\t\t *\n\t\t * @private\n\t\t * @member {FileReader} #_reader\n\t\t */\n\t\tthis._reader = reader;\n\n\t\tthis._data = undefined;\n\n\t\t/**\n\t\t * Number of bytes loaded.\n\t\t *\n\t\t * @readonly\n\t\t * @observable\n\t\t * @member {Number} #loaded\n\t\t */\n\t\tthis.set( 'loaded', 0 );\n\n\t\treader.onprogress = evt => {\n\t\t\tthis.loaded = evt.loaded;\n\t\t};\n\t}\n\n\t/**\n\t * Returns error that occurred during file reading.\n\t *\n\t * @returns {Error}\n\t */\n\tget error() {\n\t\treturn this._reader.error;\n\t}\n\n\t/**\n\t * Holds the data of an already loaded file. The file must be first loaded\n\t * by using {@link module:upload/filereader~FileReader#read `read()`}.\n\t *\n\t * @type {File|undefined}\n\t */\n\tget data() {\n\t\treturn this._data;\n\t}\n\n\t/**\n\t * Reads the provided file.\n\t *\n\t * @param {File} file Native File object.\n\t * @returns {Promise.<String>} Returns a promise that will be resolved with file's content.\n\t * The promise will be rejected in case of an error or when the reading process is aborted.\n\t */\n\tread( file ) {\n\t\tconst reader = this._reader;\n\t\tthis.total = file.size;\n\n\t\treturn new Promise( ( resolve, reject ) => {\n\t\t\treader.onload = () => {\n\t\t\t\tconst result = reader.result;\n\n\t\t\t\tthis._data = result;\n\n\t\t\t\tresolve( result );\n\t\t\t};\n\n\t\t\treader.onerror = () => {\n\t\t\t\treject( 'error' );\n\t\t\t};\n\n\t\t\treader.onabort = () => {\n\t\t\t\treject( 'aborted' );\n\t\t\t};\n\n\t\t\tthis._reader.readAsDataURL( file );\n\t\t} );\n\t}\n\n\t/**\n\t * Aborts file reader.\n\t */\n\tabort() {\n\t\tthis._reader.abort();\n\t}\n}\n\nmix( FileReader, ObservableMixin );\n"]}]}