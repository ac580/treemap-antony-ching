{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-core/src/editor/editorui.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-core/src/editor/editorui.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGNvcmUvZWRpdG9yL2VkaXRvcnVpCiAqLwoKLyogZ2xvYmFscyBjb25zb2xlICovCmltcG9ydCBDb21wb25lbnRGYWN0b3J5IGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdWkvc3JjL2NvbXBvbmVudGZhY3RvcnknOwppbXBvcnQgRm9jdXNUcmFja2VyIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL2ZvY3VzdHJhY2tlcic7CmltcG9ydCBFbWl0dGVyTWl4aW4gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvZW1pdHRlcm1peGluJzsKaW1wb3J0IG1peCBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9taXgnOwovKioKICogQSBjbGFzcyBwcm92aWRpbmcgdGhlIG1pbmltYWwgaW50ZXJmYWNlIHRoYXQgaXMgcmVxdWlyZWQgdG8gc3VjY2Vzc2Z1bGx5IGJvb3RzdHJhcCBhbnkgZWRpdG9yIFVJLgogKgogKiBAbWl4ZXMgbW9kdWxlOnV0aWxzL2VtaXR0ZXJtaXhpbn5FbWl0dGVyTWl4aW4KICovCgpleHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0b3JVSSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiB0aGUgZWRpdG9yIFVJIGNsYXNzLgogICAqCiAgICogQHBhcmFtIHttb2R1bGU6Y29yZS9lZGl0b3IvZWRpdG9yfkVkaXRvcn0gZWRpdG9yIFRoZSBlZGl0b3IgaW5zdGFuY2UuCiAgICovCiAgY29uc3RydWN0b3IoZWRpdG9yKSB7CiAgICAvKioKICAgICAqIFRoZSBlZGl0b3IgdGhhdCB0aGUgVUkgYmVsb25ncyB0by4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTpjb3JlL2VkaXRvci9lZGl0b3J+RWRpdG9yfSAjZWRpdG9yCiAgICAgKi8KICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yOwogICAgLyoqCiAgICAgKiBBbiBpbnN0YW5jZSBvZiB0aGUge0BsaW5rIG1vZHVsZTp1aS9jb21wb25lbnRmYWN0b3J5fkNvbXBvbmVudEZhY3Rvcnl9LCBhIHJlZ2lzdHJ5IHVzZWQgYnkgcGx1Z2lucwogICAgICogdG8gcmVnaXN0ZXIgZmFjdG9yaWVzIG9mIHNwZWNpZmljIFVJIGNvbXBvbmVudHMuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHttb2R1bGU6dWkvY29tcG9uZW50ZmFjdG9yeX5Db21wb25lbnRGYWN0b3J5fSAjY29tcG9uZW50RmFjdG9yeQogICAgICovCgogICAgdGhpcy5jb21wb25lbnRGYWN0b3J5ID0gbmV3IENvbXBvbmVudEZhY3RvcnkoZWRpdG9yKTsKICAgIC8qKgogICAgICogU3RvcmVzIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZWRpdG9yIFVJIGZvY3VzIGFuZCBwcm9wYWdhdGVzIGl0IHNvIHZhcmlvdXMgcGx1Z2lucyBhbmQgY29tcG9uZW50cwogICAgICogYXJlIHVuaWZpZWQgYXMgYSBmb2N1cyBncm91cC4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTp1dGlscy9mb2N1c3RyYWNrZXJ+Rm9jdXNUcmFja2VyfSAjZm9jdXNUcmFja2VyCiAgICAgKi8KCiAgICB0aGlzLmZvY3VzVHJhY2tlciA9IG5ldyBGb2N1c1RyYWNrZXIoKTsKICAgIC8qKgogICAgICogU3RvcmVzIGFsbCBlZGl0YWJsZSBlbGVtZW50cyB1c2VkIGJ5IHRoZSBlZGl0b3IgaW5zdGFuY2UuCiAgICAgKgogICAgICogQHByaXZhdGUKICAgICAqIEBtZW1iZXIge01hcC48U3RyaW5nLEhUTUxFbGVtZW50Pn0KICAgICAqLwoKICAgIHRoaXMuX2VkaXRhYmxlRWxlbWVudHNNYXAgPSBuZXcgTWFwKCk7IC8vIEluZm9ybXMgVUkgY29tcG9uZW50cyB0aGF0IHNob3VsZCBiZSByZWZyZXNoZWQgYWZ0ZXIgbGF5b3V0IGNoYW5nZS4KCiAgICB0aGlzLmxpc3RlblRvKGVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQsICdsYXlvdXRDaGFuZ2VkJywgKCkgPT4gdGhpcy51cGRhdGUoKSk7CiAgfQogIC8qKgogICAqIFRoZSBtYWluIChvdXRlcm1vc3QpIERPTSBlbGVtZW50IG9mIHRoZSBlZGl0b3IgVUkuCiAgICoKICAgKiBGb3IgZXhhbXBsZSwgaW4ge0BsaW5rIG1vZHVsZTplZGl0b3ItY2xhc3NpYy9jbGFzc2ljZWRpdG9yfkNsYXNzaWNFZGl0b3J9IGl0IGlzIGEgYDxkaXY+YCB3aGljaAogICAqIHdyYXBzIHRoZSBlZGl0YWJsZSBlbGVtZW50IGFuZCB0aGUgdG9vbGJhci4gSW4ge0BsaW5rIG1vZHVsZTplZGl0b3ItaW5saW5lL2lubGluZWVkaXRvcn5JbmxpbmVFZGl0b3J9CiAgICogaXQgaXMgdGhlIGVkaXRhYmxlIGVsZW1lbnQgaXRzZWxmIChhcyB0aGVyZSBpcyBubyBvdGhlciB3cmFwcGVyKS4gSG93ZXZlciwgaW4KICAgKiB7QGxpbmsgbW9kdWxlOmVkaXRvci1kZWNvdXBsZWQvZGVjb3VwbGVkZWRpdG9yfkRlY291cGxlZEVkaXRvcn0gaXQgaXMgc2V0IHRvIGBudWxsYCBiZWNhdXNlIHRoaXMgZWRpdG9yIGRvZXMgbm90CiAgICogY29tZSB3aXRoIGEgc2luZ2xlICJtYWluIiBIVE1MIGVsZW1lbnQgKGl0cyBlZGl0YWJsZSBlbGVtZW50IGFuZCB0b29sYmFyIGFyZSBzZXBhcmF0ZSkuCiAgICoKICAgKiBUaGlzIHByb3BlcnR5IGNhbiBiZSB1bmRlcnN0b29kIGFzIGEgc2hvcnRoYW5kIGZvciByZXRyaWV2aW5nIHRoZSBlbGVtZW50IHRoYXQgYSBzcGVjaWZpYyBlZGl0b3IgaW50ZWdyYXRpb24KICAgKiBjb25zaWRlcnMgdG8gYmUgaXRzIG1haW4gRE9NIGVsZW1lbnQuCiAgICoKICAgKiBAcmVhZG9ubHkKICAgKiBAbWVtYmVyIHtIVE1MRWxlbWVudHxudWxsfSAjZWxlbWVudAogICAqLwoKCiAgZ2V0IGVsZW1lbnQoKSB7CiAgICByZXR1cm4gbnVsbDsKICB9CiAgLyoqCiAgICogRmlyZXMgdGhlIHtAbGluayBtb2R1bGU6Y29yZS9lZGl0b3IvZWRpdG9ydWl+RWRpdG9yVUkjZXZlbnQ6dXBkYXRlIGB1cGRhdGVgfSBldmVudC4KICAgKgogICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWRpdG9yIFVJIChlLmcuIHBvc2l0aW9ucyBvZiBpdHMgYmFsbG9vbnMpIG5lZWRzIHRvIGJlIHVwZGF0ZWQgZHVlIHRvCiAgICogc29tZSBlbnZpcm9ubWVudGFsIGNoYW5nZSB3aGljaCBDS0VkaXRvciA1IGlzIG5vdCBhd2FyZSBvZiAoZS5nLiByZXNpemUgb2YgYSBjb250YWluZXIgaW4gd2hpY2ggaXQgaXMgdXNlZCkuCiAgICovCgoKICB1cGRhdGUoKSB7CiAgICB0aGlzLmZpcmUoJ3VwZGF0ZScpOwogIH0KICAvKioKICAgKiBEZXN0cm95cyB0aGUgVUkuCiAgICovCgoKICBkZXN0cm95KCkgewogICAgdGhpcy5zdG9wTGlzdGVuaW5nKCk7CiAgICB0aGlzLmZvY3VzVHJhY2tlci5kZXN0cm95KCk7IC8vIENsZWFu4oCTdXAgdGhlIHJlZmVyZW5jZXMgdG8gdGhlIENLRWRpdG9yIGluc3RhbmNlIHN0b3JlZCBpbiB0aGUgbmF0aXZlIGVkaXRhYmxlIERPTSBlbGVtZW50cy4KCiAgICBmb3IgKGNvbnN0IGRvbUVsZW1lbnQgb2YgdGhpcy5fZWRpdGFibGVFbGVtZW50c01hcC52YWx1ZXMoKSkgewogICAgICBkb21FbGVtZW50LmNrZWRpdG9ySW5zdGFuY2UgPSBudWxsOwogICAgfQoKICAgIHRoaXMuX2VkaXRhYmxlRWxlbWVudHNNYXAgPSBuZXcgTWFwKCk7CiAgfQogIC8qKgogICAqIFN0b3JlIHRoZSBuYXRpdmUgRE9NIGVkaXRhYmxlIGVsZW1lbnQgdXNlZCBieSB0aGUgZWRpdG9yIHVuZGVyCiAgICogYSB1bmlxdWUgbmFtZS4KICAgKgogICAqIEBwYXJhbSB7U3RyaW5nfSByb290TmFtZSBUaGUgdW5pcXVlIG5hbWUgb2YgdGhlIGVkaXRhYmxlIGVsZW1lbnQuCiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZG9tRWxlbWVudCBUaGUgbmF0aXZlIERPTSBlZGl0YWJsZSBlbGVtZW50LgogICAqLwoKCiAgc2V0RWRpdGFibGVFbGVtZW50KHJvb3ROYW1lLCBkb21FbGVtZW50KSB7CiAgICB0aGlzLl9lZGl0YWJsZUVsZW1lbnRzTWFwLnNldChyb290TmFtZSwgZG9tRWxlbWVudCk7IC8vIFB1dCBhIHJlZmVyZW5jZSB0byB0aGUgQ0tFZGl0b3IgaW5zdGFuY2UgaW4gdGhlIGVkaXRhYmxlIG5hdGl2ZSBET00gZWxlbWVudC4KICAgIC8vIEl0IGhlbHBzIDNyZOKAk3BhcnR5IHNvZnR3YXJlIChicm93c2VyIGV4dGVuc2lvbnMsIG90aGVyIGxpYnJhcmllcykgYWNjZXNzIGFuZCByZWNvZ25pemUKICAgIC8vIENLRWRpdG9yIDUgaW5zdGFuY2VzIChlZGl0aW5nIHJvb3RzKSBhbmQgdXNlIHRoZWlyIEFQSSAodGhlcmUgaXMgbm8gZ2xvYmFsIGVkaXRvcgogICAgLy8gaW5zdGFuY2UgcmVnaXN0cnkpLgoKCiAgICBpZiAoIWRvbUVsZW1lbnQuY2tlZGl0b3JJbnN0YW5jZSkgewogICAgICBkb21FbGVtZW50LmNrZWRpdG9ySW5zdGFuY2UgPSB0aGlzLmVkaXRvcjsKICAgIH0KICB9CiAgLyoqCiAgICogUmV0dXJucyB0aGUgZWRpdGFibGUgZWRpdG9yIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gbmFtZSBvciBudWxsIGlmIGVkaXRhYmxlIGRvZXMgbm90IGV4aXN0LgogICAqCiAgICogQHBhcmFtIHtTdHJpbmd9IFtyb290TmFtZT1tYWluXSBUaGUgZWRpdGFibGUgbmFtZS4KICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8dW5kZWZpbmVkfQogICAqLwoKCiAgZ2V0RWRpdGFibGVFbGVtZW50KHJvb3ROYW1lID0gJ21haW4nKSB7CiAgICByZXR1cm4gdGhpcy5fZWRpdGFibGVFbGVtZW50c01hcC5nZXQocm9vdE5hbWUpOwogIH0KICAvKioKICAgKiBSZXR1cm5zIGFycmF5IG9mIG5hbWVzIG9mIGFsbCBlZGl0b3IgZWRpdGFibGUgZWxlbWVudHMuCiAgICoKICAgKiBAcmV0dXJucyB7SXRlcmFibGUuPFN0cmluZz59CiAgICovCgoKICBnZXRFZGl0YWJsZUVsZW1lbnRzTmFtZXMoKSB7CiAgICByZXR1cm4gdGhpcy5fZWRpdGFibGVFbGVtZW50c01hcC5rZXlzKCk7CiAgfQogIC8qKgogICAqIFN0b3JlcyBhbGwgZWRpdGFibGUgZWxlbWVudHMgdXNlZCBieSB0aGUgZWRpdG9yIGluc3RhbmNlLgogICAqCiAgICogQHByb3RlY3RlZAogICAqIEBkZXByZWNhdGVkCiAgICogQG1lbWJlciB7TWFwLjxTdHJpbmcsSFRNTEVsZW1lbnQ+fQogICAqLwoKCiAgZ2V0IF9lZGl0YWJsZUVsZW1lbnRzKCkgewogICAgLyoqCiAgICAgKiBUaGUge0BsaW5rIG1vZHVsZTpjb3JlL2VkaXRvci9lZGl0b3J1aX5FZGl0b3JVSSNfZWRpdGFibGVFbGVtZW50cyBgRWRpdG9yVUkjX2VkaXRhYmxlRWxlbWVudHNgfSBwcm9wZXJ0eSBoYXMgYmVlbgogICAgICogZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZS4gUGxlYXNlIHVzZSB7QGxpbmsgI3NldEVkaXRhYmxlRWxlbWVudCBgc2V0RWRpdGFibGVFbGVtZW50KClgfSBhbmQKICAgICAqIHtAbGluayAjZ2V0RWRpdGFibGVFbGVtZW50IGBnZXRFZGl0YWJsZUVsZW1lbnQoKWB9IG1ldGhvZHMgaW5zdGVhZC4KICAgICAqCiAgICAgKiBAZXJyb3IgZWRpdG9yLXVpLWRlcHJlY2F0ZWQtZWRpdGFibGUtZWxlbWVudHMKICAgICAqIEBwYXJhbSB7bW9kdWxlOmNvcmUvZWRpdG9yL2VkaXRvcnVpfkVkaXRvclVJfSBlZGl0b3JVSSBFZGl0b3IgVUkgaW5zdGFuY2UgdGhlIGRlcHJlY2F0ZWQgcHJvcGVydHkgYmVsb25ncyB0by4KICAgICAqLwogICAgY29uc29sZS53YXJuKCdlZGl0b3ItdWktZGVwcmVjYXRlZC1lZGl0YWJsZS1lbGVtZW50czogJyArICdUaGUgRWRpdG9yVUkjX2VkaXRhYmxlRWxlbWVudHMgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZS4nLCB7CiAgICAgIGVkaXRvclVJOiB0aGlzCiAgICB9KTsKICAgIHJldHVybiB0aGlzLl9lZGl0YWJsZUVsZW1lbnRzTWFwOwogIH0KICAvKioKICAgKiBGaXJlZCB3aGVuIHRoZSBlZGl0b3IgVUkgaXMgcmVhZHkuCiAgICoKICAgKiBGaXJlZCBiZWZvcmUge0BsaW5rIG1vZHVsZTplbmdpbmUvY29udHJvbGxlci9kYXRhY29udHJvbGxlcn5EYXRhQ29udHJvbGxlciNldmVudDpyZWFkeX0uCiAgICoKICAgKiBAZXZlbnQgcmVhZHkKICAgKi8KCiAgLyoqCiAgICogRmlyZWQgd2hlbmV2ZXIgdGhlIFVJIChhbGwgcmVsYXRlZCBjb21wb25lbnRzKSBzaG91bGQgYmUgcmVmcmVzaGVkLgogICAqCiAgICogKipOb3RlOioqOiBUaGUgZXZlbnQgaXMgZmlyZWQgYWZ0ZXIgZWFjaCB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I2V2ZW50OmxheW91dENoYW5nZWR9LgogICAqIEl0IGNhbiBhbHNvIGJlIGZpcmVkIG1hbnVhbGx5IHZpYSB0aGUge0BsaW5rIG1vZHVsZTpjb3JlL2VkaXRvci9lZGl0b3J1aX5FZGl0b3JVSSN1cGRhdGV9IG1ldGhvZC4KICAgKgogICAqIEBldmVudCB1cGRhdGUKICAgKi8KCgp9Cm1peChFZGl0b3JVSSwgRW1pdHRlck1peGluKTs="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-core/src/editor/editorui.js"],"names":["ComponentFactory","FocusTracker","EmitterMixin","mix","EditorUI","constructor","editor","componentFactory","focusTracker","_editableElementsMap","Map","listenTo","editing","view","document","update","element","fire","destroy","stopListening","domElement","values","ckeditorInstance","setEditableElement","rootName","set","getEditableElement","get","getEditableElementsNames","keys","_editableElements","console","warn","editorUI"],"mappings":"AAAA;;;;;AAKA;;;;AAIA;AAEA,OAAOA,gBAAP,MAA6B,6CAA7B;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AAEA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,GAAP,MAAgB,mCAAhB;AAEA;;;;;;AAKA,eAAe,MAAMC,QAAN,CAAe;AAC7B;;;;;AAKAC,EAAAA,WAAW,CAAEC,MAAF,EAAW;AACrB;;;;;;AAMA,SAAKA,MAAL,GAAcA,MAAd;AAEA;;;;;;;;AAOA,SAAKC,gBAAL,GAAwB,IAAIP,gBAAJ,CAAsBM,MAAtB,CAAxB;AAEA;;;;;;;;AAOA,SAAKE,YAAL,GAAoB,IAAIP,YAAJ,EAApB;AAEA;;;;;;;AAMA,SAAKQ,oBAAL,GAA4B,IAAIC,GAAJ,EAA5B,CAjCqB,CAmCrB;;AACA,SAAKC,QAAL,CAAeL,MAAM,CAACM,OAAP,CAAeC,IAAf,CAAoBC,QAAnC,EAA6C,eAA7C,EAA8D,MAAM,KAAKC,MAAL,EAApE;AACA;AAED;;;;;;;;;;;;;;;;;AAeA,MAAIC,OAAJ,GAAc;AACb,WAAO,IAAP;AACA;AAED;;;;;;;;AAMAD,EAAAA,MAAM,GAAG;AACR,SAAKE,IAAL,CAAW,QAAX;AACA;AAED;;;;;AAGAC,EAAAA,OAAO,GAAG;AACT,SAAKC,aAAL;AAEA,SAAKX,YAAL,CAAkBU,OAAlB,GAHS,CAKT;;AACA,SAAM,MAAME,UAAZ,IAA0B,KAAKX,oBAAL,CAA0BY,MAA1B,EAA1B,EAA+D;AAC9DD,MAAAA,UAAU,CAACE,gBAAX,GAA8B,IAA9B;AACA;;AAED,SAAKb,oBAAL,GAA4B,IAAIC,GAAJ,EAA5B;AACA;AAED;;;;;;;;;AAOAa,EAAAA,kBAAkB,CAAEC,QAAF,EAAYJ,UAAZ,EAAyB;AAC1C,SAAKX,oBAAL,CAA0BgB,GAA1B,CAA+BD,QAA/B,EAAyCJ,UAAzC,EAD0C,CAG1C;AACA;AACA;AACA;;;AACA,QAAK,CAACA,UAAU,CAACE,gBAAjB,EAAoC;AACnCF,MAAAA,UAAU,CAACE,gBAAX,GAA8B,KAAKhB,MAAnC;AACA;AACD;AAED;;;;;;;;AAMAoB,EAAAA,kBAAkB,CAAEF,QAAQ,GAAG,MAAb,EAAsB;AACvC,WAAO,KAAKf,oBAAL,CAA0BkB,GAA1B,CAA+BH,QAA/B,CAAP;AACA;AAED;;;;;;;AAKAI,EAAAA,wBAAwB,GAAG;AAC1B,WAAO,KAAKnB,oBAAL,CAA0BoB,IAA1B,EAAP;AACA;AAED;;;;;;;;;AAOA,MAAIC,iBAAJ,GAAwB;AACvB;;;;;;;;AAQAC,IAAAA,OAAO,CAACC,IAAR,CACC,6CACA,qGAFD,EAGC;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAHD;AAKA,WAAO,KAAKxB,oBAAZ;AACA;AAED;;;;;;;;AAQA;;;;;;;;;;AAhK6B;AA0K9BN,GAAG,CAAEC,QAAF,EAAYF,YAAZ,CAAH","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module core/editor/editorui\n */\n\n/* globals console */\n\nimport ComponentFactory from '@ckeditor/ckeditor5-ui/src/componentfactory';\nimport FocusTracker from '@ckeditor/ckeditor5-utils/src/focustracker';\n\nimport EmitterMixin from '@ckeditor/ckeditor5-utils/src/emittermixin';\nimport mix from '@ckeditor/ckeditor5-utils/src/mix';\n\n/**\n * A class providing the minimal interface that is required to successfully bootstrap any editor UI.\n *\n * @mixes module:utils/emittermixin~EmitterMixin\n */\nexport default class EditorUI {\n\t/**\n\t * Creates an instance of the editor UI class.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor The editor instance.\n\t */\n\tconstructor( editor ) {\n\t\t/**\n\t\t * The editor that the UI belongs to.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:core/editor/editor~Editor} #editor\n\t\t */\n\t\tthis.editor = editor;\n\n\t\t/**\n\t\t * An instance of the {@link module:ui/componentfactory~ComponentFactory}, a registry used by plugins\n\t\t * to register factories of specific UI components.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:ui/componentfactory~ComponentFactory} #componentFactory\n\t\t */\n\t\tthis.componentFactory = new ComponentFactory( editor );\n\n\t\t/**\n\t\t * Stores the information about the editor UI focus and propagates it so various plugins and components\n\t\t * are unified as a focus group.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:utils/focustracker~FocusTracker} #focusTracker\n\t\t */\n\t\tthis.focusTracker = new FocusTracker();\n\n\t\t/**\n\t\t * Stores all editable elements used by the editor instance.\n\t\t *\n\t\t * @private\n\t\t * @member {Map.<String,HTMLElement>}\n\t\t */\n\t\tthis._editableElementsMap = new Map();\n\n\t\t// Informs UI components that should be refreshed after layout change.\n\t\tthis.listenTo( editor.editing.view.document, 'layoutChanged', () => this.update() );\n\t}\n\n\t/**\n\t * The main (outermost) DOM element of the editor UI.\n\t *\n\t * For example, in {@link module:editor-classic/classiceditor~ClassicEditor} it is a `<div>` which\n\t * wraps the editable element and the toolbar. In {@link module:editor-inline/inlineeditor~InlineEditor}\n\t * it is the editable element itself (as there is no other wrapper). However, in\n\t * {@link module:editor-decoupled/decouplededitor~DecoupledEditor} it is set to `null` because this editor does not\n\t * come with a single \"main\" HTML element (its editable element and toolbar are separate).\n\t *\n\t * This property can be understood as a shorthand for retrieving the element that a specific editor integration\n\t * considers to be its main DOM element.\n\t *\n\t * @readonly\n\t * @member {HTMLElement|null} #element\n\t */\n\tget element() {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Fires the {@link module:core/editor/editorui~EditorUI#event:update `update`} event.\n\t *\n\t * This method should be called when the editor UI (e.g. positions of its balloons) needs to be updated due to\n\t * some environmental change which CKEditor 5 is not aware of (e.g. resize of a container in which it is used).\n\t */\n\tupdate() {\n\t\tthis.fire( 'update' );\n\t}\n\n\t/**\n\t * Destroys the UI.\n\t */\n\tdestroy() {\n\t\tthis.stopListening();\n\n\t\tthis.focusTracker.destroy();\n\n\t\t// Clean–up the references to the CKEditor instance stored in the native editable DOM elements.\n\t\tfor ( const domElement of this._editableElementsMap.values() ) {\n\t\t\tdomElement.ckeditorInstance = null;\n\t\t}\n\n\t\tthis._editableElementsMap = new Map();\n\t}\n\n\t/**\n\t * Store the native DOM editable element used by the editor under\n\t * a unique name.\n\t *\n\t * @param {String} rootName The unique name of the editable element.\n\t * @param {HTMLElement} domElement The native DOM editable element.\n\t */\n\tsetEditableElement( rootName, domElement ) {\n\t\tthis._editableElementsMap.set( rootName, domElement );\n\n\t\t// Put a reference to the CKEditor instance in the editable native DOM element.\n\t\t// It helps 3rd–party software (browser extensions, other libraries) access and recognize\n\t\t// CKEditor 5 instances (editing roots) and use their API (there is no global editor\n\t\t// instance registry).\n\t\tif ( !domElement.ckeditorInstance ) {\n\t\t\tdomElement.ckeditorInstance = this.editor;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the editable editor element with the given name or null if editable does not exist.\n\t *\n\t * @param {String} [rootName=main] The editable name.\n\t * @returns {HTMLElement|undefined}\n\t */\n\tgetEditableElement( rootName = 'main' ) {\n\t\treturn this._editableElementsMap.get( rootName );\n\t}\n\n\t/**\n\t * Returns array of names of all editor editable elements.\n\t *\n\t * @returns {Iterable.<String>}\n\t */\n\tgetEditableElementsNames() {\n\t\treturn this._editableElementsMap.keys();\n\t}\n\n\t/**\n\t * Stores all editable elements used by the editor instance.\n\t *\n\t * @protected\n\t * @deprecated\n\t * @member {Map.<String,HTMLElement>}\n\t */\n\tget _editableElements() {\n\t\t/**\n\t\t * The {@link module:core/editor/editorui~EditorUI#_editableElements `EditorUI#_editableElements`} property has been\n\t\t * deprecated and will be removed in the near future. Please use {@link #setEditableElement `setEditableElement()`} and\n\t\t * {@link #getEditableElement `getEditableElement()`} methods instead.\n\t\t *\n\t\t * @error editor-ui-deprecated-editable-elements\n\t\t * @param {module:core/editor/editorui~EditorUI} editorUI Editor UI instance the deprecated property belongs to.\n\t\t */\n\t\tconsole.warn(\n\t\t\t'editor-ui-deprecated-editable-elements: ' +\n\t\t\t'The EditorUI#_editableElements property has been deprecated and will be removed in the near future.',\n\t\t\t{ editorUI: this } );\n\n\t\treturn this._editableElementsMap;\n\t}\n\n\t/**\n\t * Fired when the editor UI is ready.\n\t *\n\t * Fired before {@link module:engine/controller/datacontroller~DataController#event:ready}.\n\t *\n\t * @event ready\n\t */\n\n\t/**\n\t * Fired whenever the UI (all related components) should be refreshed.\n\t *\n\t * **Note:**: The event is fired after each {@link module:engine/view/document~Document#event:layoutChanged}.\n\t * It can also be fired manually via the {@link module:core/editor/editorui~EditorUI#update} method.\n\t *\n\t * @event update\n\t */\n}\n\nmix( EditorUI, EmitterMixin );\n"]}]}