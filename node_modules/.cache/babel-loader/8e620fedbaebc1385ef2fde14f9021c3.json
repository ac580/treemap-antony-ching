{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/image/converters.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/image/converters.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGltYWdlL2ltYWdlL2NvbnZlcnRlcnMKICovCmltcG9ydCBmaXJzdCBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LXV0aWxzL3NyYy9maXJzdCc7Ci8qKgogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjb252ZXJ0cyB0aGUgaW1hZ2UgdmlldyByZXByZXNlbnRhdGlvbjoKICoKICoJCTxmaWd1cmUgY2xhc3M9ImltYWdlIj48aW1nIHNyYz0iLi4uIiBhbHQ9Ii4uLiI+PC9pbWc+PC9maWd1cmU+CiAqCiAqIHRvIHRoZSBtb2RlbCByZXByZXNlbnRhdGlvbjoKICoKICoJCTxpbWFnZSBzcmM9Ii4uLiIgYWx0PSIuLi4iPjwvaW1hZ2U+CiAqCiAqIFRoZSBlbnRpcmUgY29udGVudCBvZiB0aGUgYDxmaWd1cmU+YCBlbGVtZW50IGV4Y2VwdCB0aGUgZmlyc3QgYDxpbWc+YCBpcyBiZWluZyBjb252ZXJ0ZWQgYXMgY2hpbGRyZW4KICogb2YgdGhlIGA8aW1hZ2U+YCBtb2RlbCBlbGVtZW50LgogKgogKiBAcmV0dXJucyB7RnVuY3Rpb259CiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHZpZXdGaWd1cmVUb01vZGVsKCkgewogIHJldHVybiBkaXNwYXRjaGVyID0+IHsKICAgIGRpc3BhdGNoZXIub24oJ2VsZW1lbnQ6ZmlndXJlJywgY29udmVydGVyKTsKICB9OwoKICBmdW5jdGlvbiBjb252ZXJ0ZXIoZXZ0LCBkYXRhLCBjb252ZXJzaW9uQXBpKSB7CiAgICAvLyBEbyBub3QgY29udmVydCBpZiB0aGlzIGlzIG5vdCBhbiAiaW1hZ2UgZmlndXJlIi4KICAgIGlmICghY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QoZGF0YS52aWV3SXRlbSwgewogICAgICBuYW1lOiB0cnVlLAogICAgICBjbGFzc2VzOiAnaW1hZ2UnCiAgICB9KSkgewogICAgICByZXR1cm47CiAgICB9IC8vIEZpbmQgYW4gaW1hZ2UgZWxlbWVudCBpbnNpZGUgdGhlIGZpZ3VyZSBlbGVtZW50LgoKCiAgICBjb25zdCB2aWV3SW1hZ2UgPSBBcnJheS5mcm9tKGRhdGEudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSkuZmluZCh2aWV3Q2hpbGQgPT4gdmlld0NoaWxkLmlzKCdpbWcnKSk7IC8vIERvIG5vdCBjb252ZXJ0IGlmIGltYWdlIGVsZW1lbnQgaXMgYWJzZW50LCBpcyBtaXNzaW5nIHNyYyBhdHRyaWJ1dGUgb3Igd2FzIGFscmVhZHkgY29udmVydGVkLgoKICAgIGlmICghdmlld0ltYWdlIHx8ICF2aWV3SW1hZ2UuaGFzQXR0cmlidXRlKCdzcmMnKSB8fCAhY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3Qodmlld0ltYWdlLCB7CiAgICAgIG5hbWU6IHRydWUKICAgIH0pKSB7CiAgICAgIHJldHVybjsKICAgIH0gLy8gQ29udmVydCB2aWV3IGltYWdlIHRvIG1vZGVsIGltYWdlLgoKCiAgICBjb25zdCBjb252ZXJzaW9uUmVzdWx0ID0gY29udmVyc2lvbkFwaS5jb252ZXJ0SXRlbSh2aWV3SW1hZ2UsIGRhdGEubW9kZWxDdXJzb3IpOyAvLyBHZXQgaW1hZ2UgZWxlbWVudCBmcm9tIGNvbnZlcnNpb24gcmVzdWx0LgoKICAgIGNvbnN0IG1vZGVsSW1hZ2UgPSBmaXJzdChjb252ZXJzaW9uUmVzdWx0Lm1vZGVsUmFuZ2UuZ2V0SXRlbXMoKSk7IC8vIFdoZW4gaW1hZ2Ugd2Fzbid0IHN1Y2Nlc3NmdWxseSBjb252ZXJ0ZWQgdGhlbiBmaW5pc2ggY29udmVyc2lvbi4KCiAgICBpZiAoIW1vZGVsSW1hZ2UpIHsKICAgICAgcmV0dXJuOwogICAgfSAvLyBDb252ZXJ0IHJlc3Qgb2YgdGhlIGZpZ3VyZSBlbGVtZW50J3MgY2hpbGRyZW4gYXMgYW4gaW1hZ2UgY2hpbGRyZW4uCgoKICAgIGNvbnZlcnNpb25BcGkuY29udmVydENoaWxkcmVuKGRhdGEudmlld0l0ZW0sIGNvbnZlcnNpb25BcGkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQobW9kZWxJbWFnZSwgMCkpOyAvLyBTZXQgaW1hZ2UgcmFuZ2UgYXMgY29udmVyc2lvbiByZXN1bHQuCgogICAgZGF0YS5tb2RlbFJhbmdlID0gY29udmVyc2lvblJlc3VsdC5tb2RlbFJhbmdlOyAvLyBDb250aW51ZSBjb252ZXJzaW9uIHdoZXJlIGltYWdlIGNvbnZlcnNpb24gZW5kcy4KCiAgICBkYXRhLm1vZGVsQ3Vyc29yID0gY29udmVyc2lvblJlc3VsdC5tb2RlbEN1cnNvcjsKICB9Cn0KLyoqCiAqIENvbnZlcnRlciB1c2VkIHRvIGNvbnZlcnQgdGhlIGBzcmNzZXRgIG1vZGVsIGltYWdlIGF0dHJpYnV0ZSB0byB0aGUgYHNyY3NldGAsIGBzaXplc2AgYW5kIGB3aWR0aGAgYXR0cmlidXRlcyBpbiB0aGUgdmlldy4KICoKICogQHJldHVybnMge0Z1bmN0aW9ufQogKi8KCmV4cG9ydCBmdW5jdGlvbiBzcmNzZXRBdHRyaWJ1dGVDb252ZXJ0ZXIoKSB7CiAgcmV0dXJuIGRpc3BhdGNoZXIgPT4gewogICAgZGlzcGF0Y2hlci5vbignYXR0cmlidXRlOnNyY3NldDppbWFnZScsIGNvbnZlcnRlcik7CiAgfTsKCiAgZnVuY3Rpb24gY29udmVydGVyKGV2dCwgZGF0YSwgY29udmVyc2lvbkFwaSkgewogICAgaWYgKCFjb252ZXJzaW9uQXBpLmNvbnN1bWFibGUuY29uc3VtZShkYXRhLml0ZW0sIGV2dC5uYW1lKSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3Qgd3JpdGVyID0gY29udmVyc2lvbkFwaS53cml0ZXI7CiAgICBjb25zdCBmaWd1cmUgPSBjb252ZXJzaW9uQXBpLm1hcHBlci50b1ZpZXdFbGVtZW50KGRhdGEuaXRlbSk7CiAgICBjb25zdCBpbWcgPSBmaWd1cmUuZ2V0Q2hpbGQoMCk7CgogICAgaWYgKGRhdGEuYXR0cmlidXRlTmV3VmFsdWUgPT09IG51bGwpIHsKICAgICAgY29uc3Qgc3Jjc2V0ID0gZGF0YS5hdHRyaWJ1dGVPbGRWYWx1ZTsKCiAgICAgIGlmIChzcmNzZXQuZGF0YSkgewogICAgICAgIHdyaXRlci5yZW1vdmVBdHRyaWJ1dGUoJ3NyY3NldCcsIGltZyk7CiAgICAgICAgd3JpdGVyLnJlbW92ZUF0dHJpYnV0ZSgnc2l6ZXMnLCBpbWcpOwoKICAgICAgICBpZiAoc3Jjc2V0LndpZHRoKSB7CiAgICAgICAgICB3cml0ZXIucmVtb3ZlQXR0cmlidXRlKCd3aWR0aCcsIGltZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjb25zdCBzcmNzZXQgPSBkYXRhLmF0dHJpYnV0ZU5ld1ZhbHVlOwoKICAgICAgaWYgKHNyY3NldC5kYXRhKSB7CiAgICAgICAgd3JpdGVyLnNldEF0dHJpYnV0ZSgnc3Jjc2V0Jywgc3Jjc2V0LmRhdGEsIGltZyk7IC8vIEFsd2F5cyBvdXRwdXR0aW5nIGAxMDB2d2AuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY2tlZGl0b3IvY2tlZGl0b3I1LWltYWdlL2lzc3Vlcy8yLgoKICAgICAgICB3cml0ZXIuc2V0QXR0cmlidXRlKCdzaXplcycsICcxMDB2dycsIGltZyk7CgogICAgICAgIGlmIChzcmNzZXQud2lkdGgpIHsKICAgICAgICAgIHdyaXRlci5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgc3Jjc2V0LndpZHRoLCBpbWcpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQpleHBvcnQgZnVuY3Rpb24gbW9kZWxUb1ZpZXdBdHRyaWJ1dGVDb252ZXJ0ZXIoYXR0cmlidXRlS2V5KSB7CiAgcmV0dXJuIGRpc3BhdGNoZXIgPT4gewogICAgZGlzcGF0Y2hlci5vbihgYXR0cmlidXRlOiR7YXR0cmlidXRlS2V5fTppbWFnZWAsIGNvbnZlcnRlcik7CiAgfTsKCiAgZnVuY3Rpb24gY29udmVydGVyKGV2dCwgZGF0YSwgY29udmVyc2lvbkFwaSkgewogICAgaWYgKCFjb252ZXJzaW9uQXBpLmNvbnN1bWFibGUuY29uc3VtZShkYXRhLml0ZW0sIGV2dC5uYW1lKSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3Qgdmlld1dyaXRlciA9IGNvbnZlcnNpb25BcGkud3JpdGVyOwogICAgY29uc3QgZmlndXJlID0gY29udmVyc2lvbkFwaS5tYXBwZXIudG9WaWV3RWxlbWVudChkYXRhLml0ZW0pOwogICAgY29uc3QgaW1nID0gZmlndXJlLmdldENoaWxkKDApOwoKICAgIGlmIChkYXRhLmF0dHJpYnV0ZU5ld1ZhbHVlICE9PSBudWxsKSB7CiAgICAgIHZpZXdXcml0ZXIuc2V0QXR0cmlidXRlKGRhdGEuYXR0cmlidXRlS2V5LCBkYXRhLmF0dHJpYnV0ZU5ld1ZhbHVlLCBpbWcpOwogICAgfSBlbHNlIHsKICAgICAgdmlld1dyaXRlci5yZW1vdmVBdHRyaWJ1dGUoZGF0YS5hdHRyaWJ1dGVLZXksIGltZyk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-image/src/image/converters.js"],"names":["first","viewFigureToModel","dispatcher","on","converter","evt","data","conversionApi","consumable","test","viewItem","name","classes","viewImage","Array","from","getChildren","find","viewChild","is","hasAttribute","conversionResult","convertItem","modelCursor","modelImage","modelRange","getItems","convertChildren","writer","createPositionAt","srcsetAttributeConverter","consume","item","figure","mapper","toViewElement","img","getChild","attributeNewValue","srcset","attributeOldValue","removeAttribute","width","setAttribute","modelToViewAttributeConverter","attributeKey","viewWriter"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module image/image/converters\n */\n\nimport first from '@ckeditor/ckeditor5-utils/src/first';\n\n/**\n * Returns a function that converts the image view representation:\n *\n *\t\t<figure class=\"image\"><img src=\"...\" alt=\"...\"></img></figure>\n *\n * to the model representation:\n *\n *\t\t<image src=\"...\" alt=\"...\"></image>\n *\n * The entire content of the `<figure>` element except the first `<img>` is being converted as children\n * of the `<image>` model element.\n *\n * @returns {Function}\n */\nexport function viewFigureToModel() {\n\treturn dispatcher => {\n\t\tdispatcher.on( 'element:figure', converter );\n\t};\n\n\tfunction converter( evt, data, conversionApi ) {\n\t\t// Do not convert if this is not an \"image figure\".\n\t\tif ( !conversionApi.consumable.test( data.viewItem, { name: true, classes: 'image' } ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Find an image element inside the figure element.\n\t\tconst viewImage = Array.from( data.viewItem.getChildren() ).find( viewChild => viewChild.is( 'img' ) );\n\n\t\t// Do not convert if image element is absent, is missing src attribute or was already converted.\n\t\tif ( !viewImage || !viewImage.hasAttribute( 'src' ) || !conversionApi.consumable.test( viewImage, { name: true } ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Convert view image to model image.\n\t\tconst conversionResult = conversionApi.convertItem( viewImage, data.modelCursor );\n\n\t\t// Get image element from conversion result.\n\t\tconst modelImage = first( conversionResult.modelRange.getItems() );\n\n\t\t// When image wasn't successfully converted then finish conversion.\n\t\tif ( !modelImage ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Convert rest of the figure element's children as an image children.\n\t\tconversionApi.convertChildren( data.viewItem, conversionApi.writer.createPositionAt( modelImage, 0 ) );\n\n\t\t// Set image range as conversion result.\n\t\tdata.modelRange = conversionResult.modelRange;\n\n\t\t// Continue conversion where image conversion ends.\n\t\tdata.modelCursor = conversionResult.modelCursor;\n\t}\n}\n\n/**\n * Converter used to convert the `srcset` model image attribute to the `srcset`, `sizes` and `width` attributes in the view.\n *\n * @returns {Function}\n */\nexport function srcsetAttributeConverter() {\n\treturn dispatcher => {\n\t\tdispatcher.on( 'attribute:srcset:image', converter );\n\t};\n\n\tfunction converter( evt, data, conversionApi ) {\n\t\tif ( !conversionApi.consumable.consume( data.item, evt.name ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst writer = conversionApi.writer;\n\t\tconst figure = conversionApi.mapper.toViewElement( data.item );\n\t\tconst img = figure.getChild( 0 );\n\n\t\tif ( data.attributeNewValue === null ) {\n\t\t\tconst srcset = data.attributeOldValue;\n\n\t\t\tif ( srcset.data ) {\n\t\t\t\twriter.removeAttribute( 'srcset', img );\n\t\t\t\twriter.removeAttribute( 'sizes', img );\n\n\t\t\t\tif ( srcset.width ) {\n\t\t\t\t\twriter.removeAttribute( 'width', img );\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconst srcset = data.attributeNewValue;\n\n\t\t\tif ( srcset.data ) {\n\t\t\t\twriter.setAttribute( 'srcset', srcset.data, img );\n\t\t\t\t// Always outputting `100vw`. See https://github.com/ckeditor/ckeditor5-image/issues/2.\n\t\t\t\twriter.setAttribute( 'sizes', '100vw', img );\n\n\t\t\t\tif ( srcset.width ) {\n\t\t\t\t\twriter.setAttribute( 'width', srcset.width, img );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function modelToViewAttributeConverter( attributeKey ) {\n\treturn dispatcher => {\n\t\tdispatcher.on( `attribute:${ attributeKey }:image`, converter );\n\t};\n\n\tfunction converter( evt, data, conversionApi ) {\n\t\tif ( !conversionApi.consumable.consume( data.item, evt.name ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewWriter = conversionApi.writer;\n\t\tconst figure = conversionApi.mapper.toViewElement( data.item );\n\t\tconst img = figure.getChild( 0 );\n\n\t\tif ( data.attributeNewValue !== null ) {\n\t\t\tviewWriter.setAttribute( data.attributeKey, data.attributeNewValue, img );\n\t\t} else {\n\t\t\tviewWriter.removeAttribute( data.attributeKey, img );\n\t\t}\n\t}\n}\n"]}]}