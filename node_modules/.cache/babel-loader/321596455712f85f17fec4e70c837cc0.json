{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-adapter-ckfinder/src/utils.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-adapter-ckfinder/src/utils.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qIGdsb2JhbHMgd2luZG93LCBkb2N1bWVudCAqLwoKLyoqCiAqIEBtb2R1bGUgYWRhcHRlci1ja2ZpbmRlci91dGlscwogKi8KY29uc3QgVE9LRU5fQ09PS0lFX05BTUUgPSAnY2tDc3JmVG9rZW4nOwpjb25zdCBUT0tFTl9MRU5HVEggPSA0MDsKY29uc3QgdG9rZW5DaGFyc2V0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7Ci8qKgogKiBSZXR1cm5zIHRoZSBDU1JGIHRva2VuIHZhbHVlLiBUaGUgdmFsdWUgaXMgYSBoYXNoIHN0b3JlZCBpbiBgZG9jdW1lbnQuY29va2llYAogKiB1bmRlciB0aGUgYGNrQ3NyZlRva2VuYCBrZXkuIFRoZSBDU1JGIHRva2VuIGNhbiBiZSB1c2VkIHRvIHNlY3VyZSB0aGUgY29tbXVuaWNhdGlvbgogKiBiZXR3ZWVuIHRoZSB3ZWIgYnJvd3NlciBhbmQgdGhlIENLRmluZGVyIHNlcnZlci4KICoKICogQHJldHVybnMge1N0cmluZ30KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0Q3NyZlRva2VuKCkgewogIGxldCB0b2tlbiA9IGdldENvb2tpZShUT0tFTl9DT09LSUVfTkFNRSk7CgogIGlmICghdG9rZW4gfHwgdG9rZW4ubGVuZ3RoICE9IFRPS0VOX0xFTkdUSCkgewogICAgdG9rZW4gPSBnZW5lcmF0ZVRva2VuKFRPS0VOX0xFTkdUSCk7CiAgICBzZXRDb29raWUoVE9LRU5fQ09PS0lFX05BTUUsIHRva2VuKTsKICB9CgogIHJldHVybiB0b2tlbjsKfQovKioKICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGNvb2tpZSB3aXRoIGEgZ2l2ZW4gbmFtZSBvciBgbnVsbGAgaWYgdGhlIGNvb2tpZSBpcyBub3QgZm91bmQuCiAqCiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lCiAqIEByZXR1cm5zIHtTdHJpbmd8bnVsbH0KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHsKICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpOwogIGNvbnN0IHBhcnRzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7CgogIGZvciAoY29uc3QgcGFydCBvZiBwYXJ0cykgewogICAgY29uc3QgcGFpciA9IHBhcnQuc3BsaXQoJz0nKTsKICAgIGNvbnN0IGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTsKCiAgICBpZiAoa2V5ID09PSBuYW1lKSB7CiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7CiAgICB9CiAgfQoKICByZXR1cm4gbnVsbDsKfQovKioKICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIGNvb2tpZSB3aXRoIGEgZ2l2ZW4gbmFtZS4KICoKICogQHBhcmFtIHtTdHJpbmd9IG5hbWUKICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHNldENvb2tpZShuYW1lLCB2YWx1ZSkgewogIGRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyAnO3BhdGg9Lyc7Cn0gLy8gR2VuZXJhdGVzIHRoZSBDU1JGIHRva2VuIHdpdGggdGhlIGdpdmVuIGxlbmd0aC4KLy8KLy8gQHByaXZhdGUKLy8gQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aAovLyBAcmV0dXJucyB7c3RyaW5nfQoKZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbihsZW5ndGgpIHsKICBsZXQgcmVzdWx0ID0gJyc7CiAgY29uc3QgcmFuZFZhbHVlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7CiAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZFZhbHVlcyk7CgogIGZvciAobGV0IGogPSAwOyBqIDwgcmFuZFZhbHVlcy5sZW5ndGg7IGorKykgewogICAgY29uc3QgY2hhcmFjdGVyID0gdG9rZW5DaGFyc2V0LmNoYXJBdChyYW5kVmFsdWVzW2pdICUgdG9rZW5DaGFyc2V0Lmxlbmd0aCk7CiAgICByZXN1bHQgKz0gTWF0aC5yYW5kb20oKSA+IDAuNSA/IGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpIDogY2hhcmFjdGVyOwogIH0KCiAgcmV0dXJuIHJlc3VsdDsKfQ=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-adapter-ckfinder/src/utils.js"],"names":["TOKEN_COOKIE_NAME","TOKEN_LENGTH","tokenCharset","getCsrfToken","token","getCookie","length","generateToken","setCookie","name","toLowerCase","parts","document","cookie","split","part","pair","key","decodeURIComponent","trim","value","encodeURIComponent","result","randValues","Uint8Array","window","crypto","getRandomValues","j","character","charAt","Math","random","toUpperCase"],"mappings":"AAAA;;;;;AAKA;;AAEA;;;AAIA,MAAMA,iBAAiB,GAAG,aAA1B;AACA,MAAMC,YAAY,GAAG,EAArB;AACA,MAAMC,YAAY,GAAG,sCAArB;AAEA;;;;;;;;AAOA,OAAO,SAASC,YAAT,GAAwB;AAC9B,MAAIC,KAAK,GAAGC,SAAS,CAAEL,iBAAF,CAArB;;AAEA,MAAK,CAACI,KAAD,IAAUA,KAAK,CAACE,MAAN,IAAgBL,YAA/B,EAA8C;AAC7CG,IAAAA,KAAK,GAAGG,aAAa,CAAEN,YAAF,CAArB;AACAO,IAAAA,SAAS,CAAER,iBAAF,EAAqBI,KAArB,CAAT;AACA;;AAED,SAAOA,KAAP;AACA;AAED;;;;;;;AAMA,OAAO,SAASC,SAAT,CAAoBI,IAApB,EAA2B;AACjCA,EAAAA,IAAI,GAAGA,IAAI,CAACC,WAAL,EAAP;AACA,QAAMC,KAAK,GAAGC,QAAQ,CAACC,MAAT,CAAgBC,KAAhB,CAAuB,GAAvB,CAAd;;AAEA,OAAM,MAAMC,IAAZ,IAAoBJ,KAApB,EAA4B;AAC3B,UAAMK,IAAI,GAAGD,IAAI,CAACD,KAAL,CAAY,GAAZ,CAAb;AACA,UAAMG,GAAG,GAAGC,kBAAkB,CAAEF,IAAI,CAAE,CAAF,CAAJ,CAAUG,IAAV,GAAiBT,WAAjB,EAAF,CAA9B;;AAEA,QAAKO,GAAG,KAAKR,IAAb,EAAoB;AACnB,aAAOS,kBAAkB,CAAEF,IAAI,CAAE,CAAF,CAAN,CAAzB;AACA;AACD;;AAED,SAAO,IAAP;AACA;AAED;;;;;;;AAMA,OAAO,SAASR,SAAT,CAAoBC,IAApB,EAA0BW,KAA1B,EAAkC;AACxCR,EAAAA,QAAQ,CAACC,MAAT,GAAkBQ,kBAAkB,CAAEZ,IAAF,CAAlB,GAA6B,GAA7B,GAAmCY,kBAAkB,CAAED,KAAF,CAArD,GAAiE,SAAnF;AACA,C,CAED;AACA;AACA;AACA;AACA;;AACA,SAASb,aAAT,CAAwBD,MAAxB,EAAiC;AAChC,MAAIgB,MAAM,GAAG,EAAb;AACA,QAAMC,UAAU,GAAG,IAAIC,UAAJ,CAAgBlB,MAAhB,CAAnB;AAEAmB,EAAAA,MAAM,CAACC,MAAP,CAAcC,eAAd,CAA+BJ,UAA/B;;AAEA,OAAM,IAAIK,CAAC,GAAG,CAAd,EAAiBA,CAAC,GAAGL,UAAU,CAACjB,MAAhC,EAAwCsB,CAAC,EAAzC,EAA8C;AAC7C,UAAMC,SAAS,GAAG3B,YAAY,CAAC4B,MAAb,CAAqBP,UAAU,CAAEK,CAAF,CAAV,GAAkB1B,YAAY,CAACI,MAApD,CAAlB;AACAgB,IAAAA,MAAM,IAAIS,IAAI,CAACC,MAAL,KAAgB,GAAhB,GAAsBH,SAAS,CAACI,WAAV,EAAtB,GAAgDJ,SAA1D;AACA;;AAED,SAAOP,MAAP;AACA","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* globals window, document */\n\n/**\n * @module adapter-ckfinder/utils\n */\n\nconst TOKEN_COOKIE_NAME = 'ckCsrfToken';\nconst TOKEN_LENGTH = 40;\nconst tokenCharset = 'abcdefghijklmnopqrstuvwxyz0123456789';\n\n/**\n * Returns the CSRF token value. The value is a hash stored in `document.cookie`\n * under the `ckCsrfToken` key. The CSRF token can be used to secure the communication\n * between the web browser and the CKFinder server.\n *\n * @returns {String}\n */\nexport function getCsrfToken() {\n\tlet token = getCookie( TOKEN_COOKIE_NAME );\n\n\tif ( !token || token.length != TOKEN_LENGTH ) {\n\t\ttoken = generateToken( TOKEN_LENGTH );\n\t\tsetCookie( TOKEN_COOKIE_NAME, token );\n\t}\n\n\treturn token;\n}\n\n/**\n * Returns the value of the cookie with a given name or `null` if the cookie is not found.\n *\n * @param {String} name\n * @returns {String|null}\n */\nexport function getCookie( name ) {\n\tname = name.toLowerCase();\n\tconst parts = document.cookie.split( ';' );\n\n\tfor ( const part of parts ) {\n\t\tconst pair = part.split( '=' );\n\t\tconst key = decodeURIComponent( pair[ 0 ].trim().toLowerCase() );\n\n\t\tif ( key === name ) {\n\t\t\treturn decodeURIComponent( pair[ 1 ] );\n\t\t}\n\t}\n\n\treturn null;\n}\n\n/**\n * Sets the value of the cookie with a given name.\n *\n * @param {String} name\n * @param {String} value\n */\nexport function setCookie( name, value ) {\n\tdocument.cookie = encodeURIComponent( name ) + '=' + encodeURIComponent( value ) + ';path=/';\n}\n\n// Generates the CSRF token with the given length.\n//\n// @private\n// @param {Number} length\n// @returns {string}\nfunction generateToken( length ) {\n\tlet result = '';\n\tconst randValues = new Uint8Array( length );\n\n\twindow.crypto.getRandomValues( randValues );\n\n\tfor ( let j = 0; j < randValues.length; j++ ) {\n\t\tconst character = tokenCharset.charAt( randValues[ j ] % tokenCharset.length );\n\t\tresult += Math.random() > 0.5 ? character.toUpperCase() : character;\n\t}\n\n\treturn result;\n}\n"]}]}