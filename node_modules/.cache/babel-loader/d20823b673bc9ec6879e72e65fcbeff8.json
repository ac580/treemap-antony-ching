{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-table/src/tableediting.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-table/src/tableediting.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHRhYmxlL3RhYmxlZWRpdGluZwogKi8KaW1wb3J0IFBsdWdpbiBmcm9tICdAY2tlZGl0b3IvY2tlZGl0b3I1LWNvcmUvc3JjL3BsdWdpbic7CmltcG9ydCB1cGNhc3RUYWJsZSwgeyB1cGNhc3RUYWJsZUNlbGwgfSBmcm9tICcuL2NvbnZlcnRlcnMvdXBjYXN0dGFibGUnOwppbXBvcnQgeyBkb3duY2FzdEluc2VydENlbGwsIGRvd25jYXN0SW5zZXJ0Um93LCBkb3duY2FzdEluc2VydFRhYmxlLCBkb3duY2FzdFJlbW92ZVJvdywgZG93bmNhc3RUYWJsZUhlYWRpbmdDb2x1bW5zQ2hhbmdlLCBkb3duY2FzdFRhYmxlSGVhZGluZ1Jvd3NDaGFuZ2UgfSBmcm9tICcuL2NvbnZlcnRlcnMvZG93bmNhc3QnOwppbXBvcnQgSW5zZXJ0VGFibGVDb21tYW5kIGZyb20gJy4vY29tbWFuZHMvaW5zZXJ0dGFibGVjb21tYW5kJzsKaW1wb3J0IEluc2VydFJvd0NvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9pbnNlcnRyb3djb21tYW5kJzsKaW1wb3J0IEluc2VydENvbHVtbkNvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9pbnNlcnRjb2x1bW5jb21tYW5kJzsKaW1wb3J0IFNwbGl0Q2VsbENvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9zcGxpdGNlbGxjb21tYW5kJzsKaW1wb3J0IE1lcmdlQ2VsbENvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9tZXJnZWNlbGxjb21tYW5kJzsKaW1wb3J0IFJlbW92ZVJvd0NvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9yZW1vdmVyb3djb21tYW5kJzsKaW1wb3J0IFJlbW92ZUNvbHVtbkNvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9yZW1vdmVjb2x1bW5jb21tYW5kJzsKaW1wb3J0IFNldEhlYWRlclJvd0NvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9zZXRoZWFkZXJyb3djb21tYW5kJzsKaW1wb3J0IFNldEhlYWRlckNvbHVtbkNvbW1hbmQgZnJvbSAnLi9jb21tYW5kcy9zZXRoZWFkZXJjb2x1bW5jb21tYW5kJzsKaW1wb3J0IHsgZmluZEFuY2VzdG9yIH0gZnJvbSAnLi9jb21tYW5kcy91dGlscyc7CmltcG9ydCBUYWJsZVV0aWxzIGZyb20gJy4uL3NyYy90YWJsZXV0aWxzJzsKaW1wb3J0IGluamVjdFRhYmxlTGF5b3V0UG9zdEZpeGVyIGZyb20gJy4vY29udmVydGVycy90YWJsZS1sYXlvdXQtcG9zdC1maXhlcic7CmltcG9ydCBpbmplY3RUYWJsZUNlbGxQYXJhZ3JhcGhQb3N0Rml4ZXIgZnJvbSAnLi9jb252ZXJ0ZXJzL3RhYmxlLWNlbGwtcGFyYWdyYXBoLXBvc3QtZml4ZXInOwppbXBvcnQgaW5qZWN0VGFibGVDZWxsUmVmcmVzaFBvc3RGaXhlciBmcm9tICcuL2NvbnZlcnRlcnMvdGFibGUtY2VsbC1yZWZyZXNoLXBvc3QtZml4ZXInOwppbXBvcnQgJy4uL3RoZW1lL3RhYmxlZWRpdGluZy5jc3MnOwovKioKICogVGhlIHRhYmxlIGVkaXRpbmcgZmVhdHVyZS4KICoKICogQGV4dGVuZHMgbW9kdWxlOmNvcmUvcGx1Z2luflBsdWdpbgogKi8KCmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlRWRpdGluZyBleHRlbmRzIFBsdWdpbiB7CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KICBzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKSB7CiAgICByZXR1cm4gJ1RhYmxlRWRpdGluZyc7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBpbml0KCkgewogICAgY29uc3QgZWRpdG9yID0gdGhpcy5lZGl0b3I7CiAgICBjb25zdCBtb2RlbCA9IGVkaXRvci5tb2RlbDsKICAgIGNvbnN0IHNjaGVtYSA9IG1vZGVsLnNjaGVtYTsKICAgIGNvbnN0IGNvbnZlcnNpb24gPSBlZGl0b3IuY29udmVyc2lvbjsKICAgIHNjaGVtYS5yZWdpc3RlcigndGFibGUnLCB7CiAgICAgIGFsbG93V2hlcmU6ICckYmxvY2snLAogICAgICBhbGxvd0F0dHJpYnV0ZXM6IFsnaGVhZGluZ1Jvd3MnLCAnaGVhZGluZ0NvbHVtbnMnXSwKICAgICAgaXNMaW1pdDogdHJ1ZSwKICAgICAgaXNPYmplY3Q6IHRydWUsCiAgICAgIGlzQmxvY2s6IHRydWUKICAgIH0pOwogICAgc2NoZW1hLnJlZ2lzdGVyKCd0YWJsZVJvdycsIHsKICAgICAgYWxsb3dJbjogJ3RhYmxlJywKICAgICAgaXNMaW1pdDogdHJ1ZQogICAgfSk7CiAgICBzY2hlbWEucmVnaXN0ZXIoJ3RhYmxlQ2VsbCcsIHsKICAgICAgYWxsb3dJbjogJ3RhYmxlUm93JywKICAgICAgYWxsb3dBdHRyaWJ1dGVzOiBbJ2NvbHNwYW4nLCAncm93c3BhbiddLAogICAgICBpc0xpbWl0OiB0cnVlCiAgICB9KTsgLy8gQWxsb3cgYWxsICRibG9jayBjb250ZW50IGluc2lkZSB0YWJsZSBjZWxsLgoKICAgIHNjaGVtYS5leHRlbmQoJyRibG9jaycsIHsKICAgICAgYWxsb3dJbjogJ3RhYmxlQ2VsbCcKICAgIH0pOyAvLyBEaXNhbGxvdyB0YWJsZSBpbiB0YWJsZS4KCiAgICBzY2hlbWEuYWRkQ2hpbGRDaGVjaygoY29udGV4dCwgY2hpbGREZWZpbml0aW9uKSA9PiB7CiAgICAgIGlmIChjaGlsZERlZmluaXRpb24ubmFtZSA9PSAndGFibGUnICYmIEFycmF5LmZyb20oY29udGV4dC5nZXROYW1lcygpKS5pbmNsdWRlcygndGFibGUnKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSk7IC8vIFRhYmxlIGNvbnZlcnNpb24uCgogICAgY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpLmFkZCh1cGNhc3RUYWJsZSgpKTsKICAgIGNvbnZlcnNpb24uZm9yKCdlZGl0aW5nRG93bmNhc3QnKS5hZGQoZG93bmNhc3RJbnNlcnRUYWJsZSh7CiAgICAgIGFzV2lkZ2V0OiB0cnVlCiAgICB9KSk7CiAgICBjb252ZXJzaW9uLmZvcignZGF0YURvd25jYXN0JykuYWRkKGRvd25jYXN0SW5zZXJ0VGFibGUoKSk7IC8vIFRhYmxlIHJvdyBjb252ZXJzaW9uLgoKICAgIGNvbnZlcnNpb24uZm9yKCd1cGNhc3QnKS5lbGVtZW50VG9FbGVtZW50KHsKICAgICAgbW9kZWw6ICd0YWJsZVJvdycsCiAgICAgIHZpZXc6ICd0cicKICAgIH0pOwogICAgY29udmVyc2lvbi5mb3IoJ2VkaXRpbmdEb3duY2FzdCcpLmFkZChkb3duY2FzdEluc2VydFJvdyh7CiAgICAgIGFzV2lkZ2V0OiB0cnVlCiAgICB9KSk7CiAgICBjb252ZXJzaW9uLmZvcignZGF0YURvd25jYXN0JykuYWRkKGRvd25jYXN0SW5zZXJ0Um93KCkpOwogICAgY29udmVyc2lvbi5mb3IoJ2Rvd25jYXN0JykuYWRkKGRvd25jYXN0UmVtb3ZlUm93KCkpOyAvLyBUYWJsZSBjZWxsIGNvbnZlcnNpb24uCgogICAgY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpLmFkZCh1cGNhc3RUYWJsZUNlbGwoJ3RkJykpOwogICAgY29udmVyc2lvbi5mb3IoJ3VwY2FzdCcpLmFkZCh1cGNhc3RUYWJsZUNlbGwoJ3RoJykpOwogICAgY29udmVyc2lvbi5mb3IoJ2VkaXRpbmdEb3duY2FzdCcpLmFkZChkb3duY2FzdEluc2VydENlbGwoewogICAgICBhc1dpZGdldDogdHJ1ZQogICAgfSkpOwogICAgY29udmVyc2lvbi5mb3IoJ2RhdGFEb3duY2FzdCcpLmFkZChkb3duY2FzdEluc2VydENlbGwoKSk7IC8vIFRhYmxlIGF0dHJpYnV0ZXMgY29udmVyc2lvbi4KCiAgICBjb252ZXJzaW9uLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHsKICAgICAgbW9kZWw6ICdjb2xzcGFuJywKICAgICAgdmlldzogJ2NvbHNwYW4nCiAgICB9KTsKICAgIGNvbnZlcnNpb24uYXR0cmlidXRlVG9BdHRyaWJ1dGUoewogICAgICBtb2RlbDogJ3Jvd3NwYW4nLAogICAgICB2aWV3OiAncm93c3BhbicKICAgIH0pOyAvLyBUYWJsZSBoZWFkaW5nIHJvd3MgYW5kIGNvbHMgY29udmVyc2lvbi4KCiAgICBjb252ZXJzaW9uLmZvcignZWRpdGluZ0Rvd25jYXN0JykuYWRkKGRvd25jYXN0VGFibGVIZWFkaW5nQ29sdW1uc0NoYW5nZSh7CiAgICAgIGFzV2lkZ2V0OiB0cnVlCiAgICB9KSk7CiAgICBjb252ZXJzaW9uLmZvcignZGF0YURvd25jYXN0JykuYWRkKGRvd25jYXN0VGFibGVIZWFkaW5nQ29sdW1uc0NoYW5nZSgpKTsKICAgIGNvbnZlcnNpb24uZm9yKCdlZGl0aW5nRG93bmNhc3QnKS5hZGQoZG93bmNhc3RUYWJsZUhlYWRpbmdSb3dzQ2hhbmdlKHsKICAgICAgYXNXaWRnZXQ6IHRydWUKICAgIH0pKTsKICAgIGNvbnZlcnNpb24uZm9yKCdkYXRhRG93bmNhc3QnKS5hZGQoZG93bmNhc3RUYWJsZUhlYWRpbmdSb3dzQ2hhbmdlKCkpOyAvLyBEZWZpbmUgYWxsIHRoZSBjb21tYW5kcy4KCiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdpbnNlcnRUYWJsZScsIG5ldyBJbnNlcnRUYWJsZUNvbW1hbmQoZWRpdG9yKSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdpbnNlcnRUYWJsZVJvd0Fib3ZlJywgbmV3IEluc2VydFJvd0NvbW1hbmQoZWRpdG9yLCB7CiAgICAgIG9yZGVyOiAnYWJvdmUnCiAgICB9KSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdpbnNlcnRUYWJsZVJvd0JlbG93JywgbmV3IEluc2VydFJvd0NvbW1hbmQoZWRpdG9yLCB7CiAgICAgIG9yZGVyOiAnYmVsb3cnCiAgICB9KSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdpbnNlcnRUYWJsZUNvbHVtbkxlZnQnLCBuZXcgSW5zZXJ0Q29sdW1uQ29tbWFuZChlZGl0b3IsIHsKICAgICAgb3JkZXI6ICdsZWZ0JwogICAgfSkpOwogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnaW5zZXJ0VGFibGVDb2x1bW5SaWdodCcsIG5ldyBJbnNlcnRDb2x1bW5Db21tYW5kKGVkaXRvciwgewogICAgICBvcmRlcjogJ3JpZ2h0JwogICAgfSkpOwogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgncmVtb3ZlVGFibGVSb3cnLCBuZXcgUmVtb3ZlUm93Q29tbWFuZChlZGl0b3IpKTsKICAgIGVkaXRvci5jb21tYW5kcy5hZGQoJ3JlbW92ZVRhYmxlQ29sdW1uJywgbmV3IFJlbW92ZUNvbHVtbkNvbW1hbmQoZWRpdG9yKSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdzcGxpdFRhYmxlQ2VsbFZlcnRpY2FsbHknLCBuZXcgU3BsaXRDZWxsQ29tbWFuZChlZGl0b3IsIHsKICAgICAgZGlyZWN0aW9uOiAndmVydGljYWxseScKICAgIH0pKTsKICAgIGVkaXRvci5jb21tYW5kcy5hZGQoJ3NwbGl0VGFibGVDZWxsSG9yaXpvbnRhbGx5JywgbmV3IFNwbGl0Q2VsbENvbW1hbmQoZWRpdG9yLCB7CiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWxseScKICAgIH0pKTsKICAgIGVkaXRvci5jb21tYW5kcy5hZGQoJ21lcmdlVGFibGVDZWxsUmlnaHQnLCBuZXcgTWVyZ2VDZWxsQ29tbWFuZChlZGl0b3IsIHsKICAgICAgZGlyZWN0aW9uOiAncmlnaHQnCiAgICB9KSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdtZXJnZVRhYmxlQ2VsbExlZnQnLCBuZXcgTWVyZ2VDZWxsQ29tbWFuZChlZGl0b3IsIHsKICAgICAgZGlyZWN0aW9uOiAnbGVmdCcKICAgIH0pKTsKICAgIGVkaXRvci5jb21tYW5kcy5hZGQoJ21lcmdlVGFibGVDZWxsRG93bicsIG5ldyBNZXJnZUNlbGxDb21tYW5kKGVkaXRvciwgewogICAgICBkaXJlY3Rpb246ICdkb3duJwogICAgfSkpOwogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnbWVyZ2VUYWJsZUNlbGxVcCcsIG5ldyBNZXJnZUNlbGxDb21tYW5kKGVkaXRvciwgewogICAgICBkaXJlY3Rpb246ICd1cCcKICAgIH0pKTsKICAgIGVkaXRvci5jb21tYW5kcy5hZGQoJ3NldFRhYmxlQ29sdW1uSGVhZGVyJywgbmV3IFNldEhlYWRlckNvbHVtbkNvbW1hbmQoZWRpdG9yKSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdzZXRUYWJsZVJvd0hlYWRlcicsIG5ldyBTZXRIZWFkZXJSb3dDb21tYW5kKGVkaXRvcikpOwogICAgaW5qZWN0VGFibGVMYXlvdXRQb3N0Rml4ZXIobW9kZWwpOwogICAgaW5qZWN0VGFibGVDZWxsUmVmcmVzaFBvc3RGaXhlcihtb2RlbCk7CiAgICBpbmplY3RUYWJsZUNlbGxQYXJhZ3JhcGhQb3N0Rml4ZXIobW9kZWwpOyAvLyBIYW5kbGUgdGFiIGtleSBuYXZpZ2F0aW9uLgoKICAgIHRoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KCdUYWInLCAoLi4uYXJncykgPT4gdGhpcy5faGFuZGxlVGFiT25TZWxlY3RlZFRhYmxlKC4uLmFyZ3MpLCB7CiAgICAgIHByaW9yaXR5OiAnbG93JwogICAgfSk7CiAgICB0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldCgnVGFiJywgdGhpcy5fZ2V0VGFiSGFuZGxlcih0cnVlKSwgewogICAgICBwcmlvcml0eTogJ2xvdycKICAgIH0pOwogICAgdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoJ1NoaWZ0K1RhYicsIHRoaXMuX2dldFRhYkhhbmRsZXIoZmFsc2UpLCB7CiAgICAgIHByaW9yaXR5OiAnbG93JwogICAgfSk7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBzdGF0aWMgZ2V0IHJlcXVpcmVzKCkgewogICAgcmV0dXJuIFtUYWJsZVV0aWxzXTsKICB9CiAgLyoqCiAgICogSGFuZGxlcyB7QGxpbmsgbW9kdWxlOmVuZ2luZS92aWV3L2RvY3VtZW50fkRvY3VtZW50I2V2ZW50OmtleWRvd24ga2V5ZG93bn0gZXZlbnRzIGZvciB0aGUgPGtiZD5UYWI8L2tiZD4ga2V5IGV4ZWN1dGVkCiAgICogd2hlbiB0aGUgdGFibGUgd2lkZ2V0IGlzIHNlbGVjdGVkLgogICAqCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge21vZHVsZTp1dGlscy9ldmVudGluZm9+RXZlbnRJbmZvfSBldmVudEluZm8KICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvdmlldy9vYnNlcnZlci9kb21ldmVudGRhdGF+RG9tRXZlbnREYXRhfSBkb21FdmVudERhdGEKICAgKi8KCgogIF9oYW5kbGVUYWJPblNlbGVjdGVkVGFibGUoZG9tRXZlbnREYXRhLCBjYW5jZWwpIHsKICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZWRpdG9yOwogICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjsKCiAgICBpZiAoIXNlbGVjdGlvbi5pc0NvbGxhcHNlZCAmJiBzZWxlY3Rpb24ucmFuZ2VDb3VudCA9PT0gMSAmJiBzZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpLmlzRmxhdCkgewogICAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7CgogICAgICBpZiAoIXNlbGVjdGVkRWxlbWVudCB8fCAhc2VsZWN0ZWRFbGVtZW50LmlzKCd0YWJsZScpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjYW5jZWwoKTsKICAgICAgZWRpdG9yLm1vZGVsLmNoYW5nZSh3cml0ZXIgPT4gewogICAgICAgIHdyaXRlci5zZXRTZWxlY3Rpb24od3JpdGVyLmNyZWF0ZVJhbmdlSW4oc2VsZWN0ZWRFbGVtZW50LmdldENoaWxkKDApLmdldENoaWxkKDApKSk7CiAgICAgIH0pOwogICAgfQogIH0KICAvKioKICAgKiBSZXR1cm5zIGEgaGFuZGxlciBmb3Ige0BsaW5rIG1vZHVsZTplbmdpbmUvdmlldy9kb2N1bWVudH5Eb2N1bWVudCNldmVudDprZXlkb3duIGtleWRvd259IGV2ZW50cyBmb3IgdGhlIDxrYmQ+VGFiPC9rYmQ+IGtleSBleGVjdXRlZAogICAqIGluc2lkZSB0YWJsZSBjZWxsLgogICAqCiAgICogQHByaXZhdGUKICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzRm9yd2FyZCBXaGV0aGVyIHRoaXMgaGFuZGxlciB3aWxsIG1vdmUgc2VsZWN0aW9uIHRvIHRoZSBuZXh0IGNlbGwgb3IgcHJldmlvdXMuCiAgICovCgoKICBfZ2V0VGFiSGFuZGxlcihpc0ZvcndhcmQpIHsKICAgIGNvbnN0IGVkaXRvciA9IHRoaXMuZWRpdG9yOwogICAgcmV0dXJuIChkb21FdmVudERhdGEsIGNhbmNlbCkgPT4gewogICAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uOwogICAgICBjb25zdCBmaXJzdFBvc2l0aW9uID0gc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKTsKICAgICAgY29uc3QgdGFibGVDZWxsID0gZmluZEFuY2VzdG9yKCd0YWJsZUNlbGwnLCBmaXJzdFBvc2l0aW9uKTsKCiAgICAgIGlmICghdGFibGVDZWxsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjYW5jZWwoKTsKICAgICAgY29uc3QgdGFibGVSb3cgPSB0YWJsZUNlbGwucGFyZW50OwogICAgICBjb25zdCB0YWJsZSA9IHRhYmxlUm93LnBhcmVudDsKICAgICAgY29uc3QgY3VycmVudFJvd0luZGV4ID0gdGFibGUuZ2V0Q2hpbGRJbmRleCh0YWJsZVJvdyk7CiAgICAgIGNvbnN0IGN1cnJlbnRDZWxsSW5kZXggPSB0YWJsZVJvdy5nZXRDaGlsZEluZGV4KHRhYmxlQ2VsbCk7CiAgICAgIGNvbnN0IGlzRmlyc3RDZWxsSW5Sb3cgPSBjdXJyZW50Q2VsbEluZGV4ID09PSAwOwoKICAgICAgaWYgKCFpc0ZvcndhcmQgJiYgaXNGaXJzdENlbGxJblJvdyAmJiBjdXJyZW50Um93SW5kZXggPT09IDApIHsKICAgICAgICAvLyBJdCdzIHRoZSBmaXJzdCBjZWxsIG9mIGEgdGFibGUgLSBkb24ndCBkbyBhbnl0aGluZyAoc3RheSBpbiBjdXJyZW50IHBvc2l0aW9uKS4KICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGlzTGFzdENlbGxJblJvdyA9IGN1cnJlbnRDZWxsSW5kZXggPT09IHRhYmxlUm93LmNoaWxkQ291bnQgLSAxOwogICAgICBjb25zdCBpc0xhc3RSb3cgPSBjdXJyZW50Um93SW5kZXggPT09IHRhYmxlLmNoaWxkQ291bnQgLSAxOwoKICAgICAgaWYgKGlzRm9yd2FyZCAmJiBpc0xhc3RSb3cgJiYgaXNMYXN0Q2VsbEluUm93KSB7CiAgICAgICAgZWRpdG9yLmV4ZWN1dGUoJ2luc2VydFRhYmxlUm93QmVsb3cnKTsgLy8gQ2hlY2sgaWYgdGhlIGNvbW1hbmQgYWN0dWFsbHkgYWRkZWQgYSByb3cuIElmIGBpbnNlcnRUYWJsZVJvd0JlbG93YCBleGVjdXRpb24gZGlkbid0IGFkZCBhIHJvdyAoYmVjYXVzZSBpdCB3YXMgZGlzYWJsZWQKICAgICAgICAvLyBvciBpdCBnb3Qgb3ZlcndyaXR0ZW4pIGRvIG5vdCBjaGFuZ2UgdGhlIHNlbGVjdGlvbi4KCiAgICAgICAgaWYgKGN1cnJlbnRSb3dJbmRleCA9PT0gdGFibGUuY2hpbGRDb3VudCAtIDEpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGxldCBjZWxsVG9Gb2N1czsgLy8gTW92ZSB0byBmaXJzdCBjZWxsIGluIG5leHQgcm93LgoKICAgICAgaWYgKGlzRm9yd2FyZCAmJiBpc0xhc3RDZWxsSW5Sb3cpIHsKICAgICAgICBjb25zdCBuZXh0Um93ID0gdGFibGUuZ2V0Q2hpbGQoY3VycmVudFJvd0luZGV4ICsgMSk7CiAgICAgICAgY2VsbFRvRm9jdXMgPSBuZXh0Um93LmdldENoaWxkKDApOwogICAgICB9IC8vIE1vdmUgdG8gbGFzdCBjZWxsIGluIGEgcHJldmlvdXMgcm93LgogICAgICBlbHNlIGlmICghaXNGb3J3YXJkICYmIGlzRmlyc3RDZWxsSW5Sb3cpIHsKICAgICAgICAgIGNvbnN0IHByZXZpb3VzUm93ID0gdGFibGUuZ2V0Q2hpbGQoY3VycmVudFJvd0luZGV4IC0gMSk7CiAgICAgICAgICBjZWxsVG9Gb2N1cyA9IHByZXZpb3VzUm93LmdldENoaWxkKHByZXZpb3VzUm93LmNoaWxkQ291bnQgLSAxKTsKICAgICAgICB9IC8vIE1vdmUgdG8gbmV4dC9wcmV2aW91cyBjZWxsLgogICAgICAgIGVsc2UgewogICAgICAgICAgICBjZWxsVG9Gb2N1cyA9IHRhYmxlUm93LmdldENoaWxkKGN1cnJlbnRDZWxsSW5kZXggKyAoaXNGb3J3YXJkID8gMSA6IC0xKSk7CiAgICAgICAgICB9CgogICAgICBlZGl0b3IubW9kZWwuY2hhbmdlKHdyaXRlciA9PiB7CiAgICAgICAgd3JpdGVyLnNldFNlbGVjdGlvbih3cml0ZXIuY3JlYXRlUmFuZ2VJbihjZWxsVG9Gb2N1cykpOwogICAgICB9KTsKICAgIH07CiAgfQoKfQ=="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-table/src/tableediting.js"],"names":["Plugin","upcastTable","upcastTableCell","downcastInsertCell","downcastInsertRow","downcastInsertTable","downcastRemoveRow","downcastTableHeadingColumnsChange","downcastTableHeadingRowsChange","InsertTableCommand","InsertRowCommand","InsertColumnCommand","SplitCellCommand","MergeCellCommand","RemoveRowCommand","RemoveColumnCommand","SetHeaderRowCommand","SetHeaderColumnCommand","findAncestor","TableUtils","injectTableLayoutPostFixer","injectTableCellParagraphPostFixer","injectTableCellRefreshPostFixer","TableEditing","pluginName","init","editor","model","schema","conversion","register","allowWhere","allowAttributes","isLimit","isObject","isBlock","allowIn","extend","addChildCheck","context","childDefinition","name","Array","from","getNames","includes","for","add","asWidget","elementToElement","view","attributeToAttribute","commands","order","direction","keystrokes","set","args","_handleTabOnSelectedTable","priority","_getTabHandler","requires","domEventData","cancel","selection","document","isCollapsed","rangeCount","getFirstRange","isFlat","selectedElement","getSelectedElement","is","change","writer","setSelection","createRangeIn","getChild","isForward","firstPosition","getFirstPosition","tableCell","tableRow","parent","table","currentRowIndex","getChildIndex","currentCellIndex","isFirstCellInRow","isLastCellInRow","childCount","isLastRow","execute","cellToFocus","nextRow","previousRow"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module table/tableediting\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\n\nimport upcastTable, { upcastTableCell } from './converters/upcasttable';\nimport {\n\tdowncastInsertCell,\n\tdowncastInsertRow,\n\tdowncastInsertTable,\n\tdowncastRemoveRow,\n\tdowncastTableHeadingColumnsChange,\n\tdowncastTableHeadingRowsChange\n} from './converters/downcast';\n\nimport InsertTableCommand from './commands/inserttablecommand';\nimport InsertRowCommand from './commands/insertrowcommand';\nimport InsertColumnCommand from './commands/insertcolumncommand';\nimport SplitCellCommand from './commands/splitcellcommand';\nimport MergeCellCommand from './commands/mergecellcommand';\nimport RemoveRowCommand from './commands/removerowcommand';\nimport RemoveColumnCommand from './commands/removecolumncommand';\nimport SetHeaderRowCommand from './commands/setheaderrowcommand';\nimport SetHeaderColumnCommand from './commands/setheadercolumncommand';\nimport { findAncestor } from './commands/utils';\nimport TableUtils from '../src/tableutils';\n\nimport injectTableLayoutPostFixer from './converters/table-layout-post-fixer';\nimport injectTableCellParagraphPostFixer from './converters/table-cell-paragraph-post-fixer';\nimport injectTableCellRefreshPostFixer from './converters/table-cell-refresh-post-fixer';\n\nimport '../theme/tableediting.css';\n\n/**\n * The table editing feature.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class TableEditing extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'TableEditing';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst model = editor.model;\n\t\tconst schema = model.schema;\n\t\tconst conversion = editor.conversion;\n\n\t\tschema.register( 'table', {\n\t\t\tallowWhere: '$block',\n\t\t\tallowAttributes: [ 'headingRows', 'headingColumns' ],\n\t\t\tisLimit: true,\n\t\t\tisObject: true,\n\t\t\tisBlock: true\n\t\t} );\n\n\t\tschema.register( 'tableRow', {\n\t\t\tallowIn: 'table',\n\t\t\tisLimit: true\n\t\t} );\n\n\t\tschema.register( 'tableCell', {\n\t\t\tallowIn: 'tableRow',\n\t\t\tallowAttributes: [ 'colspan', 'rowspan' ],\n\t\t\tisLimit: true\n\t\t} );\n\n\t\t// Allow all $block content inside table cell.\n\t\tschema.extend( '$block', { allowIn: 'tableCell' } );\n\n\t\t// Disallow table in table.\n\t\tschema.addChildCheck( ( context, childDefinition ) => {\n\t\t\tif ( childDefinition.name == 'table' && Array.from( context.getNames() ).includes( 'table' ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} );\n\n\t\t// Table conversion.\n\t\tconversion.for( 'upcast' ).add( upcastTable() );\n\n\t\tconversion.for( 'editingDowncast' ).add( downcastInsertTable( { asWidget: true } ) );\n\t\tconversion.for( 'dataDowncast' ).add( downcastInsertTable() );\n\n\t\t// Table row conversion.\n\t\tconversion.for( 'upcast' ).elementToElement( { model: 'tableRow', view: 'tr' } );\n\n\t\tconversion.for( 'editingDowncast' ).add( downcastInsertRow( { asWidget: true } ) );\n\t\tconversion.for( 'dataDowncast' ).add( downcastInsertRow() );\n\t\tconversion.for( 'downcast' ).add( downcastRemoveRow() );\n\n\t\t// Table cell conversion.\n\t\tconversion.for( 'upcast' ).add( upcastTableCell( 'td' ) );\n\t\tconversion.for( 'upcast' ).add( upcastTableCell( 'th' ) );\n\n\t\tconversion.for( 'editingDowncast' ).add( downcastInsertCell( { asWidget: true } ) );\n\t\tconversion.for( 'dataDowncast' ).add( downcastInsertCell() );\n\n\t\t// Table attributes conversion.\n\t\tconversion.attributeToAttribute( { model: 'colspan', view: 'colspan' } );\n\t\tconversion.attributeToAttribute( { model: 'rowspan', view: 'rowspan' } );\n\n\t\t// Table heading rows and cols conversion.\n\t\tconversion.for( 'editingDowncast' ).add( downcastTableHeadingColumnsChange( { asWidget: true } ) );\n\t\tconversion.for( 'dataDowncast' ).add( downcastTableHeadingColumnsChange() );\n\t\tconversion.for( 'editingDowncast' ).add( downcastTableHeadingRowsChange( { asWidget: true } ) );\n\t\tconversion.for( 'dataDowncast' ).add( downcastTableHeadingRowsChange() );\n\n\t\t// Define all the commands.\n\t\teditor.commands.add( 'insertTable', new InsertTableCommand( editor ) );\n\t\teditor.commands.add( 'insertTableRowAbove', new InsertRowCommand( editor, { order: 'above' } ) );\n\t\teditor.commands.add( 'insertTableRowBelow', new InsertRowCommand( editor, { order: 'below' } ) );\n\t\teditor.commands.add( 'insertTableColumnLeft', new InsertColumnCommand( editor, { order: 'left' } ) );\n\t\teditor.commands.add( 'insertTableColumnRight', new InsertColumnCommand( editor, { order: 'right' } ) );\n\n\t\teditor.commands.add( 'removeTableRow', new RemoveRowCommand( editor ) );\n\t\teditor.commands.add( 'removeTableColumn', new RemoveColumnCommand( editor ) );\n\n\t\teditor.commands.add( 'splitTableCellVertically', new SplitCellCommand( editor, { direction: 'vertically' } ) );\n\t\teditor.commands.add( 'splitTableCellHorizontally', new SplitCellCommand( editor, { direction: 'horizontally' } ) );\n\n\t\teditor.commands.add( 'mergeTableCellRight', new MergeCellCommand( editor, { direction: 'right' } ) );\n\t\teditor.commands.add( 'mergeTableCellLeft', new MergeCellCommand( editor, { direction: 'left' } ) );\n\t\teditor.commands.add( 'mergeTableCellDown', new MergeCellCommand( editor, { direction: 'down' } ) );\n\t\teditor.commands.add( 'mergeTableCellUp', new MergeCellCommand( editor, { direction: 'up' } ) );\n\n\t\teditor.commands.add( 'setTableColumnHeader', new SetHeaderColumnCommand( editor ) );\n\t\teditor.commands.add( 'setTableRowHeader', new SetHeaderRowCommand( editor ) );\n\n\t\tinjectTableLayoutPostFixer( model );\n\t\tinjectTableCellRefreshPostFixer( model );\n\t\tinjectTableCellParagraphPostFixer( model );\n\n\t\t// Handle tab key navigation.\n\t\tthis.editor.keystrokes.set( 'Tab', ( ...args ) => this._handleTabOnSelectedTable( ...args ), { priority: 'low' } );\n\t\tthis.editor.keystrokes.set( 'Tab', this._getTabHandler( true ), { priority: 'low' } );\n\t\tthis.editor.keystrokes.set( 'Shift+Tab', this._getTabHandler( false ), { priority: 'low' } );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get requires() {\n\t\treturn [ TableUtils ];\n\t}\n\n\t/**\n\t * Handles {@link module:engine/view/document~Document#event:keydown keydown} events for the <kbd>Tab</kbd> key executed\n\t * when the table widget is selected.\n\t *\n\t * @private\n\t * @param {module:utils/eventinfo~EventInfo} eventInfo\n\t * @param {module:engine/view/observer/domeventdata~DomEventData} domEventData\n\t */\n\t_handleTabOnSelectedTable( domEventData, cancel ) {\n\t\tconst editor = this.editor;\n\t\tconst selection = editor.model.document.selection;\n\n\t\tif ( !selection.isCollapsed && selection.rangeCount === 1 && selection.getFirstRange().isFlat ) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif ( !selectedElement || !selectedElement.is( 'table' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcancel();\n\n\t\t\teditor.model.change( writer => {\n\t\t\t\twriter.setSelection( writer.createRangeIn( selectedElement.getChild( 0 ).getChild( 0 ) ) );\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Returns a handler for {@link module:engine/view/document~Document#event:keydown keydown} events for the <kbd>Tab</kbd> key executed\n\t * inside table cell.\n\t *\n\t * @private\n\t * @param {Boolean} isForward Whether this handler will move selection to the next cell or previous.\n\t */\n\t_getTabHandler( isForward ) {\n\t\tconst editor = this.editor;\n\n\t\treturn ( domEventData, cancel ) => {\n\t\t\tconst selection = editor.model.document.selection;\n\n\t\t\tconst firstPosition = selection.getFirstPosition();\n\n\t\t\tconst tableCell = findAncestor( 'tableCell', firstPosition );\n\n\t\t\tif ( !tableCell ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcancel();\n\n\t\t\tconst tableRow = tableCell.parent;\n\t\t\tconst table = tableRow.parent;\n\n\t\t\tconst currentRowIndex = table.getChildIndex( tableRow );\n\t\t\tconst currentCellIndex = tableRow.getChildIndex( tableCell );\n\n\t\t\tconst isFirstCellInRow = currentCellIndex === 0;\n\n\t\t\tif ( !isForward && isFirstCellInRow && currentRowIndex === 0 ) {\n\t\t\t\t// It's the first cell of a table - don't do anything (stay in current position).\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isLastCellInRow = currentCellIndex === tableRow.childCount - 1;\n\t\t\tconst isLastRow = currentRowIndex === table.childCount - 1;\n\n\t\t\tif ( isForward && isLastRow && isLastCellInRow ) {\n\t\t\t\teditor.execute( 'insertTableRowBelow' );\n\n\t\t\t\t// Check if the command actually added a row. If `insertTableRowBelow` execution didn't add a row (because it was disabled\n\t\t\t\t// or it got overwritten) do not change the selection.\n\t\t\t\tif ( currentRowIndex === table.childCount - 1 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet cellToFocus;\n\n\t\t\t// Move to first cell in next row.\n\t\t\tif ( isForward && isLastCellInRow ) {\n\t\t\t\tconst nextRow = table.getChild( currentRowIndex + 1 );\n\n\t\t\t\tcellToFocus = nextRow.getChild( 0 );\n\t\t\t}\n\t\t\t// Move to last cell in a previous row.\n\t\t\telse if ( !isForward && isFirstCellInRow ) {\n\t\t\t\tconst previousRow = table.getChild( currentRowIndex - 1 );\n\n\t\t\t\tcellToFocus = previousRow.getChild( previousRow.childCount - 1 );\n\t\t\t}\n\t\t\t// Move to next/previous cell.\n\t\t\telse {\n\t\t\t\tcellToFocus = tableRow.getChild( currentCellIndex + ( isForward ? 1 : -1 ) );\n\t\t\t}\n\n\t\t\teditor.model.change( writer => {\n\t\t\t\twriter.setSelection( writer.createRangeIn( cellToFocus ) );\n\t\t\t} );\n\t\t};\n\t}\n}\n"]}]}