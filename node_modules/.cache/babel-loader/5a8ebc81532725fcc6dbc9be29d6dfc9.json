{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-typing/src/delete.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-typing/src/delete.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIHR5cGluZy9kZWxldGUKICovCmltcG9ydCBQbHVnaW4gZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS1jb3JlL3NyYy9wbHVnaW4nOwppbXBvcnQgRGVsZXRlQ29tbWFuZCBmcm9tICcuL2RlbGV0ZWNvbW1hbmQnOwppbXBvcnQgRGVsZXRlT2JzZXJ2ZXIgZnJvbSAnLi9kZWxldGVvYnNlcnZlcic7CmltcG9ydCBlbnYgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS11dGlscy9zcmMvZW52JzsKLyoqCiAqIFRoZSBkZWxldGUgYW5kIGJhY2tzcGFjZSBmZWF0dXJlLiBIYW5kbGVzIHRoZSA8a2JkPkRlbGV0ZTwva2JkPiBhbmQgPGtiZD5CYWNrc3BhY2U8L2tiZD4ga2V5cyBpbiB0aGUgZWRpdG9yLgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6Y29yZS9wbHVnaW5+UGx1Z2luCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVsZXRlIGV4dGVuZHMgUGx1Z2luIHsKICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwogIHN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpIHsKICAgIHJldHVybiAnRGVsZXRlJzsKICB9CgogIGluaXQoKSB7CiAgICBjb25zdCBlZGl0b3IgPSB0aGlzLmVkaXRvcjsKICAgIGNvbnN0IHZpZXcgPSBlZGl0b3IuZWRpdGluZy52aWV3OwogICAgY29uc3Qgdmlld0RvY3VtZW50ID0gdmlldy5kb2N1bWVudDsKICAgIHZpZXcuYWRkT2JzZXJ2ZXIoRGVsZXRlT2JzZXJ2ZXIpOwogICAgZWRpdG9yLmNvbW1hbmRzLmFkZCgnZm9yd2FyZERlbGV0ZScsIG5ldyBEZWxldGVDb21tYW5kKGVkaXRvciwgJ2ZvcndhcmQnKSk7CiAgICBlZGl0b3IuY29tbWFuZHMuYWRkKCdkZWxldGUnLCBuZXcgRGVsZXRlQ29tbWFuZChlZGl0b3IsICdiYWNrd2FyZCcpKTsKICAgIHRoaXMubGlzdGVuVG8odmlld0RvY3VtZW50LCAnZGVsZXRlJywgKGV2dCwgZGF0YSkgPT4gewogICAgICBjb25zdCBkZWxldGVDb21tYW5kUGFyYW1zID0gewogICAgICAgIHVuaXQ6IGRhdGEudW5pdCwKICAgICAgICBzZXF1ZW5jZTogZGF0YS5zZXF1ZW5jZQogICAgICB9OyAvLyBJZiBhIHNwZWNpZmljICh2aWV3KSBzZWxlY3Rpb24gdG8gcmVtb3ZlIHdhcyBzZXQsIGNvbnZlcnQgaXQgdG8gYSBtb2RlbCBzZWxlY3Rpb24gYW5kIHNldCBhcyBhIHBhcmFtZXRlciBmb3IgYERlbGV0ZUNvbW1hbmRgLgoKICAgICAgaWYgKGRhdGEuc2VsZWN0aW9uVG9SZW1vdmUpIHsKICAgICAgICBjb25zdCBtb2RlbFNlbGVjdGlvbiA9IGVkaXRvci5tb2RlbC5jcmVhdGVTZWxlY3Rpb24oKTsKICAgICAgICBjb25zdCByYW5nZXMgPSBbXTsKCiAgICAgICAgZm9yIChjb25zdCB2aWV3UmFuZ2Ugb2YgZGF0YS5zZWxlY3Rpb25Ub1JlbW92ZS5nZXRSYW5nZXMoKSkgewogICAgICAgICAgcmFuZ2VzLnB1c2goZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZSh2aWV3UmFuZ2UpKTsKICAgICAgICB9CgogICAgICAgIG1vZGVsU2VsZWN0aW9uLnNldFRvKHJhbmdlcyk7CiAgICAgICAgZGVsZXRlQ29tbWFuZFBhcmFtcy5zZWxlY3Rpb24gPSBtb2RlbFNlbGVjdGlvbjsKICAgICAgfQoKICAgICAgZWRpdG9yLmV4ZWN1dGUoZGF0YS5kaXJlY3Rpb24gPT0gJ2ZvcndhcmQnID8gJ2ZvcndhcmREZWxldGUnIDogJ2RlbGV0ZScsIGRlbGV0ZUNvbW1hbmRQYXJhbXMpOwogICAgICBkYXRhLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZpZXcuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKTsKICAgIH0pOyAvLyBBbmRyb2lkIElNRXMgaGF2ZSBhIHF1aXJrIC0gdGhleSBjaGFuZ2UgRE9NIHNlbGVjdGlvbiBhZnRlciB0aGUgaW5wdXQgY2hhbmdlcyB3ZXJlIHBlcmZvcm1lZCBieSB0aGUgYnJvd3Nlci4KICAgIC8vIFRoaXMgaGFwcGVucyBvbiBga2V5dXBgIGV2ZW50LiBBbmRyb2lkIGRvZXNuJ3Qga25vdyBhbnl0aGluZyBhYm91dCBvdXIgZGVsZXRpb24gYW5kIHNlbGVjdGlvbiBoYW5kbGluZy4gRXZlbiBpZiB0aGUgc2VsZWN0aW9uCiAgICAvLyB3YXMgY2hhbmdlZCBkdXJpbmcgaW5wdXQgZXZlbnRzLCBJTUUgcmVtZW1iZXJzIHRoZSBwb3NpdGlvbiB3aGVyZSB0aGUgc2VsZWN0aW9uICJzaG91bGQiIGJlIHBsYWNlZCBhbmQgbW92ZXMgaXQgdGhlcmUuCiAgICAvLwogICAgLy8gVG8gcHJldmVudCBpbmNvcnJlY3Qgc2VsZWN0aW9uLCB3ZSBzYXZlIHRoZSBzZWxlY3Rpb24gYWZ0ZXIgZGVsZXRpbmcgaGVyZSBhbmQgdGhlbiByZS1zZXQgaXQgb24gYGtleXVwYC4gVGhpcyBoYXMgdG8gYmUgZG9uZQogICAgLy8gb24gRE9NIHNlbGVjdGlvbiBsZXZlbCwgYmVjYXVzZSBvbiBga2V5dXBgIHRoZSBtb2RlbCBzZWxlY3Rpb24gaXMgc3RpbGwgdGhlIHNhbWUgYXMgaXQgd2FzIGp1c3QgYWZ0ZXIgZGVsZXRpb24sIHNvIGl0CiAgICAvLyB3b3VsZG4ndCBiZSBjaGFuZ2VkIGFuZCB0aGUgZml4IHdvdWxkIGRvIG5vdGhpbmcuCiAgICAvLwoKICAgIGlmIChlbnYuaXNBbmRyb2lkKSB7CiAgICAgIGxldCBkb21TZWxlY3Rpb25BZnRlckRlbGV0aW9uID0gbnVsbDsKICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdkZWxldGUnLCAoZXZ0LCBkYXRhKSA9PiB7CiAgICAgICAgY29uc3QgZG9tU2VsZWN0aW9uID0gZGF0YS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTsKICAgICAgICBkb21TZWxlY3Rpb25BZnRlckRlbGV0aW9uID0gewogICAgICAgICAgYW5jaG9yTm9kZTogZG9tU2VsZWN0aW9uLmFuY2hvck5vZGUsCiAgICAgICAgICBhbmNob3JPZmZzZXQ6IGRvbVNlbGVjdGlvbi5hbmNob3JPZmZzZXQsCiAgICAgICAgICBmb2N1c05vZGU6IGRvbVNlbGVjdGlvbi5mb2N1c05vZGUsCiAgICAgICAgICBmb2N1c09mZnNldDogZG9tU2VsZWN0aW9uLmZvY3VzT2Zmc2V0CiAgICAgICAgfTsKICAgICAgfSwgewogICAgICAgIHByaW9yaXR5OiAnbG93ZXN0JwogICAgICB9KTsKICAgICAgdGhpcy5saXN0ZW5Ubyh2aWV3RG9jdW1lbnQsICdrZXl1cCcsIChldnQsIGRhdGEpID0+IHsKICAgICAgICBpZiAoZG9tU2VsZWN0aW9uQWZ0ZXJEZWxldGlvbikgewogICAgICAgICAgY29uc3QgZG9tU2VsZWN0aW9uID0gZGF0YS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTsKICAgICAgICAgIGRvbVNlbGVjdGlvbi5jb2xsYXBzZShkb21TZWxlY3Rpb25BZnRlckRlbGV0aW9uLmFuY2hvck5vZGUsIGRvbVNlbGVjdGlvbkFmdGVyRGVsZXRpb24uYW5jaG9yT2Zmc2V0KTsKICAgICAgICAgIGRvbVNlbGVjdGlvbi5leHRlbmQoZG9tU2VsZWN0aW9uQWZ0ZXJEZWxldGlvbi5mb2N1c05vZGUsIGRvbVNlbGVjdGlvbkFmdGVyRGVsZXRpb24uZm9jdXNPZmZzZXQpOwogICAgICAgICAgZG9tU2VsZWN0aW9uQWZ0ZXJEZWxldGlvbiA9IG51bGw7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cgp9"},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-typing/src/delete.js"],"names":["Plugin","DeleteCommand","DeleteObserver","env","Delete","pluginName","init","editor","view","editing","viewDocument","document","addObserver","commands","add","listenTo","evt","data","deleteCommandParams","unit","sequence","selectionToRemove","modelSelection","model","createSelection","ranges","viewRange","getRanges","push","mapper","toModelRange","setTo","selection","execute","direction","preventDefault","scrollToTheSelection","isAndroid","domSelectionAfterDeletion","domSelection","domTarget","ownerDocument","defaultView","getSelection","anchorNode","anchorOffset","focusNode","focusOffset","priority","collapse","extend"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module typing/delete\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin';\nimport DeleteCommand from './deletecommand';\nimport DeleteObserver from './deleteobserver';\nimport env from '@ckeditor/ckeditor5-utils/src/env';\n\n/**\n * The delete and backspace feature. Handles the <kbd>Delete</kbd> and <kbd>Backspace</kbd> keys in the editor.\n *\n * @extends module:core/plugin~Plugin\n */\nexport default class Delete extends Plugin {\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get pluginName() {\n\t\treturn 'Delete';\n\t}\n\n\tinit() {\n\t\tconst editor = this.editor;\n\t\tconst view = editor.editing.view;\n\t\tconst viewDocument = view.document;\n\n\t\tview.addObserver( DeleteObserver );\n\n\t\teditor.commands.add( 'forwardDelete', new DeleteCommand( editor, 'forward' ) );\n\t\teditor.commands.add( 'delete', new DeleteCommand( editor, 'backward' ) );\n\n\t\tthis.listenTo( viewDocument, 'delete', ( evt, data ) => {\n\t\t\tconst deleteCommandParams = { unit: data.unit, sequence: data.sequence };\n\n\t\t\t// If a specific (view) selection to remove was set, convert it to a model selection and set as a parameter for `DeleteCommand`.\n\t\t\tif ( data.selectionToRemove ) {\n\t\t\t\tconst modelSelection = editor.model.createSelection();\n\t\t\t\tconst ranges = [];\n\n\t\t\t\tfor ( const viewRange of data.selectionToRemove.getRanges() ) {\n\t\t\t\t\tranges.push( editor.editing.mapper.toModelRange( viewRange ) );\n\t\t\t\t}\n\n\t\t\t\tmodelSelection.setTo( ranges );\n\n\t\t\t\tdeleteCommandParams.selection = modelSelection;\n\t\t\t}\n\n\t\t\teditor.execute( data.direction == 'forward' ? 'forwardDelete' : 'delete', deleteCommandParams );\n\n\t\t\tdata.preventDefault();\n\n\t\t\tview.scrollToTheSelection();\n\t\t} );\n\n\t\t// Android IMEs have a quirk - they change DOM selection after the input changes were performed by the browser.\n\t\t// This happens on `keyup` event. Android doesn't know anything about our deletion and selection handling. Even if the selection\n\t\t// was changed during input events, IME remembers the position where the selection \"should\" be placed and moves it there.\n\t\t//\n\t\t// To prevent incorrect selection, we save the selection after deleting here and then re-set it on `keyup`. This has to be done\n\t\t// on DOM selection level, because on `keyup` the model selection is still the same as it was just after deletion, so it\n\t\t// wouldn't be changed and the fix would do nothing.\n\t\t//\n\t\tif ( env.isAndroid ) {\n\t\t\tlet domSelectionAfterDeletion = null;\n\n\t\t\tthis.listenTo( viewDocument, 'delete', ( evt, data ) => {\n\t\t\t\tconst domSelection = data.domTarget.ownerDocument.defaultView.getSelection();\n\n\t\t\t\tdomSelectionAfterDeletion = {\n\t\t\t\t\tanchorNode: domSelection.anchorNode,\n\t\t\t\t\tanchorOffset: domSelection.anchorOffset,\n\t\t\t\t\tfocusNode: domSelection.focusNode,\n\t\t\t\t\tfocusOffset: domSelection.focusOffset\n\t\t\t\t};\n\t\t\t}, { priority: 'lowest' } );\n\n\t\t\tthis.listenTo( viewDocument, 'keyup', ( evt, data ) => {\n\t\t\t\tif ( domSelectionAfterDeletion ) {\n\t\t\t\t\tconst domSelection = data.domTarget.ownerDocument.defaultView.getSelection();\n\n\t\t\t\t\tdomSelection.collapse( domSelectionAfterDeletion.anchorNode, domSelectionAfterDeletion.anchorOffset );\n\t\t\t\t\tdomSelection.extend( domSelectionAfterDeletion.focusNode, domSelectionAfterDeletion.focusOffset );\n\n\t\t\t\t\tdomSelectionAfterDeletion = null;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t}\n}\n"]}]}