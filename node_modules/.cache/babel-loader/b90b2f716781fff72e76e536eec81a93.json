{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js!/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/operation/rootattributeoperation.js","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/operation/rootattributeoperation.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-dev-webpack-plugin/lib/translatesourceloader.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE5LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZQogKi8KCi8qKgogKiBAbW9kdWxlIGVuZ2luZS9tb2RlbC9vcGVyYXRpb24vcm9vdGF0dHJpYnV0ZW9wZXJhdGlvbgogKi8KaW1wb3J0IE9wZXJhdGlvbiBmcm9tICcuL29wZXJhdGlvbic7CmltcG9ydCBDS0VkaXRvckVycm9yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtdXRpbHMvc3JjL2NrZWRpdG9yZXJyb3InOwovKioKICogT3BlcmF0aW9uIHRvIGNoYW5nZSByb290IGVsZW1lbnQncyBhdHRyaWJ1dGUuIFVzaW5nIHRoaXMgY2xhc3MgeW91IGNhbiBhZGQsIHJlbW92ZSBvciBjaGFuZ2UgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS4KICoKICogVGhpcyBvcGVyYXRpb24gaXMgbmVlZGVkLCBiZWNhdXNlIHJvb3QgZWxlbWVudHMgY2FuJ3QgYmUgY2hhbmdlZCB0aHJvdWdoCiAqIEBsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvb3BlcmF0aW9uL2F0dHJpYnV0ZW9wZXJhdGlvbn5BdHRyaWJ1dGVPcGVyYXRpb259LgogKiBJdCBpcyBiZWNhdXNlIHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL29wZXJhdGlvbi9hdHRyaWJ1dGVvcGVyYXRpb25+QXR0cmlidXRlT3BlcmF0aW9ufQogKiByZXF1aXJlcyBhIHJhbmdlIHRvIGNoYW5nZSBhbmQgcm9vdCBlbGVtZW50IGNhbid0CiAqIGJlIGEgcGFydCBvZiByYW5nZSBiZWNhdXNlIGV2ZXJ5IHtAbGluayBtb2R1bGU6ZW5naW5lL21vZGVsL3Bvc2l0aW9uflBvc2l0aW9ufSBoYXMgdG8gYmUgaW5zaWRlIGEgcm9vdC4KICoge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvcG9zaXRpb25+UG9zaXRpb259IGNhbid0IGJlIGNyZWF0ZWQgYmVmb3JlIGEgcm9vdCBlbGVtZW50LgogKgogKiBAZXh0ZW5kcyBtb2R1bGU6ZW5naW5lL21vZGVsL29wZXJhdGlvbi9vcGVyYXRpb25+T3BlcmF0aW9uCiAqLwoKZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbiBleHRlbmRzIE9wZXJhdGlvbiB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvcGVyYXRpb24gdGhhdCBjaGFuZ2VzLCByZW1vdmVzIG9yIGFkZHMgYXR0cmlidXRlcyBvbiByb290IGVsZW1lbnQuCiAgICoKICAgKiBAc2VlIG1vZHVsZTplbmdpbmUvbW9kZWwvb3BlcmF0aW9uL2F0dHJpYnV0ZW9wZXJhdGlvbn5BdHRyaWJ1dGVPcGVyYXRpb24KICAgKiBAcGFyYW0ge21vZHVsZTplbmdpbmUvbW9kZWwvcm9vdGVsZW1lbnR+Um9vdEVsZW1lbnR9IHJvb3QgUm9vdCBlbGVtZW50IHRvIGNoYW5nZS4KICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IEtleSBvZiBhbiBhdHRyaWJ1dGUgdG8gY2hhbmdlIG9yIHJlbW92ZS4KICAgKiBAcGFyYW0geyp9IG9sZFZhbHVlIE9sZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IG9yIGBudWxsYCBpZiBhZGRpbmcgYSBuZXcgYXR0cmlidXRlLgogICAqIEBwYXJhbSB7Kn0gbmV3VmFsdWUgTmV3IHZhbHVlIHRvIHNldCBmb3IgdGhlIGF0dHJpYnV0ZS4gSWYgYG51bGxgLCB0aGVuIHRoZSBvcGVyYXRpb24ganVzdCByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuCiAgICogQHBhcmFtIHtOdW1iZXJ8bnVsbH0gYmFzZVZlcnNpb24gRG9jdW1lbnQge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvZG9jdW1lbnR+RG9jdW1lbnQjdmVyc2lvbn0gb24gd2hpY2ggb3BlcmF0aW9uCiAgICogY2FuIGJlIGFwcGxpZWQgb3IgYG51bGxgIGlmIHRoZSBvcGVyYXRpb24gb3BlcmF0ZXMgb24gZGV0YWNoZWQgKG5vbi1kb2N1bWVudCkgdHJlZS4KICAgKi8KICBjb25zdHJ1Y3Rvcihyb290LCBrZXksIG9sZFZhbHVlLCBuZXdWYWx1ZSwgYmFzZVZlcnNpb24pIHsKICAgIHN1cGVyKGJhc2VWZXJzaW9uKTsKICAgIC8qKgogICAgICogUm9vdCBlbGVtZW50IHRvIGNoYW5nZS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIge21vZHVsZTplbmdpbmUvbW9kZWwvcm9vdGVsZW1lbnR+Um9vdEVsZW1lbnR9CiAgICAgKi8KCiAgICB0aGlzLnJvb3QgPSByb290OwogICAgLyoqCiAgICAgKiBLZXkgb2YgYW4gYXR0cmlidXRlIHRvIGNoYW5nZSBvciByZW1vdmUuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHtTdHJpbmd9CiAgICAgKi8KCiAgICB0aGlzLmtleSA9IGtleTsKICAgIC8qKgogICAgICogT2xkIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgd2l0aCBnaXZlbiBrZXkgb3IgYG51bGxgIGlmIGFkZGluZyBhIG5ldyBhdHRyaWJ1dGUuCiAgICAgKgogICAgICogQHJlYWRvbmx5CiAgICAgKiBAbWVtYmVyIHsqfQogICAgICovCgogICAgdGhpcy5vbGRWYWx1ZSA9IG9sZFZhbHVlOwogICAgLyoqCiAgICAgKiBOZXcgdmFsdWUgdG8gc2V0IGZvciB0aGUgYXR0cmlidXRlLiBJZiBgbnVsbGAsIHRoZW4gdGhlIG9wZXJhdGlvbiBqdXN0IHJlbW92ZXMgdGhlIGF0dHJpYnV0ZS4KICAgICAqCiAgICAgKiBAcmVhZG9ubHkKICAgICAqIEBtZW1iZXIgeyp9CiAgICAgKi8KCiAgICB0aGlzLm5ld1ZhbHVlID0gbmV3VmFsdWU7CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBnZXQgdHlwZSgpIHsKICAgIGlmICh0aGlzLm9sZFZhbHVlID09PSBudWxsKSB7CiAgICAgIHJldHVybiAnYWRkUm9vdEF0dHJpYnV0ZSc7CiAgICB9IGVsc2UgaWYgKHRoaXMubmV3VmFsdWUgPT09IG51bGwpIHsKICAgICAgcmV0dXJuICdyZW1vdmVSb290QXR0cmlidXRlJzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAnY2hhbmdlUm9vdEF0dHJpYnV0ZSc7CiAgICB9CiAgfQogIC8qKgogICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlcmF0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIHBhcmFtZXRlcnMgYXMgdGhpcyBvcGVyYXRpb24uCiAgICoKICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9vcGVyYXRpb24vcm9vdGF0dHJpYnV0ZW9wZXJhdGlvbn5Sb290QXR0cmlidXRlT3BlcmF0aW9ufSBDbG9uZSBvZiB0aGlzIG9wZXJhdGlvbi4KICAgKi8KCgogIGNsb25lKCkgewogICAgcmV0dXJuIG5ldyBSb290QXR0cmlidXRlT3BlcmF0aW9uKHRoaXMucm9vdCwgdGhpcy5rZXksIHRoaXMub2xkVmFsdWUsIHRoaXMubmV3VmFsdWUsIHRoaXMuYmFzZVZlcnNpb24pOwogIH0KICAvKioKICAgKiBTZWUge0BsaW5rIG1vZHVsZTplbmdpbmUvbW9kZWwvb3BlcmF0aW9uL29wZXJhdGlvbn5PcGVyYXRpb24jZ2V0UmV2ZXJzZWQgYE9wZXJhdGlvbiNnZXRSZXZlcnNlZCgpYH0uCiAgICoKICAgKiBAcmV0dXJucyB7bW9kdWxlOmVuZ2luZS9tb2RlbC9vcGVyYXRpb24vcm9vdGF0dHJpYnV0ZW9wZXJhdGlvbn5Sb290QXR0cmlidXRlT3BlcmF0aW9ufQogICAqLwoKCiAgZ2V0UmV2ZXJzZWQoKSB7CiAgICByZXR1cm4gbmV3IFJvb3RBdHRyaWJ1dGVPcGVyYXRpb24odGhpcy5yb290LCB0aGlzLmtleSwgdGhpcy5uZXdWYWx1ZSwgdGhpcy5vbGRWYWx1ZSwgdGhpcy5iYXNlVmVyc2lvbiArIDEpOwogIH0KICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwoKCiAgX3ZhbGlkYXRlKCkgewogICAgaWYgKHRoaXMucm9vdCAhPSB0aGlzLnJvb3Qucm9vdCB8fCB0aGlzLnJvb3QuaXMoJ2RvY3VtZW50RnJhZ21lbnQnKSkgewogICAgICAvKioKICAgICAgICogVGhlIGVsZW1lbnQgdG8gY2hhbmdlIGlzIG5vdCBhIHJvb3QgZWxlbWVudC4KICAgICAgICoKICAgICAgICogQGVycm9yIHJvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLW5vdC1hLXJvb3QKICAgICAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3Jvb3RlbGVtZW50flJvb3RFbGVtZW50fSByb290CiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZQogICAgICAgKi8KICAgICAgdGhyb3cgbmV3IENLRWRpdG9yRXJyb3IoJ3Jvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLW5vdC1hLXJvb3Q6IFRoZSBlbGVtZW50IHRvIGNoYW5nZSBpcyBub3QgYSByb290IGVsZW1lbnQuJywgdGhpcywgewogICAgICAgIHJvb3Q6IHRoaXMucm9vdCwKICAgICAgICBrZXk6IHRoaXMua2V5CiAgICAgIH0pOwogICAgfQoKICAgIGlmICh0aGlzLm9sZFZhbHVlICE9PSBudWxsICYmIHRoaXMucm9vdC5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpICE9PSB0aGlzLm9sZFZhbHVlKSB7CiAgICAgIC8qKgogICAgICAgKiBUaGUgYXR0cmlidXRlIHdoaWNoIHNob3VsZCBiZSByZW1vdmVkIGRvZXMgbm90IGV4aXN0cyBmb3IgdGhlIGdpdmVuIG5vZGUuCiAgICAgICAqCiAgICAgICAqIEBlcnJvciByb290YXR0cmlidXRlLW9wZXJhdGlvbi13cm9uZy1vbGQtdmFsdWUKICAgICAgICogQHBhcmFtIHttb2R1bGU6ZW5naW5lL21vZGVsL3Jvb3RlbGVtZW50flJvb3RFbGVtZW50fSByb290CiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXkKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZQogICAgICAgKi8KICAgICAgdGhyb3cgbmV3IENLRWRpdG9yRXJyb3IoJ3Jvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLXdyb25nLW9sZC12YWx1ZTogQ2hhbmdlZCBub2RlIGhhcyBkaWZmZXJlbnQgYXR0cmlidXRlIHZhbHVlIHRoYW4gb3BlcmF0aW9uXCdzICcgKyAnb2xkIGF0dHJpYnV0ZSB2YWx1ZS4nLCB0aGlzLCB7CiAgICAgICAgcm9vdDogdGhpcy5yb290LAogICAgICAgIGtleTogdGhpcy5rZXkKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHRoaXMub2xkVmFsdWUgPT09IG51bGwgJiYgdGhpcy5uZXdWYWx1ZSAhPT0gbnVsbCAmJiB0aGlzLnJvb3QuaGFzQXR0cmlidXRlKHRoaXMua2V5KSkgewogICAgICAvKioKICAgICAgICogVGhlIGF0dHJpYnV0ZSB3aXRoIGdpdmVuIGtleSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIGdpdmVuIG5vZGUuCiAgICAgICAqCiAgICAgICAqIEBlcnJvciByb290YXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzCiAgICAgICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9yb290ZWxlbWVudH5Sb290RWxlbWVudH0gcm9vdAogICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5CiAgICAgICAqLwogICAgICB0aHJvdyBuZXcgQ0tFZGl0b3JFcnJvcigncm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tYXR0cmlidXRlLWV4aXN0czogVGhlIGF0dHJpYnV0ZSB3aXRoIGdpdmVuIGtleSBhbHJlYWR5IGV4aXN0cy4nLCB0aGlzLCB7CiAgICAgICAgcm9vdDogdGhpcy5yb290LAogICAgICAgIGtleTogdGhpcy5rZXkKICAgICAgfSk7CiAgICB9CiAgfQogIC8qKgogICAqIEBpbmhlcml0RG9jCiAgICovCgoKICBfZXhlY3V0ZSgpIHsKICAgIGlmICh0aGlzLm5ld1ZhbHVlICE9PSBudWxsKSB7CiAgICAgIHRoaXMucm9vdC5fc2V0QXR0cmlidXRlKHRoaXMua2V5LCB0aGlzLm5ld1ZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucm9vdC5fcmVtb3ZlQXR0cmlidXRlKHRoaXMua2V5KTsKICAgIH0KICB9CiAgLyoqCiAgICogQGluaGVyaXREb2MKICAgKi8KCgogIHRvSlNPTigpIHsKICAgIGNvbnN0IGpzb24gPSBzdXBlci50b0pTT04oKTsKICAgIGpzb24ucm9vdCA9IHRoaXMucm9vdC50b0pTT04oKTsKICAgIHJldHVybiBqc29uOwogIH0KICAvKioKICAgKiBAaW5oZXJpdERvYwogICAqLwoKCiAgc3RhdGljIGdldCBjbGFzc05hbWUoKSB7CiAgICByZXR1cm4gJ1Jvb3RBdHRyaWJ1dGVPcGVyYXRpb24nOwogIH0KICAvKioKICAgKiBDcmVhdGVzIFJvb3RBdHRyaWJ1dGVPcGVyYXRpb24gb2JqZWN0IGZyb20gZGVzZXJpbGl6ZWQgb2JqZWN0LCBpLmUuIGZyb20gcGFyc2VkIEpTT04gc3RyaW5nLgogICAqCiAgICogQHBhcmFtIHtPYmplY3R9IGpzb24gRGVzZXJpYWxpemVkIEpTT04gb2JqZWN0LgogICAqIEBwYXJhbSB7bW9kdWxlOmVuZ2luZS9tb2RlbC9kb2N1bWVudH5Eb2N1bWVudH0gZG9jdW1lbnQgRG9jdW1lbnQgb24gd2hpY2ggdGhpcyBvcGVyYXRpb24gd2lsbCBiZSBhcHBsaWVkLgogICAqIEByZXR1cm5zIHttb2R1bGU6ZW5naW5lL21vZGVsL29wZXJhdGlvbi9yb290YXR0cmlidXRlb3BlcmF0aW9uflJvb3RBdHRyaWJ1dGVPcGVyYXRpb259CiAgICovCgoKICBzdGF0aWMgZnJvbUpTT04oanNvbiwgZG9jdW1lbnQpIHsKICAgIGlmICghZG9jdW1lbnQuZ2V0Um9vdChqc29uLnJvb3QpKSB7CiAgICAgIC8qKgogICAgICAgKiBDYW5ub3QgY3JlYXRlIFJvb3RBdHRyaWJ1dGVPcGVyYXRpb24gZm9yIGRvY3VtZW50LiBSb290IHdpdGggc3BlY2lmaWVkIG5hbWUgZG9lcyBub3QgZXhpc3QuCiAgICAgICAqCiAgICAgICAqIEBlcnJvciByb290YXR0cmlidXRlb3BlcmF0aW9uLWZyb21qc29uLW5vLXJvb3QKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHJvb3ROYW1lCiAgICAgICAqLwogICAgICB0aHJvdyBuZXcgQ0tFZGl0b3JFcnJvcigncm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBSb290QXR0cmlidXRlT3BlcmF0aW9uLiBSb290IHdpdGggc3BlY2lmaWVkIG5hbWUgZG9lcyBub3QgZXhpc3QuJywgdGhpcywgewogICAgICAgIHJvb3ROYW1lOiBqc29uLnJvb3QKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIG5ldyBSb290QXR0cmlidXRlT3BlcmF0aW9uKGRvY3VtZW50LmdldFJvb3QoanNvbi5yb290KSwganNvbi5rZXksIGpzb24ub2xkVmFsdWUsIGpzb24ubmV3VmFsdWUsIGpzb24uYmFzZVZlcnNpb24pOwogIH0gLy8gQGlmIENLX0RFQlVHX0VOR0lORSAvLyB0b1N0cmluZygpIHsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vIAlyZXR1cm4gYFJvb3RBdHRyaWJ1dGVPcGVyYXRpb24oICR7IHRoaXMuYmFzZVZlcnNpb24gfSApOiBgICsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCQlgIiR7IHRoaXMua2V5IH0iOiAkeyBKU09OLnN0cmluZ2lmeSggdGhpcy5vbGRWYWx1ZSApIH1gICsKICAvLyBAaWYgQ0tfREVCVUdfRU5HSU5FIC8vCQlgIC0+ICR7IEpTT04uc3RyaW5naWZ5KCB0aGlzLm5ld1ZhbHVlICkgfSwgJHsgdGhpcy5yb290LnJvb3ROYW1lIH1gOwogIC8vIEBpZiBDS19ERUJVR19FTkdJTkUgLy8gfQoKCn0="},{"version":3,"sources":["/Users/antonyching/Desktop/project/new-builder-demo/node_modules/@ckeditor/ckeditor5-engine/src/model/operation/rootattributeoperation.js"],"names":["Operation","CKEditorError","RootAttributeOperation","constructor","root","key","oldValue","newValue","baseVersion","type","clone","getReversed","_validate","is","getAttribute","hasAttribute","_execute","_setAttribute","_removeAttribute","toJSON","json","className","fromJSON","document","getRoot","rootName"],"mappings":"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","sourcesContent":["/**\n * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * @module engine/model/operation/rootattributeoperation\n */\n\nimport Operation from './operation';\nimport CKEditorError from '@ckeditor/ckeditor5-utils/src/ckeditorerror';\n\n/**\n * Operation to change root element's attribute. Using this class you can add, remove or change value of the attribute.\n *\n * This operation is needed, because root elements can't be changed through\n * @link module:engine/model/operation/attributeoperation~AttributeOperation}.\n * It is because {@link module:engine/model/operation/attributeoperation~AttributeOperation}\n * requires a range to change and root element can't\n * be a part of range because every {@link module:engine/model/position~Position} has to be inside a root.\n * {@link module:engine/model/position~Position} can't be created before a root element.\n *\n * @extends module:engine/model/operation/operation~Operation\n */\nexport default class RootAttributeOperation extends Operation {\n\t/**\n\t * Creates an operation that changes, removes or adds attributes on root element.\n\t *\n\t * @see module:engine/model/operation/attributeoperation~AttributeOperation\n\t * @param {module:engine/model/rootelement~RootElement} root Root element to change.\n\t * @param {String} key Key of an attribute to change or remove.\n\t * @param {*} oldValue Old value of the attribute with given key or `null` if adding a new attribute.\n\t * @param {*} newValue New value to set for the attribute. If `null`, then the operation just removes the attribute.\n\t * @param {Number|null} baseVersion Document {@link module:engine/model/document~Document#version} on which operation\n\t * can be applied or `null` if the operation operates on detached (non-document) tree.\n\t */\n\tconstructor( root, key, oldValue, newValue, baseVersion ) {\n\t\tsuper( baseVersion );\n\n\t\t/**\n\t\t * Root element to change.\n\t\t *\n\t\t * @readonly\n\t\t * @member {module:engine/model/rootelement~RootElement}\n\t\t */\n\t\tthis.root = root;\n\n\t\t/**\n\t\t * Key of an attribute to change or remove.\n\t\t *\n\t\t * @readonly\n\t\t * @member {String}\n\t\t */\n\t\tthis.key = key;\n\n\t\t/**\n\t\t * Old value of the attribute with given key or `null` if adding a new attribute.\n\t\t *\n\t\t * @readonly\n\t\t * @member {*}\n\t\t */\n\t\tthis.oldValue = oldValue;\n\n\t\t/**\n\t\t * New value to set for the attribute. If `null`, then the operation just removes the attribute.\n\t\t *\n\t\t * @readonly\n\t\t * @member {*}\n\t\t */\n\t\tthis.newValue = newValue;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget type() {\n\t\tif ( this.oldValue === null ) {\n\t\t\treturn 'addRootAttribute';\n\t\t} else if ( this.newValue === null ) {\n\t\t\treturn 'removeRootAttribute';\n\t\t} else {\n\t\t\treturn 'changeRootAttribute';\n\t\t}\n\t}\n\n\t/**\n\t * Creates and returns an operation that has the same parameters as this operation.\n\t *\n\t * @returns {module:engine/model/operation/rootattributeoperation~RootAttributeOperation} Clone of this operation.\n\t */\n\tclone() {\n\t\treturn new RootAttributeOperation( this.root, this.key, this.oldValue, this.newValue, this.baseVersion );\n\t}\n\n\t/**\n\t * See {@link module:engine/model/operation/operation~Operation#getReversed `Operation#getReversed()`}.\n\t *\n\t * @returns {module:engine/model/operation/rootattributeoperation~RootAttributeOperation}\n\t */\n\tgetReversed() {\n\t\treturn new RootAttributeOperation( this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1 );\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\t_validate() {\n\t\tif ( this.root != this.root.root || this.root.is( 'documentFragment' ) ) {\n\t\t\t/**\n\t\t\t * The element to change is not a root element.\n\t\t\t *\n\t\t\t * @error rootattribute-operation-not-a-root\n\t\t\t * @param {module:engine/model/rootelement~RootElement} root\n\t\t\t * @param {String} key\n\t\t\t * @param {*} value\n\t\t\t */\n\t\t\tthrow new CKEditorError(\n\t\t\t\t'rootattribute-operation-not-a-root: The element to change is not a root element.',\n\t\t\t\tthis,\n\t\t\t\t{ root: this.root, key: this.key }\n\t\t\t);\n\t\t}\n\n\t\tif ( this.oldValue !== null && this.root.getAttribute( this.key ) !== this.oldValue ) {\n\t\t\t/**\n\t\t\t * The attribute which should be removed does not exists for the given node.\n\t\t\t *\n\t\t\t * @error rootattribute-operation-wrong-old-value\n\t\t\t * @param {module:engine/model/rootelement~RootElement} root\n\t\t\t * @param {String} key\n\t\t\t * @param {*} value\n\t\t\t */\n\t\t\tthrow new CKEditorError(\n\t\t\t\t'rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\\'s ' +\n\t\t\t\t'old attribute value.',\n\t\t\t\tthis,\n\t\t\t\t{ root: this.root, key: this.key }\n\t\t\t);\n\t\t}\n\n\t\tif ( this.oldValue === null && this.newValue !== null && this.root.hasAttribute( this.key ) ) {\n\t\t\t/**\n\t\t\t * The attribute with given key already exists for the given node.\n\t\t\t *\n\t\t\t * @error rootattribute-operation-attribute-exists\n\t\t\t * @param {module:engine/model/rootelement~RootElement} root\n\t\t\t * @param {String} key\n\t\t\t */\n\t\t\tthrow new CKEditorError(\n\t\t\t\t'rootattribute-operation-attribute-exists: The attribute with given key already exists.',\n\t\t\t\tthis,\n\t\t\t\t{ root: this.root, key: this.key }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\t_execute() {\n\t\tif ( this.newValue !== null ) {\n\t\t\tthis.root._setAttribute( this.key, this.newValue );\n\t\t} else {\n\t\t\tthis.root._removeAttribute( this.key );\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\ttoJSON() {\n\t\tconst json = super.toJSON();\n\n\t\tjson.root = this.root.toJSON();\n\n\t\treturn json;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic get className() {\n\t\treturn 'RootAttributeOperation';\n\t}\n\n\t/**\n\t * Creates RootAttributeOperation object from deserilized object, i.e. from parsed JSON string.\n\t *\n\t * @param {Object} json Deserialized JSON object.\n\t * @param {module:engine/model/document~Document} document Document on which this operation will be applied.\n\t * @returns {module:engine/model/operation/rootattributeoperation~RootAttributeOperation}\n\t */\n\tstatic fromJSON( json, document ) {\n\t\tif ( !document.getRoot( json.root ) ) {\n\t\t\t/**\n\t\t\t * Cannot create RootAttributeOperation for document. Root with specified name does not exist.\n\t\t\t *\n\t\t\t * @error rootattributeoperation-fromjson-no-root\n\t\t\t * @param {String} rootName\n\t\t\t */\n\t\t\tthrow new CKEditorError(\n\t\t\t\t'rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',\n\t\t\t\tthis,\n\t\t\t\t{ rootName: json.root }\n\t\t\t);\n\t\t}\n\n\t\treturn new RootAttributeOperation( document.getRoot( json.root ), json.key, json.oldValue, json.newValue, json.baseVersion );\n\t}\n\n\t// @if CK_DEBUG_ENGINE // toString() {\n\t// @if CK_DEBUG_ENGINE // \treturn `RootAttributeOperation( ${ this.baseVersion } ): ` +\n\t// @if CK_DEBUG_ENGINE //\t\t`\"${ this.key }\": ${ JSON.stringify( this.oldValue ) }` +\n\t// @if CK_DEBUG_ENGINE //\t\t` -> ${ JSON.stringify( this.newValue ) }, ${ this.root.rootName }`;\n\t// @if CK_DEBUG_ENGINE // }\n}\n"]}]}