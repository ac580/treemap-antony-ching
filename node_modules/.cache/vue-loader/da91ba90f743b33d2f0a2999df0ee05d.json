{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antonyching/Desktop/project/new-builder-demo/src/views/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/src/views/Editor.vue","mtime":1619261172552},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgJCBmcm9tICdqcXVlcnknDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJlZGl0b3IiLA0KICBjb21wb25lbnRzOiB7DQogIH0sDQogIGRhdGE6IGZ1bmN0aW9uKCl7DQogICAgICByZXR1cm57DQogICAgICAgICAgdGl0bGU6ICJEYXRhIiwNCiAgICAgICAgICByb3dUaXRsZTogIlJvdyBOdW1iZXIiLA0KICAgICAgICAgIHJlc3VsdFRpdGxlOiAiUmVzdWx0IiwNCiAgICAgICAgICBqc29uTW9kZWw6ICIiLA0KICAgICAgICAgIGlzSnNvbk5vdFZhbGlkOiB0cnVlLA0KICAgICAgICAgIGlzU2l6ZUludmFsaWQ6IGZhbHNlLA0KICAgICAgICAgIGlzQW55TmFtZU92ZXI1MDogZmFsc2UsDQogICAgICAgICAgaXNBbnlOYW1lTm90U3RyOiBmYWxzZSwNCiAgICAgICAgICBpc0FueVdlaWdodE5vdEludDogZmFsc2UsDQogICAgICAgICAgaXNBbnlWYWx1ZU5vdEludDogZmFsc2UsDQogICAgICAgICAganNvbkZvcm1hdHRlZDogbnVsbCwNCiAgICAgICAgICByb3dOdW06IDMsDQogICAgICAgICAgY29udGFpbmVyU3RyOiAnJywNCiAgICAgICAgICBzaG93Q29udGFpbmVyOiBmYWxzZSwNCiAgICAgICAgICBzYW1wbGVKc29uOlsNCiAgICAgICAgICAgICAgICB7ICJuYW1lIjogIkEiLCAid2VpZ2h0IjogMywgInZhbHVlIjogLTAuMDIgfSwgDQogICAgICAgICAgICAgICAgeyAibmFtZSI6ICJCIiwgIndlaWdodCI6IDMsICJ2YWx1ZSI6IDAuMDUgfSwgDQogICAgICAgICAgICAgICAgeyAibmFtZSI6ICJDIiwgIndlaWdodCI6IDYsICJ2YWx1ZSI6IDAuMDE1IH0sIA0KICAgICAgICAgICAgICAgIHsgIm5hbWUiOiAiRCIsICJ3ZWlnaHQiOiAyLCAidmFsdWUiOiAtMC4wMSB9LCANCiAgICAgICAgICAgICAgICB7ICJuYW1lIjogIkUiLCAid2VpZ2h0IjogMywgInZhbHVlIjogMC4wMSB9XSwgICAgDQogICAgfQ0KICB9LA0KICBjcmVhdGVkOiBmdW5jdGlvbigpew0KICB9LA0KICBtZXRob2RzOiB7DQogICAgICAgIHNhdmVNb2RlbCgpew0KICAgICAgICAgICAgdGhpcy5qc29uRm9ybWF0dGVkID0gSlNPTi5wYXJzZSh0aGlzLmpzb25Nb2RlbCk7DQogICAgICAgICAgICBpZih0aGlzLnJvd051bSA8IDEgfHwgdGhpcy5yb3dOdW0gJSAxICE9IDAgfHwgdGhpcy5yb3dOdW0gPiB0aGlzLmpzb25Gb3JtYXR0ZWQubGVuZ3RoKXsgICAgICAgICANCiAgICAgICAgICAgICAgICBhbGVydCgiUm93IE51bWJlciBtdXN0IGJlIFxuIC0gQW4gSW50ZWdlciB0aGF0IGlzIGdyZWF0ZXIgdGhhbiAwLiBcbiAtIExlc3NlciBvciBlcXVhbCB0byB0aGUgYXJyYXkgbGVuZ3RoLiIpDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLnNldHVwQ29udGFpbmVyUHJvcCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXR1cENvbnRhaW5lclByb3AoKXsNCiAgICAgICAgICAgIGxldCB0b3RhbFdlaWdodCA9IDA7DQogICAgICAgICAgICBsZXQgcm93TnVtYmVyQ2VpbCA9IDA7DQogICAgICAgICAgICB0aGlzLmpzb25Gb3JtYXR0ZWQuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICB0b3RhbFdlaWdodCArPSBpdGVtLndlaWdodDsNCiAgICAgICAgICAgIH0pOw0KDQoNCiAgICAgICAgICAgIHJvd051bWJlckNlaWwgPSBNYXRoLmNlaWwodG90YWxXZWlnaHQvdGhpcy5yb3dOdW0pOw0KDQogICAgICAgICAgICBsZXQgZmlsdGVyT3V0T2ZCb3VuZFdlaWdodCA9IHRoaXMuanNvbkZvcm1hdHRlZC5maW5kSW5kZXgoaXRlbT0+aXRlbVsnd2VpZ2h0J10gPiBNYXRoLmNlaWwodG90YWxXZWlnaHQvdGhpcy5yb3dOdW0pKTsNCiAgICAgICAgICAgIGlmKGZpbHRlck91dE9mQm91bmRXZWlnaHQgIT0gLTEpew0KICAgICAgICAgICAgICAgIGFsZXJ0KCJXZWlnaHQ6Iit0aGlzLmpzb25Gb3JtYXR0ZWRbZmlsdGVyT3V0T2ZCb3VuZFdlaWdodF1bJ3dlaWdodCddKyIgaXMgb3V0IG9mIGJvdW5kISwgVGhlIG1heGltdW0gd2VpZ2h0IGZvciB0aGlzIGNhc2UgaXMgIitNYXRoLmNlaWwodG90YWxXZWlnaHQvdGhpcy5yb3dOdW0pDQogICAgICAgICAgICAgICAgKyIgb3RoZXJ3aXNlIG9uZSByb3cncyB3aWR0aCB3aWxsIGJlIGdyZWF0ZXIgdGhhbiAxMDAlLiIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5qc29uRm9ybWF0dGVkKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5qc29uRm9ybWF0dGVkW2ldWyd3aWR0aFBlcmNlbnQnXSA9IHBhcnNlRmxvYXQoKDEwMC8ocm93TnVtYmVyQ2VpbC90aGlzLmpzb25Gb3JtYXR0ZWRbaV1bJ3dlaWdodCddKSkudG9GaXhlZCgxKSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuanNvbkZvcm1hdHRlZFtpXVsnZm9ybWF0VmFsdWUnXSA9ICh0aGlzLnJvdW5kVG9Ud28odGhpcy5qc29uRm9ybWF0dGVkW2ldWyd2YWx1ZSddKjEwMCkpKyIlIjsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5qc29uRm9ybWF0dGVkW2ldWyd2YWx1ZSddID49MCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpzb25Gb3JtYXR0ZWRbaV1bJ2JnQ29sb3InXSA9ICdncmVlbic7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qc29uRm9ybWF0dGVkW2ldWydiZ0NvbG9yJ10gPSAncmVkJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHRoaXMuanNvbkZvcm1hdHRlZCA9IHRoaXMuanNvbkZvcm1hdHRlZC5zb3J0KChhLGIpID0+IChhWyd3aWR0aFBlcmNlbnQnXSA8IGJbWyd3aWR0aFBlcmNlbnQnXV0pID8gMSA6ICgoYlsnd2lkdGhQZXJjZW50J10gPCBhWyd3aWR0aFBlcmNlbnQnXSkgPyAtMSA6IDApKTsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNvbnRhaW5lcigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICByZW5kZXJDb250YWluZXIoKXsNCiAgICAgICAgICAgIHRoaXMuZml4T3JkZXJJbkxpc3QoKTsNCiAgICAgICAgDQogICAgICAgICAgICB0aGlzLmpzb25Gb3JtYXR0ZWQgPSB0aGlzLmpzb25Gb3JtYXR0ZWQuc29ydCgoYSxiKSA9PiAoYVsnb3JkZXInXSA+IGJbWydvcmRlciddXSkgPyAxIDogKChiWydvcmRlciddID4gYVsnb3JkZXInXSkgPyAtMSA6IDApKTsNCiAgICAgICAgICAgIGxldCBmaW5kT3V0T2ZCb3VuZFJvdyA9IHRoaXMuanNvbkZvcm1hdHRlZC5maW5kSW5kZXgoaXRlbT0+aXRlbS5vcmRlciA9PSB0aGlzLnJvd051bSk7DQogICAgICAgICAgICBpZihmaW5kT3V0T2ZCb3VuZFJvdyAhPSAtMSl7DQogICAgICAgICAgICAgICAgYWxlcnQoIk91dCBvZiBib3VuZCEgQ2FuJ3QgZmlsbCBpbiBhbGwgb2JqZWN0cyB3aXRoaW4gIisgdGhpcy5yb3dOdW0gKyIgcm93KHMpLiIpDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dDb250YWluZXIgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3RyID0gJyc7DQogICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuanNvbkZvcm1hdHRlZCl7DQogICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGhpcy5qc29uRm9ybWF0dGVkW2ldOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3RyICs9IA0KICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iZGlzcGxheS1mbGV4LWl0ZW0iIHN0eWxlPSJvdXRsaW5lOiBibGFjayBzb2xpZCAycHg7d2lkdGg6JytpdGVtWyd3aWR0aFBlcmNlbnQnXSsnJTtiYWNrZ3JvdW5kOicraXRlbVsnYmdDb2xvciddKyc7Ij4nKw0KICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9Iml0ZW0tbmFtZSI+JytpdGVtWyduYW1lJ10rJzwvZGl2PicrDQogICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iaXRlbS12YWx1ZSI+JytpdGVtWydmb3JtYXRWYWx1ZSddKyc8L2Rpdj4nKw0KICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JzsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicmVuZGVyIGpzb24iLHRoaXMuanNvbkZvcm1hdHRlZCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSwNCiAgICAgICAgZml4T3JkZXJJbkxpc3QoKXsNCiAgICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLmpzb25Gb3JtYXR0ZWQpew0KICAgICAgICAgICAgICAgIGlmKGktMSA9PSAtMSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuanNvbkZvcm1hdHRlZFtpXVsnb3JkZXInXSA9IDA7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGxldCBnZXRXaWR0aFBlcmNlbnRPcmRlciA9IHRoaXMuc3VtT2ZXaWR0aFBlcmNlbnQodGhpcy5qc29uRm9ybWF0dGVkLmZpbHRlcigoaXRlbSk9Pml0ZW1bJ29yZGVyJ109PXRoaXMuanNvbkZvcm1hdHRlZFtpLTFdWydvcmRlciddKSk7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgaWYoZ2V0V2lkdGhQZXJjZW50T3JkZXIrdGhpcy5qc29uRm9ybWF0dGVkW2ldWyd3aWR0aFBlcmNlbnQnXSA8PSAxMDApew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qc29uRm9ybWF0dGVkW2ldWydvcmRlciddID0gdGhpcy5qc29uRm9ybWF0dGVkW2ktMV1bJ29yZGVyJ107DQogICAgICAgICAgICAgICAgICAgIH1lbHNleyAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByZXZPcmRlckFyciA9IFtdOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7IGo8PXRoaXMuanNvbkZvcm1hdHRlZFtpLTFdWydvcmRlciddOyBqKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZPcmRlckFyci5wdXNoKGopOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGsgaW4gcHJldk9yZGVyQXJyKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBnZXRXaWR0aFBlcmNlbnRPcmRlciA9IHRoaXMuc3VtT2ZXaWR0aFBlcmNlbnQodGhpcy5qc29uRm9ybWF0dGVkLmZpbHRlcigoaXRlbSk9Pml0ZW1bJ29yZGVyJ109PXByZXZPcmRlckFycltrXSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZ2V0V2lkdGhQZXJjZW50T3JkZXIrdGhpcy5qc29uRm9ybWF0dGVkW2ldWyd3aWR0aFBlcmNlbnQnXSA8PSAxMDApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpzb25Gb3JtYXR0ZWRbaV1bJ29yZGVyJ10gPSB0aGlzLmpzb25Gb3JtYXR0ZWRbcHJldk9yZGVyQXJyW2tdXVsnb3JkZXInXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuanNvbkZvcm1hdHRlZFtpXVsnb3JkZXInXSA9IHRoaXMuanNvbkZvcm1hdHRlZFtpLTFdWydvcmRlciddICsxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc3VtT2ZXaWR0aFBlcmNlbnQoYXJyKXsNCiAgICAgICAgICAgIGxldCBzdW0gPSAwOw0KICAgICAgICAgICAgYXJyLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgc3VtICs9IGl0ZW0ud2lkdGhQZXJjZW50Ow0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gc3VtOw0KICAgICAgICB9LA0KICAgICAgICByb3VuZFRvVHdvKG51bSkgeyAgICANCiAgICAgICAgICAgIHJldHVybiArKE1hdGgucm91bmQobnVtICsgImUrMiIpICArICJlLTIiKTsNCiAgICAgICAgfSwNCiAgICAgICAgaXNKc29uU3RyaW5nKHN0cikgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBKU09OLnBhcnNlKHN0cik7DQoNCiAgICAgICAgICAgICAgICBsZXQgcGFyc2VKc29uID0gSlNPTi5wYXJzZShzdHIpOw0KICAgICAgICAgICAgICAgIGlmKHBhcnNlSnNvbi5sZW5ndGg+NTAgfHwgcGFyc2VKc29uLmxlbmd0aDwxKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1NpemVJbnZhbGlkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1NpemVJbnZhbGlkID0gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrTmFtZVR5cGVTdHJGaWx0ZXIgPSBwYXJzZUpzb24uZmluZEluZGV4KGl0ZW09PnR5cGVvZihpdGVtLm5hbWUpICE9ICdzdHJpbmcnKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoY2hlY2tOYW1lVHlwZVN0ckZpbHRlciE9LTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0FueU5hbWVOb3RTdHIgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbnlOYW1lTm90U3RyID0gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGVja05hbWVMZW5ndGhGaWx0ZXIgPSBwYXJzZUpzb24uZmluZEluZGV4KGl0ZW09Pml0ZW0ubmFtZS5sZW5ndGggPiA1MCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihjaGVja05hbWVMZW5ndGhGaWx0ZXIhPS0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQW55TmFtZU92ZXI1MCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQW55TmFtZU92ZXI1MCA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrV2VpZ2h0SW50RmlsdGVyID0gcGFyc2VKc29uLmZpbmRJbmRleChpdGVtPT50eXBlb2YoaXRlbS53ZWlnaHQpICE9ICdudW1iZXInIHx8IGl0ZW0ud2VpZ2h0IDwgMSB8fCBpdGVtLndlaWdodCAlIDEgIT0gMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2hlY2tXZWlnaHRJbnRGaWx0ZXIhPS0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0FueVdlaWdodE5vdEludCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbnlXZWlnaHROb3RJbnQgPSBmYWxzZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tWYWx1ZUludEZpbHRlciA9IHBhcnNlSnNvbi5maW5kSW5kZXgoaXRlbT0+dHlwZW9mKGl0ZW0udmFsdWUpICE9ICdudW1iZXInIHx8IGl0ZW0udmFsdWUgPiAxIHx8IGl0ZW0udmFsdWUgPCAtMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNoZWNrVmFsdWVJbnRGaWx0ZXIhPS0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbnlWYWx1ZU5vdEludCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0FueVZhbHVlTm90SW50ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0aGlzLmlzSnNvbk5vdFZhbGlkID0gZmFsc2U7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pc0pzb25Ob3RWYWxpZCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldFNhbXBsZSgpew0KICAgICAgICAgICAgdGhpcy5qc29uTW9kZWwgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuanNvbk1vZGVsID0gSlNPTi5zdHJpbmdpZnkodGhpcy5zYW1wbGVKc29uKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJNb2RlbCgpew0KICAgICAgICAgICAgdGhpcy5qc29uTW9kZWwgPSAiIjsNCiAgICAgICAgICAgIHRoaXMucm93TnVtID0gMTsNCiAgICAgICAgICAgIHRoaXMuc2hvd0NvbnRhaW5lciA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICB2YWxpZGF0ZUpzb24oKXsNCiAgICAgICAgICAgIHRoaXMuc2hvd0NvbnRhaW5lciA9IGZhbHNlOw0KICAgICAgICAgICAgaWYodGhpcy5pc0pzb25Ob3RWYWxpZCl7DQogICAgICAgICAgICAgICAgYWxlcnQoIklucHV0IEpTT04gbm90IHZhbGlkLCBwbGVhc2UgY2hlY2shIik7DQogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmlzU2l6ZUludmFsaWQpew0KICAgICAgICAgICAgICAgIGFsZXJ0KCJMZW5ndGggb2YgQXJyYXkgKElucHV0IEpTT04pIG11c3QgYmUgZXF1YWwvbGVzcyB0aGFuIDUwIGFuZCBncmVhdGVyIHRoYW4gMSEiKTsNCiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaXNBbnlOYW1lT3ZlcjUwKXsNCiAgICAgICAgICAgICAgICBhbGVydCgiRWFjaCBuYW1lIG11c3Qgbm90IGJlIGxvbmdlciB0aGFuIDUwIGNoYXJhY3RlcnMhIik7DQogICAgICAgICAgICB9ZWxzZSBpZih0aGlzLmlzQW55TmFtZU5vdFN0cil7DQogICAgICAgICAgICAgICAgYWxlcnQoIk9ubHkgYWNjZXB0IHN0cmluZyB0eXBlIGZvciBuYW1lISIpOw0KICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5pc0FueVdlaWdodE5vdEludCl7DQogICAgICAgICAgICAgICAgYWxlcnQoIk9ubHkgYWNjZXB0IGludGVnZXIgdHlwZSBmb3Igd2VpZ2h0IGFuZCBpdCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwISIpOw0KICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5pc0FueVZhbHVlTm90SW50KXsNCiAgICAgICAgICAgICAgICBhbGVydCgiVmFsdWUgbXVzdCBiZSBhbiBpbnRlZ2VyOiBcbiAtIE5vdCBncmVhdGVyIHRoYW4gMS4gXG4gLSBOb3QgbGVzc2VyIHRoYW4gLTEuIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlew0KICAgICAgICAgICAgICAgIHRoaXMuc2F2ZU1vZGVsKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdvVG9wKCl7DQogICAgICAgICAgICAkKCdodG1sLGJvZHknKS5zdG9wKCkuYW5pbWF0ZSh7DQogICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAwDQogICAgICAgICAgICB9LCAnc2xvdycsICdzd2luZycpOw0KICAgICAgICB9DQogIH0sDQogIGNvbXB1dGVkOnsNCiAgICAgIA0KDQogIH0sDQogIHdhdGNoOnsNCiAgICBqc29uTW9kZWw6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5pc0pzb25TdHJpbmcodGhpcy5qc29uTW9kZWwpOw0KICAgIH0gICANCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Editor.vue","sourceRoot":"src/views","sourcesContent":["<script>\r\nimport $ from 'jquery'\r\nexport default {\r\n  name: \"editor\",\r\n  components: {\r\n  },\r\n  data: function(){\r\n      return{\r\n          title: \"Data\",\r\n          rowTitle: \"Row Number\",\r\n          resultTitle: \"Result\",\r\n          jsonModel: \"\",\r\n          isJsonNotValid: true,\r\n          isSizeInvalid: false,\r\n          isAnyNameOver50: false,\r\n          isAnyNameNotStr: false,\r\n          isAnyWeightNotInt: false,\r\n          isAnyValueNotInt: false,\r\n          jsonFormatted: null,\r\n          rowNum: 3,\r\n          containerStr: '',\r\n          showContainer: false,\r\n          sampleJson:[\r\n                { \"name\": \"A\", \"weight\": 3, \"value\": -0.02 }, \r\n                { \"name\": \"B\", \"weight\": 3, \"value\": 0.05 }, \r\n                { \"name\": \"C\", \"weight\": 6, \"value\": 0.015 }, \r\n                { \"name\": \"D\", \"weight\": 2, \"value\": -0.01 }, \r\n                { \"name\": \"E\", \"weight\": 3, \"value\": 0.01 }],    \r\n    }\r\n  },\r\n  created: function(){\r\n  },\r\n  methods: {\r\n        saveModel(){\r\n            this.jsonFormatted = JSON.parse(this.jsonModel);\r\n            if(this.rowNum < 1 || this.rowNum % 1 != 0 || this.rowNum > this.jsonFormatted.length){         \r\n                alert(\"Row Number must be \\n - An Integer that is greater than 0. \\n - Lesser or equal to the array length.\")\r\n            }else{\r\n                this.setupContainerProp();\r\n            }\r\n        },\r\n        setupContainerProp(){\r\n            let totalWeight = 0;\r\n            let rowNumberCeil = 0;\r\n            this.jsonFormatted.forEach(item => {\r\n                totalWeight += item.weight;\r\n            });\r\n\r\n\r\n            rowNumberCeil = Math.ceil(totalWeight/this.rowNum);\r\n\r\n            let filterOutOfBoundWeight = this.jsonFormatted.findIndex(item=>item['weight'] > Math.ceil(totalWeight/this.rowNum));\r\n            if(filterOutOfBoundWeight != -1){\r\n                alert(\"Weight:\"+this.jsonFormatted[filterOutOfBoundWeight]['weight']+\" is out of bound!, The maximum weight for this case is \"+Math.ceil(totalWeight/this.rowNum)\r\n                +\" otherwise one row's width will be greater than 100%.\");\r\n            }\r\n            else{\r\n                for(let i in this.jsonFormatted){\r\n                    this.jsonFormatted[i]['widthPercent'] = parseFloat((100/(rowNumberCeil/this.jsonFormatted[i]['weight'])).toFixed(1));\r\n                    this.jsonFormatted[i]['formatValue'] = (this.roundToTwo(this.jsonFormatted[i]['value']*100))+\"%\";\r\n                    if(this.jsonFormatted[i]['value'] >=0){\r\n                        this.jsonFormatted[i]['bgColor'] = 'green';\r\n                    }else{\r\n                        this.jsonFormatted[i]['bgColor'] = 'red';\r\n                    }\r\n                }\r\n\r\n                this.jsonFormatted = this.jsonFormatted.sort((a,b) => (a['widthPercent'] < b[['widthPercent']]) ? 1 : ((b['widthPercent'] < a['widthPercent']) ? -1 : 0));\r\n                this.renderContainer();\r\n            }\r\n        },\r\n        renderContainer(){\r\n            this.fixOrderInList();\r\n        \r\n            this.jsonFormatted = this.jsonFormatted.sort((a,b) => (a['order'] > b[['order']]) ? 1 : ((b['order'] > a['order']) ? -1 : 0));\r\n            let findOutOfBoundRow = this.jsonFormatted.findIndex(item=>item.order == this.rowNum);\r\n            if(findOutOfBoundRow != -1){\r\n                alert(\"Out of bound! Can't fill in all objects within \"+ this.rowNum +\" row(s).\")\r\n            }else{\r\n                this.showContainer = true;\r\n                this.containerStr = '';\r\n                for(let i in this.jsonFormatted){\r\n                    let item = this.jsonFormatted[i];\r\n\r\n                    this.containerStr += \r\n                    '<div class=\"display-flex-item\" style=\"outline: black solid 2px;width:'+item['widthPercent']+'%;background:'+item['bgColor']+';\">'+\r\n                        '<div class=\"item-name\">'+item['name']+'</div>'+\r\n                        '<div class=\"item-value\">'+item['formatValue']+'</div>'+\r\n                    '</div>';\r\n                }\r\n\r\n                console.log(\"render json\",this.jsonFormatted);\r\n            }\r\n\r\n        },\r\n        fixOrderInList(){\r\n            for(let i in this.jsonFormatted){\r\n                if(i-1 == -1){\r\n                    this.jsonFormatted[i]['order'] = 0;\r\n                }else{\r\n                    let getWidthPercentOrder = this.sumOfWidthPercent(this.jsonFormatted.filter((item)=>item['order']==this.jsonFormatted[i-1]['order']));\r\n                        \r\n                    if(getWidthPercentOrder+this.jsonFormatted[i]['widthPercent'] <= 100){\r\n                        this.jsonFormatted[i]['order'] = this.jsonFormatted[i-1]['order'];\r\n                    }else{   \r\n                        let prevOrderArr = [];\r\n                        for(let j=0; j<=this.jsonFormatted[i-1]['order']; j++){\r\n                            prevOrderArr.push(j);\r\n                        }\r\n\r\n                        for(let k in prevOrderArr){\r\n\r\n                            let getWidthPercentOrder = this.sumOfWidthPercent(this.jsonFormatted.filter((item)=>item['order']==prevOrderArr[k]));\r\n                                    \r\n                            if(getWidthPercentOrder+this.jsonFormatted[i]['widthPercent'] <= 100){\r\n                                this.jsonFormatted[i]['order'] = this.jsonFormatted[prevOrderArr[k]]['order'];\r\n                                break;\r\n                            }else{\r\n                                this.jsonFormatted[i]['order'] = this.jsonFormatted[i-1]['order'] +1;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        sumOfWidthPercent(arr){\r\n            let sum = 0;\r\n            arr.forEach(item => {\r\n                sum += item.widthPercent;\r\n            });\r\n            return sum;\r\n        },\r\n        roundToTwo(num) {    \r\n            return +(Math.round(num + \"e+2\")  + \"e-2\");\r\n        },\r\n        isJsonString(str) {\r\n            try {\r\n                JSON.parse(str);\r\n\r\n                let parseJson = JSON.parse(str);\r\n                if(parseJson.length>50 || parseJson.length<1){\r\n                    this.isSizeInvalid = true;\r\n                }else{\r\n                    this.isSizeInvalid = false;\r\n\r\n                    let checkNameTypeStrFilter = parseJson.findIndex(item=>typeof(item.name) != 'string');\r\n                    if(checkNameTypeStrFilter!=-1){\r\n                        this.isAnyNameNotStr = true;\r\n                    }else{\r\n                        this.isAnyNameNotStr = false;\r\n\r\n                        let checkNameLengthFilter = parseJson.findIndex(item=>item.name.length > 50);\r\n                        if(checkNameLengthFilter!=-1){\r\n                            this.isAnyNameOver50 = true;\r\n                        }else{\r\n                            this.isAnyNameOver50 = false;\r\n\r\n                            let checkWeightIntFilter = parseJson.findIndex(item=>typeof(item.weight) != 'number' || item.weight < 1 || item.weight % 1 != 0);\r\n                            if(checkWeightIntFilter!=-1){\r\n                                this.isAnyWeightNotInt = true;\r\n                            }else{\r\n                                this.isAnyWeightNotInt = false;\r\n\r\n                                let checkValueIntFilter = parseJson.findIndex(item=>typeof(item.value) != 'number' || item.value > 1 || item.value < -1);\r\n                                if(checkValueIntFilter!=-1){\r\n                                    this.isAnyValueNotInt = true;\r\n                                }else{\r\n                                    this.isAnyValueNotInt = false;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.isJsonNotValid = false;\r\n            } catch (e) {\r\n                this.isJsonNotValid = true;\r\n            }\r\n        },\r\n        getSample(){\r\n            this.jsonModel = \"\";\r\n            this.jsonModel = JSON.stringify(this.sampleJson);\r\n        },\r\n        clearModel(){\r\n            this.jsonModel = \"\";\r\n            this.rowNum = 1;\r\n            this.showContainer = false;\r\n        },\r\n        validateJson(){\r\n            this.showContainer = false;\r\n            if(this.isJsonNotValid){\r\n                alert(\"Input JSON not valid, please check!\");\r\n            }else if(this.isSizeInvalid){\r\n                alert(\"Length of Array (Input JSON) must be equal/less than 50 and greater than 1!\");\r\n            }else if(this.isAnyNameOver50){\r\n                alert(\"Each name must not be longer than 50 characters!\");\r\n            }else if(this.isAnyNameNotStr){\r\n                alert(\"Only accept string type for name!\");\r\n            }else if(this.isAnyWeightNotInt){\r\n                alert(\"Only accept integer type for weight and it must be greater than 0!\");\r\n            }else if(this.isAnyValueNotInt){\r\n                alert(\"Value must be an integer: \\n - Not greater than 1. \\n - Not lesser than -1.\");\r\n            }\r\n            else{\r\n                this.saveModel();\r\n            }\r\n        },\r\n        goTop(){\r\n            $('html,body').stop().animate({\r\n                scrollTop: 0\r\n            }, 'slow', 'swing');\r\n        }\r\n  },\r\n  computed:{\r\n      \r\n\r\n  },\r\n  watch:{\r\n    jsonModel: function () {\r\n        this.isJsonString(this.jsonModel);\r\n    }   \r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"editor\">\r\n    <div class=\"editor-left\">\r\n        <p>{{title}}</p>\r\n        <textarea class=\"editor-textarea\" v-model=\"jsonModel\" rows=\"20\" cols=\"100\">\r\n        </textarea>\r\n        <br>\r\n        <button class=\"action-button\" v-on:click=\"getSample()\">Get Sample Json</button>\r\n        <br>\r\n        <p>{{rowTitle}}</p>\r\n        <input type=\"number\" v-model=\"rowNum\"/>\r\n\r\n        <div class=\"button-class\">\r\n            <button class=\"action-button\" :disabled=\"jsonModel == ''\" v-on:click=\"validateJson()\">Save</button>\r\n            <button class=\"action-button next-button\" v-on:click=\"clearModel()\">Clear</button>\r\n        </div>\r\n    </div>\r\n    <div class=\"editor-right\">\r\n        <p class=\"hide-on-mobile\">{{resultTitle}}</p>\r\n        <p class=\"show-on-mobile\"  v-if=\"showContainer\">{{resultTitle}}</p>\r\n        <div class=\"result-container\" v-if=\"showContainer\">\r\n            <div class=\"format-flex-row\" v-html=\"containerStr\"></div>\r\n            <div class=\"show-on-mobile button-top-class\">\r\n                <button class=\"action-button top-button\" v-on:click=\"goTop()\">Back to top</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>"]}]}