{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antonyching/Desktop/project/new-builder-demo/src/components/UploadImage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/src/components/UploadImage.vue","mtime":1581498848000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IH0sCiAgbmFtZTogInVwbG9hZC1pbWFnZSIsCiAgcHJvcHM6IHsKICAgICAgYWNjZXB0OiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnaW1hZ2UvKicKICAgICAgfSwKICAgICAgcm93SW5kZXg6IHsKICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGU6ICcnLAogICAgICBmaWxlTmFtZTogJycKICAgIH07CiAgfSwKICBjcmVhdGVkKCl7CiAgfSwKICBtZXRob2RzOiB7CiAgc2VsZWN0RmlsZSgpewogICAgdGhpcy4kcmVmcy5maWxlLmNsaWNrKCkKICB9LAogIG9uRmlsZUNoYW5nZShlKSB7CiAgICBsZXQgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKICAgIGlmICghZmlsZXMubGVuZ3RoKSB7CiAgICAgIHJldHVybgogICAgfQogICAgdGhpcy5maWxlTmFtZSA9IGZpbGVzWzBdLm5hbWUKICAgIHRoaXMuY3JlYXRlSW1hZ2UoZmlsZXNbMF0pCiAgfSwKICBjcmVhdGVJbWFnZShmaWxlKSB7CiAgICAvL3ZhciBpbWFnZSA9IG5ldyBJbWFnZSgpCiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHsKICAgICAgdGhpcy5maWxlID0gZS50YXJnZXQucmVzdWx0OwogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB7ImZpbGUiOnRoaXMuZmlsZSwgIm5hbWUiOnRoaXMuZmlsZU5hbWUsICJpbmRleCI6dGhpcy5yb3dJbmRleH0pOwogICAgfQogICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSkKICB9LAogIHJlbW92ZUZpbGUoKSB7CiAgICB0aGlzLmZpbGUgPSAnJwogICAgdGhpcy5maWxlTmFtZSA9ICcnCiAgfQp9Cn07Cg=="},{"version":3,"sources":["UploadImage.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadImage.vue","sourceRoot":"src/components","sourcesContent":["<script> \n  export default {\n    components: { },\n    name: \"upload-image\",\n    props: {\n        accept: {\n            type: String,\n            default: 'image/*'\n        },\n        rowIndex: {\n          type: Number,\n          required: false,\n        },\n    },\n    data() {\n      return {\n        file: '',\n        fileName: ''\n      };\n    },\n    created(){\n    },\n    methods: {\n    selectFile(){\n      this.$refs.file.click()\n    },\n    onFileChange(e) {\n      let files = e.target.files || e.dataTransfer.files;\n      if (!files.length) {\n        return\n      }\n      this.fileName = files[0].name\n      this.createImage(files[0])\n    },\n    createImage(file) {\n      //var image = new Image()\n      var reader = new FileReader();\n\n      reader.onload = (e) => {\n        this.file = e.target.result;\n        this.$emit('change', {\"file\":this.file, \"name\":this.fileName, \"index\":this.rowIndex});\n      }\n      reader.readAsDataURL(file)\n    },\n    removeFile() {\n      this.file = ''\n      this.fileName = ''\n    }\n  }\n  };\n</script> \n \n<template>\n  <div>\n    <p>{{ fileName }}</p>\n    <input type=\"file\"\n       ref=\"file\"\n       @change=\"onFileChange\"\n       :accept=\"accept\"\n       style=\"position:absolute;opacity:0;\"\n       required>\n    <img v-if=\"file\" :src=\"file\" style=\"width:40%;\" alt=\"\">\n    <button v-if=\"!file\" type=\"button\" style=\"position:absolute;\" @click=\"selectFile\">\n      <span>Upload Image</span>\n      <!--<span v-if=\"!file\">Upload Image</span>-->\n      <!--<span v-else>Change Image</span>-->\n    </button>\n    <!--<button type=\"button\" @click=\"removeFile\" v-if=\"file\">Remove Image</button>-->\n  </div>\n</template>"]}]}