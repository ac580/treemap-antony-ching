{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antonyching/Desktop/project/new-builder-demo/src/views/Builder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/src/views/Builder.vue","mtime":1581584960000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgTW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL01vZGFsLnZ1ZSI7DQppbXBvcnQgQXBpU2VydmljZSBmcm9tICJAL21peGlucy9hcGlTZXJ2aWNlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogImJ1aWxkZXIiLA0KICBjb21wb25lbnRzOiB7DQogICAgTW9kYWwNCiAgfSwNCiAgbWl4aW5zOltBcGlTZXJ2aWNlXSwNCiAgZGF0YTogZnVuY3Rpb24oKXsNCiAgICAgIHJldHVybnsNCiAgICAgICAgICAgIHRpdGxlOiAiVGhpcyBpcyBidWlsZGVyIiwNCiAgICAgICAgICAgIGpzb25Gb3JtYXR0ZWQ6IG51bGwsDQogICAgICAgICAgICBzaG93Rm9ybU9wdGlvbnM6IFtdLA0KICAgICAgICAgICAgZXJyTXNnOiAiIiwNCiAgICAgICAgICAgIGhhc0VycjogZmFsc2UsDQogICAgICAgICAgICBqc29uUGFyc2VkOiB7fSwNCiAgICAgICAgICAgIHNob3dKc29uTW9kYWw6IGZhbHNlLA0KICAgICAgICAgICAgc2hvd0RlbGV0ZUZvcm1Nb2RhbDogZmFsc2UsDQogICAgICAgICAgICBzaG93RWRpdEdyb3VwTmFtZU1vZGFsOiBmYWxzZSwNCiAgICAgICAgICAgIG1vZGFsVGl0bGU6ICIiLA0KICAgICAgICAgICAgbW9kYWxDb250ZW50OiAiIiwNCiAgICAgICAgICAgIHNlbGVjdEZvcm1QYXJlbnRzOiAiIiwNCiAgICAgICAgICAgIHNlbGVjdEZvcm1QYXJlbnRzTGFiZWw6ICIiLA0KICAgICAgICAgICAgZm9ybU5hbWVBcnJheTogW10sDQogICAgICAgICAgICBzYXZlQ3VycmVudE9iajoge30sDQogICAgICAgICAgICBzaG93QWRkR3JvdXBNb2RhbDogZmFsc2UNCiAgICAgICAgICAgDQogICAgICB9IA0KICB9LA0KICBjcmVhdGVkOiBmdW5jdGlvbigpew0KICAgICAgICB0aGlzLmpzb25Gb3JtYXR0ZWQgPSB0aGlzLiRzdG9yZS5zdGF0ZVsnZm9ybUJ1aWxkSnNvbiddOw0KICAgICAgICBjb25zb2xlLmxvZygicnVubmluZyBidWlsZGVyIix0aGlzLmpzb25Gb3JtYXR0ZWQpOw0KDQogICAgICAgIGlmKHRoaXMuanNvbkZvcm1hdHRlZCl7DQogICAgICAgICAgICB0aGlzLmpzb25QYXJzZWQgPSBKU09OLnBhcnNlKHRoaXMuanNvbkZvcm1hdHRlZCk7DQogICAgICAgICAgICB0aGlzLmhhc0VyciA9IGZhbHNlOw0KICAgICAgICAgICAgaWYodGhpcy5qc29uUGFyc2VkWydwYWdlcyddKXsNCiAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5qc29uUGFyc2VkWydwYWdlcyddKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Rm9ybU9wdGlvbnMucHVzaCh7Im5hbWUiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnZm9ybU5hbWUnXSwibGFiZWwiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnbGFiZWwnXVsnZGVmYXVsdCddLCJmb3JtcyI6dGhpcy5qc29uUGFyc2VkWydwYWdlcyddW2ldWydlbGVtZW50cyddLCJpbmRleCI6IGl9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmhhc0VyciA9IHRydWU7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJNc2cgPSAiSW52YWxpZCBKc29uLCBQbGVhc2UgY2hlY2sgdGhlIHNhbXBsZSEiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAvLyB0aGlzLmhhc0VyciA9IHRydWU7DQogICAgICAgICAgICAvL3RoaXMuZXJyTXNnID0gIkludmFsaWQgSnNvbiwgUGxlYXNlIGNoZWNrIHRoZSBzYW1wbGUhIjsNCiAgICAgICAgICAgIHZhciBsb2FkQXBpID0gdGhpcy5sb2FkRm9ybUJ1aWxkZXIoInRlc3RlciIpOw0KICAgICAgICAgICAgbG9hZEFwaS50aGVuKHJlcz0+ew0KICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXM9PTIwMCl7DQogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhLnJldHVybkNvZGUhPT0iTU8wMDIwMSIpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzLmRhdGEuZm9ybUxpc3QhPSIiKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImZvcm1CdWlsZEpzb24iLCByZXMuZGF0YS5mb3JtTGlzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qc29uRm9ybWF0dGVkID0gdGhpcy4kc3RvcmUuc3RhdGVbJ2Zvcm1CdWlsZEpzb24nXTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuanNvblBhcnNlZCA9IEpTT04ucGFyc2UodGhpcy5qc29uRm9ybWF0dGVkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc0VyciA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuanNvblBhcnNlZFsncGFnZXMnXSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSBpbiB0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ10pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Rm9ybU9wdGlvbnMucHVzaCh7Im5hbWUiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnZm9ybU5hbWUnXSwibGFiZWwiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnbGFiZWwnXVsnZGVmYXVsdCddLCJmb3JtcyI6dGhpcy5qc29uUGFyc2VkWydwYWdlcyddW2ldWydlbGVtZW50cyddLCJpbmRleCI6IGl9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBhbGVydCgiU2VydmVyIGVycm9yLiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAgICAgb3Blbk1vZGVsKGJvb2wsdHlwZSxuYW1lLGxhYmVsLGluZGV4KXsNCiAgICAgICAgICAgIGlmKHR5cGU9PSJhZGQiKXsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsVGl0bGUgPSAiQWRkIG5ldyBmb3JtIjsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsQ29udGVudCA9ICIiOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Rm9ybVBhcmVudHMgPSBuYW1lOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Rm9ybVBhcmVudHNMYWJlbCA9IGxhYmVsOw0KDQogICAgICAgICAgICAgICAgdGhpcy5mb3JtTmFtZUFycmF5ID0gW107DQogICAgICAgICAgICAgICAgZm9yKHZhciBpIGluIHRoaXMuanNvblBhcnNlZFsncGFnZXMnXSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybU5hbWVBcnJheS5wdXNoKHRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnZm9ybU5hbWUnXS50b0xvd2VyQ2FzZSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dKc29uTW9kYWwgPSBib29sOw0KICAgICAgICAgICAgICAgIHJldHVybiBib29sOw0KICAgICAgICAgICAgfWVsc2UgaWYodHlwZT09ImVkaXQiKXsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsVGl0bGUgPSAiRWRpdCBncm91cCBuYW1lIC0gIitsYWJlbDsNCiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsQ29udGVudCA9ICIiOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Rm9ybVBhcmVudHMgPSBuYW1lOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Rm9ybVBhcmVudHNMYWJlbCA9IGxhYmVsOw0KICAgICAgICAgICAgICAgIHRoaXMuc2F2ZUN1cnJlbnRPYmo9IHsiaW5kZXgiOiBpbmRleH07DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtTmFtZUFycmF5ID0gW107DQogICAgICAgICAgICAgICAgZm9yKHZhciBqIGluIHRoaXMuanNvblBhcnNlZFsncGFnZXMnXSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybU5hbWVBcnJheS5wdXNoKHRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtqXVsnZm9ybU5hbWUnXS50b0xvd2VyQ2FzZSgpKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dFZGl0R3JvdXBOYW1lTW9kYWwgPSBib29sOw0KICAgICAgICAgICAgICAgIHJldHVybiBib29sOw0KDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldEZvcm1OYW1lKG5hbWUsbGFiZWwpew0KICAgICAgICAgICAgdGhpcy5zaG93SnNvbk1vZGFsID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImZvcm1Gb3JFZGl0IiwgIiIpOw0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJmb3JtTmFtZUNoYW5nZWQiLCAiIik7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICJjcmVhdGVGb3JtIiwgcXVlcnk6IHsgbmFtZTogbmFtZSwgbGFiZWw6IGxhYmVsLCBhY3Rpb246ICJjcmVhdGUifSB9KTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgZWRpdEZvcm0obmFtZSxsYWJlbCl7ICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgZ2V0RmllbGQgPSB0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ10uZmlsdGVyKChub2RlKSA9PiBub2RlLmZvcm1OYW1lID09PSBuYW1lKVswXTsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiZm9ybUZvckVkaXQiLCBKU09OLnN0cmluZ2lmeShnZXRGaWVsZCkpOw0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJmb3JtTmFtZUNoYW5nZWQiLCAiIik7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICJjcmVhdGVGb3JtIiwgcXVlcnk6IHsgbmFtZTogbmFtZSwgbGFiZWw6IGxhYmVsLCBhY3Rpb246ICJlZGl0In0gfSk7DQogICAgICAgIH0sDQogICAgICAgIG9wZW5EZWxldGVNb2RlbChuYW1lLGxhYmVsLGluZGV4KXsNCiAgICAgICAgDQogICAgICAgICAgICB0aGlzLnNhdmVDdXJyZW50T2JqPSB7ImZvcm1OYW1lIjogbmFtZSwgImxhYmVsIjogbGFiZWwsICJpbmRleCI6aW5kZXh9Ow0KICAgICAgICAgICAgdGhpcy5tb2RhbFRpdGxlID0gIkRlbGV0ZSBmb3JtIC0gIit0aGlzLmpzb25QYXJzZWRbInBhZ2VzIl1baW5kZXhdWyJsYWJlbCJdWyJkZWZhdWx0Il07DQogICAgICAgICAgICB0aGlzLm1vZGFsQ29udGVudCA9ICJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgZm9ybT8iOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLnNob3dEZWxldGVGb3JtTW9kYWwgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUZvcm0oKXsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGhpcy5qc29uUGFyc2VkWyJwYWdlcyJdLnNwbGljZSh0aGlzLnNhdmVDdXJyZW50T2JqLmluZGV4LDEpOw0KICAgICAgICAgICAgLy90aGlzLiRzdG9yZS5jb21taXQoImZvcm1CdWlsZEpzb24iLCBKU09OLnN0cmluZ2lmeSh0aGlzLmpzb25QYXJzZWQpKTsNCg0KICAgICAgICAgICAgdmFyIHNhdmVBcGkgPSB0aGlzLnNhdmVGb3JtQnVpbGRlcigidGVzdGVyIixKU09OLnN0cmluZ2lmeSh0aGlzLmpzb25QYXJzZWQpKTsNCiAgICAgICAgICAgIHNhdmVBcGkudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgICBpZihyZXMuc3RhdHVzPT0yMDApew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImZvcm1CdWlsZEpzb24iLCBKU09OLnN0cmluZ2lmeSh0aGlzLmpzb25QYXJzZWQpKTsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dGb3JtT3B0aW9ucyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5qc29uUGFyc2VkWydwYWdlcyddKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Zvcm1PcHRpb25zLnB1c2goeyJuYW1lIjp0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11baV1bJ2Zvcm1OYW1lJ10sImxhYmVsIjp0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11baV1bJ2xhYmVsJ11bJ2RlZmF1bHQnXSwiZWxlbWVudHMiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnZWxlbWVudHMnXSwiaW5kZXgiOiBpfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkpzb24gc2F2ZWQgdG8gc2VydmVyIHN1Y2Nlc3NmdWxseSEiKTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkZhaWxlZCB0byBzYXZlIGpzb24gdG8gc2VydmVyLiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICB0aGlzLnNob3dEZWxldGVGb3JtTW9kYWwgPSBmYWxzZTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgY2xvc2VEZWxldGVNb2RhbENhbmNlbChib29sKXsNCiAgICAgICAgICAgIHRoaXMuc2hvd0RlbGV0ZUZvcm1Nb2RhbCA9IGJvb2w7DQogICAgICAgICAgICByZXR1cm4gYm9vbDsNCiAgICAgICAgfSwNCiAgICAgICAgY2xvc2VBZGROYW1lTW9kYWxDYW5jZWwoYm9vbCl7DQogICAgICAgICAgICB0aGlzLnNob3dKc29uTW9kYWwgPSBib29sOw0KICAgICAgICAgICAgcmV0dXJuIGJvb2w7DQogICAgICAgIH0sDQogICAgICAgIGNsb3NlRWRpdEdyb3VwTW9kYWxDYW5jZWwoYm9vbCl7DQogICAgICAgICAgICB0aGlzLnNob3dFZGl0R3JvdXBOYW1lTW9kYWwgPSBib29sOw0KICAgICAgICAgICAgcmV0dXJuIGJvb2w7DQogICAgICAgIH0sDQogICAgICAgIGVkaXRHcm91cE5hbWUobGFiZWwsbmFtZSl7DQogICAgICAgICAgICB0aGlzLmpzb25QYXJzZWRbInBhZ2VzIl1bdGhpcy5zYXZlQ3VycmVudE9iai5pbmRleF1bImZvcm1OYW1lIl0gPSBuYW1lOw0KICAgICAgICAgICAgdGhpcy5qc29uUGFyc2VkWyJwYWdlcyJdW3RoaXMuc2F2ZUN1cnJlbnRPYmouaW5kZXhdWyJsYWJlbCJdWyJkZWZhdWx0Il0gPSBsYWJlbDsgDQogICAgICAgICAgICAvL3RoaXMuJHN0b3JlLmNvbW1pdCgiZm9ybUJ1aWxkSnNvbiIsIEpTT04uc3RyaW5naWZ5KHRoaXMuanNvblBhcnNlZCkpOw0KDQogICAgICAgICAgICB2YXIgc2F2ZUFwaSA9IHRoaXMuc2F2ZUZvcm1CdWlsZGVyKCJ0ZXN0ZXIiLEpTT04uc3RyaW5naWZ5KHRoaXMuanNvblBhcnNlZCkpOw0KICAgICAgICAgICAgc2F2ZUFwaS50aGVuKHJlcz0+ew0KICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXM9PTIwMCl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiZm9ybUJ1aWxkSnNvbiIsIEpTT04uc3RyaW5naWZ5KHRoaXMuanNvblBhcnNlZCkpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dGb3JtT3B0aW9ucyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5qc29uUGFyc2VkWydwYWdlcyddKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Zvcm1PcHRpb25zLnB1c2goeyJuYW1lIjp0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11baV1bJ2Zvcm1OYW1lJ10sImxhYmVsIjp0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11baV1bJ2xhYmVsJ11bJ2RlZmF1bHQnXSwiZm9ybXMiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnZm9ybXMnXSwiaW5kZXgiOiBpfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkpzb24gc2F2ZWQgdG8gc2VydmVyIHN1Y2Nlc3NmdWxseSEiKTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIkZhaWxlZCB0byBzYXZlIGpzb24gdG8gc2VydmVyLiIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB0aGlzLnNob3dFZGl0R3JvdXBOYW1lTW9kYWwgPSBmYWxzZTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgb3BlbkFkZE5ld0dyb3VwTW9kZWwoKXsNCiAgICAgICAgICAgIHRoaXMubW9kYWxUaXRsZSA9ICJBZGQgbmV3IGZvcm0iOw0KICAgICAgICAgICAgdGhpcy5tb2RhbENvbnRlbnQgPSAiIjsNCg0KICAgICAgICAgICAgdGhpcy5mb3JtTmFtZUFycmF5ID0gW107DQogICAgICAgICAgICBmb3IodmFyIGogaW4gdGhpcy5qc29uUGFyc2VkWydwYWdlcyddKXsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1OYW1lQXJyYXkucHVzaCh0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11bal1bJ2Zvcm1OYW1lJ10udG9Mb3dlckNhc2UoKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHRoaXMuc2hvd0FkZEdyb3VwTW9kYWwgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGNsb3NlQWRkR3JvdXBNb2RhbENhbmNlbChib29sKXsNCiAgICAgICAgICAgIHRoaXMuc2hvd0FkZEdyb3VwTW9kYWwgPSBib29sOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICBhZGROZXdHcm91cChuYW1lLGxhYmVsKXsNCiAgICAgICAgICAgIGxldCBuZXdHcm91cCA9IHsiZm9ybU5hbWUiOiBuYW1lLCAibGFiZWwiOnsiZGVmYXVsdCI6IGxhYmVsLCAiemhUdyI6IiJ9LCAiZWxlbWVudHMiOltdfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZih0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ10gJiYgdGhpcy5qc29uUGFyc2VkWydwYWdlcyddLmxlbmd0aD4wKXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidG8gYWRkIikNCiAgICAgICAgICAgICAgICB0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ10ucHVzaChuZXdHcm91cCk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidG8gY3JlYXRlIikNCiAgICAgICAgICAgICAgICB0aGlzLmpzb25QYXJzZWQgPSB7fTsNCiAgICAgICAgICAgICAgICB0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ10gPSBbXTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIHRoaXMuanNvblBhcnNlZFsncGFnZXMnXS5wdXNoKG5ld0dyb3VwKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIHNhdmVBcGkgPSB0aGlzLnNhdmVGb3JtQnVpbGRlcigidGVzdGVyIixKU09OLnN0cmluZ2lmeSh0aGlzLmpzb25QYXJzZWQpKTsNCiAgICAgICAgICAgIHNhdmVBcGkudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgICBpZihyZXMuc3RhdHVzPT0yMDApew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dGb3JtT3B0aW9ucyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5qc29uUGFyc2VkWydwYWdlcyddKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Zvcm1PcHRpb25zLnB1c2goeyJuYW1lIjp0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11baV1bJ2Zvcm1OYW1lJ10sImxhYmVsIjp0aGlzLmpzb25QYXJzZWRbJ3BhZ2VzJ11baV1bJ2xhYmVsJ11bJ2RlZmF1bHQnXSwiZWxlbWVudHMiOnRoaXMuanNvblBhcnNlZFsncGFnZXMnXVtpXVsnZWxlbWVudHMnXSwiaW5kZXgiOiBpfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImZvcm1CdWlsZEpzb24iLCBKU09OLnN0cmluZ2lmeSh0aGlzLmpzb25QYXJzZWQpKTsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImZvcm1Gb3JFZGl0IiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImZvcm1OYW1lQ2hhbmdlZCIsICIiKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiY3JlYXRlRm9ybSIsIHF1ZXJ5OiB7IG5hbWU6IG5hbWUsIGxhYmVsOiBsYWJlbCwgYWN0aW9uOiAiY3JlYXRlIn0gfSk7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJKc29uIHNhdmVkIHRvIHNlcnZlciBzdWNjZXNzZnVsbHkhIik7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJGYWlsZWQgdG8gc2F2ZSBqc29uIHRvIHNlcnZlci4iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgdGhpcy5zaG93QWRkR3JvdXBNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogIH0sDQogIGNvbXB1dGVkOnsNCg0KICB9LA0KICB3YXRjaDp7DQoNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Builder.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Builder.vue","sourceRoot":"src/views","sourcesContent":["<script>\r\nimport Modal from \"@/components/Modal.vue\";\r\nimport ApiService from \"@/mixins/apiService\";\r\nexport default {\r\n  name: \"builder\",\r\n  components: {\r\n    Modal\r\n  },\r\n  mixins:[ApiService],\r\n  data: function(){\r\n      return{\r\n            title: \"This is builder\",\r\n            jsonFormatted: null,\r\n            showFormOptions: [],\r\n            errMsg: \"\",\r\n            hasErr: false,\r\n            jsonParsed: {},\r\n            showJsonModal: false,\r\n            showDeleteFormModal: false,\r\n            showEditGroupNameModal: false,\r\n            modalTitle: \"\",\r\n            modalContent: \"\",\r\n            selectFormParents: \"\",\r\n            selectFormParentsLabel: \"\",\r\n            formNameArray: [],\r\n            saveCurrentObj: {},\r\n            showAddGroupModal: false\r\n           \r\n      } \r\n  },\r\n  created: function(){\r\n        this.jsonFormatted = this.$store.state['formBuildJson'];\r\n        console.log(\"running builder\",this.jsonFormatted);\r\n\r\n        if(this.jsonFormatted){\r\n            this.jsonParsed = JSON.parse(this.jsonFormatted);\r\n            this.hasErr = false;\r\n            if(this.jsonParsed['pages']){\r\n                for(var i in this.jsonParsed['pages']){\r\n                    this.showFormOptions.push({\"name\":this.jsonParsed['pages'][i]['formName'],\"label\":this.jsonParsed['pages'][i]['label']['default'],\"forms\":this.jsonParsed['pages'][i]['elements'],\"index\": i});\r\n                }\r\n            }else{\r\n                this.hasErr = true;\r\n                this.errMsg = \"Invalid Json, Please check the sample!\";\r\n            }\r\n            \r\n        }else{\r\n           // this.hasErr = true;\r\n            //this.errMsg = \"Invalid Json, Please check the sample!\";\r\n            var loadApi = this.loadFormBuilder(\"tester\");\r\n            loadApi.then(res=>{\r\n                if(res.status==200){\r\n                    if(res.data.returnCode!==\"MO00201\"){\r\n                        if(res.data.formList!=\"\"){\r\n                            this.$store.commit(\"formBuildJson\", res.data.formList);\r\n                            this.jsonFormatted = this.$store.state['formBuildJson'];\r\n\r\n                            this.jsonParsed = JSON.parse(this.jsonFormatted);\r\n                            this.hasErr = false;\r\n                            if(this.jsonParsed['pages']){\r\n                                for(var i in this.jsonParsed['pages']){\r\n                                    this.showFormOptions.push({\"name\":this.jsonParsed['pages'][i]['formName'],\"label\":this.jsonParsed['pages'][i]['label']['default'],\"forms\":this.jsonParsed['pages'][i]['elements'],\"index\": i});\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }else{\r\n                    alert(\"Server error.\");\r\n                }\r\n            });\r\n        }\r\n  },\r\n  methods: {\r\n        openModel(bool,type,name,label,index){\r\n            if(type==\"add\"){\r\n                this.modalTitle = \"Add new form\";\r\n                this.modalContent = \"\";\r\n                this.selectFormParents = name;\r\n                this.selectFormParentsLabel = label;\r\n\r\n                this.formNameArray = [];\r\n                for(var i in this.jsonParsed['pages']){\r\n                    this.formNameArray.push(this.jsonParsed['pages'][i]['formName'].toLowerCase());\r\n                }\r\n\r\n                this.showJsonModal = bool;\r\n                return bool;\r\n            }else if(type==\"edit\"){\r\n                this.modalTitle = \"Edit group name - \"+label;\r\n                this.modalContent = \"\";\r\n                this.selectFormParents = name;\r\n                this.selectFormParentsLabel = label;\r\n                this.saveCurrentObj= {\"index\": index};\r\n                this.formNameArray = [];\r\n                for(var j in this.jsonParsed['pages']){\r\n                    this.formNameArray.push(this.jsonParsed['pages'][j]['formName'].toLowerCase());\r\n                }\r\n\r\n                this.showEditGroupNameModal = bool;\r\n                return bool;\r\n\r\n            }\r\n        },\r\n        getFormName(name,label){\r\n            this.showJsonModal = false;\r\n            this.$store.commit(\"formForEdit\", \"\");\r\n            this.$store.commit(\"formNameChanged\", \"\");\r\n            this.$router.push({ path: \"createForm\", query: { name: name, label: label, action: \"create\"} });\r\n            return false;\r\n        },\r\n        editForm(name,label){            \r\n            let getField = this.jsonParsed['pages'].filter((node) => node.formName === name)[0];\r\n            this.$store.commit(\"formForEdit\", JSON.stringify(getField));\r\n            this.$store.commit(\"formNameChanged\", \"\");\r\n            this.$router.push({ path: \"createForm\", query: { name: name, label: label, action: \"edit\"} });\r\n        },\r\n        openDeleteModel(name,label,index){\r\n        \r\n            this.saveCurrentObj= {\"formName\": name, \"label\": label, \"index\":index};\r\n            this.modalTitle = \"Delete form - \"+this.jsonParsed[\"pages\"][index][\"label\"][\"default\"];\r\n            this.modalContent = \"Are you sure you want to delete this form?\";\r\n            \r\n            this.showDeleteFormModal = true;\r\n            return true;\r\n        },\r\n        deleteForm(){\r\n            \r\n            this.jsonParsed[\"pages\"].splice(this.saveCurrentObj.index,1);\r\n            //this.$store.commit(\"formBuildJson\", JSON.stringify(this.jsonParsed));\r\n\r\n            var saveApi = this.saveFormBuilder(\"tester\",JSON.stringify(this.jsonParsed));\r\n            saveApi.then(res=>{\r\n                if(res.status==200){\r\n                    this.$store.commit(\"formBuildJson\", JSON.stringify(this.jsonParsed));\r\n\r\n                    this.showFormOptions = [];\r\n                    for(var i in this.jsonParsed['pages']){\r\n                        this.showFormOptions.push({\"name\":this.jsonParsed['pages'][i]['formName'],\"label\":this.jsonParsed['pages'][i]['label']['default'],\"elements\":this.jsonParsed['pages'][i]['elements'],\"index\": i});\r\n                    }\r\n                    alert(\"Json saved to server successfully!\");\r\n                }else{\r\n                    alert(\"Failed to save json to server.\");\r\n                }\r\n            });\r\n            \r\n            this.showDeleteFormModal = false;\r\n            return false;\r\n        },\r\n        closeDeleteModalCancel(bool){\r\n            this.showDeleteFormModal = bool;\r\n            return bool;\r\n        },\r\n        closeAddNameModalCancel(bool){\r\n            this.showJsonModal = bool;\r\n            return bool;\r\n        },\r\n        closeEditGroupModalCancel(bool){\r\n            this.showEditGroupNameModal = bool;\r\n            return bool;\r\n        },\r\n        editGroupName(label,name){\r\n            this.jsonParsed[\"pages\"][this.saveCurrentObj.index][\"formName\"] = name;\r\n            this.jsonParsed[\"pages\"][this.saveCurrentObj.index][\"label\"][\"default\"] = label; \r\n            //this.$store.commit(\"formBuildJson\", JSON.stringify(this.jsonParsed));\r\n\r\n            var saveApi = this.saveFormBuilder(\"tester\",JSON.stringify(this.jsonParsed));\r\n            saveApi.then(res=>{\r\n                if(res.status==200){\r\n                    this.$store.commit(\"formBuildJson\", JSON.stringify(this.jsonParsed));\r\n                    this.showFormOptions = [];\r\n                    for(var i in this.jsonParsed['pages']){\r\n                        this.showFormOptions.push({\"name\":this.jsonParsed['pages'][i]['formName'],\"label\":this.jsonParsed['pages'][i]['label']['default'],\"forms\":this.jsonParsed['pages'][i]['forms'],\"index\": i});\r\n                    }\r\n                    alert(\"Json saved to server successfully!\");\r\n                }else{\r\n                    alert(\"Failed to save json to server.\");\r\n                }\r\n            });\r\n\r\n            this.showEditGroupNameModal = false;\r\n            return false;\r\n        },\r\n        openAddNewGroupModel(){\r\n            this.modalTitle = \"Add new form\";\r\n            this.modalContent = \"\";\r\n\r\n            this.formNameArray = [];\r\n            for(var j in this.jsonParsed['pages']){\r\n                this.formNameArray.push(this.jsonParsed['pages'][j]['formName'].toLowerCase());\r\n            }\r\n            \r\n            this.showAddGroupModal = true;\r\n            return true;\r\n        },\r\n        closeAddGroupModalCancel(bool){\r\n            this.showAddGroupModal = bool;\r\n            return false;\r\n        },\r\n        addNewGroup(name,label){\r\n            let newGroup = {\"formName\": name, \"label\":{\"default\": label, \"zhTw\":\"\"}, \"elements\":[]}\r\n            \r\n            if(this.jsonParsed['pages'] && this.jsonParsed['pages'].length>0){\r\n                console.log(\"to add\")\r\n                this.jsonParsed['pages'].push(newGroup);\r\n            }else{\r\n                console.log(\"to create\")\r\n                this.jsonParsed = {};\r\n                this.jsonParsed['pages'] = [];\r\n            \r\n                this.jsonParsed['pages'].push(newGroup);\r\n            }\r\n\r\n            var saveApi = this.saveFormBuilder(\"tester\",JSON.stringify(this.jsonParsed));\r\n            saveApi.then(res=>{\r\n                if(res.status==200){\r\n                    this.showFormOptions = [];\r\n                    for(var i in this.jsonParsed['pages']){\r\n                        this.showFormOptions.push({\"name\":this.jsonParsed['pages'][i]['formName'],\"label\":this.jsonParsed['pages'][i]['label']['default'],\"elements\":this.jsonParsed['pages'][i]['elements'],\"index\": i});\r\n                    }\r\n\r\n                    this.$store.commit(\"formBuildJson\", JSON.stringify(this.jsonParsed));\r\n\r\n                    this.$store.commit(\"formForEdit\", \"\");\r\n                    this.$store.commit(\"formNameChanged\", \"\");\r\n                    this.$router.push({ path: \"createForm\", query: { name: name, label: label, action: \"create\"} });\r\n                    alert(\"Json saved to server successfully!\");\r\n                }else{\r\n                    alert(\"Failed to save json to server.\");\r\n                }\r\n            });\r\n\r\n            this.showAddGroupModal = false;\r\n            return false;\r\n        }\r\n  },\r\n  computed:{\r\n\r\n  },\r\n  watch:{\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n    <div class=\"builder\">\r\n        <modal :show=\"showDeleteFormModal\" :name=\"'deleteFormModel'\" :buttonName=\"'OK'\"  :title=\"modalTitle\" :content=\"modalContent\" @closeModal=\"deleteForm\" @closeModalCancel=\"closeDeleteModalCancel\"></modal>\r\n        <modal :show=\"showJsonModal\" :name=\"'addFormModel'\" :buttonName=\"'OK'\" :fieldNameArray=\"formNameArray\" :title=\"modalTitle\" :content=\"modalContent\" @closeModal=\"getFormName\" @closeModalCancel=\"closeAddNameModalCancel\"></modal>\r\n        <modal :show=\"showAddGroupModal\" :name=\"'addGroupModel'\" :buttonName=\"'OK'\" :title=\"modalTitle\" :fieldNameArray=\"formNameArray\" :content=\"modalContent\" @closeModal=\"addNewGroup\" @closeModalCancel=\"closeAddGroupModalCancel\"></modal>\r\n        <modal :show=\"showEditGroupNameModal\" :name=\"'editGroupNameModel'\" :buttonName=\"'OK'\" :fieldNameArray=\"formNameArray\" :title=\"modalTitle\" :content=\"modalContent\" @closeModal=\"editGroupName\" @closeModalCancel=\"closeEditGroupModalCancel\"></modal>\r\n        <div v-if=\"jsonFormatted && showFormOptions.length>0\" class=\"builder-form-class\">\r\n            <p style=\"text-decoration:underline; color:#00AEEF; cursor: pointer;\" @click=\"openAddNewGroupModel()\">Add new form</p>\r\n            <div class=\"create-form-container\" v-for=\"(option,index) in showFormOptions\" :key=\"index\">\r\n                <div class=\"form-name\" style=\"display:inline-flex;\"> \r\n                    <div class=\"name\">{{option.label}}</div>\r\n                    <!--<div class=\"function\" style=\"text-decoration:underline; color:#00AEEF; font-weight:400; margin-left: 5px; cursor: pointer;\" v-on:click=\"openModel(true,'edit',option.name,option.label,option.index)\">Edit name</div>-->\r\n                    <div class=\"function\" style=\"text-decoration:underline; color:#00AEEF; font-weight:400; margin-left: 5px; cursor: pointer;\" v-on:click=\"editForm(option.name,option.label)\">Edit</div>\r\n                    <div class=\"function\" style=\"text-decoration:underline; color:#00AEEF; font-weight:400; margin-left: 5px; cursor: pointer;\" v-on:click=\"openDeleteModel(option.name,option.label,index)\">Delete</div>\r\n                </div>\r\n            </div> \r\n        </div>\r\n        <div v-else>\r\n            <p>Please enter a Json from Editor page Or <span style=\"text-decoration:underline; color:#00AEEF; cursor: pointer;\" @click=\"openAddNewGroupModel()\">Add Form Here</span></p> \r\n        </div>\r\n    </div>\r\n</template>"]}]}