{"remainingRequest":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antonyching/Desktop/project/new-builder-demo/src/components/Modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antonyching/Desktop/project/new-builder-demo/src/components/Modal.vue","mtime":1581685191000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antonyching/Desktop/project/new-builder-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgVnVlIGZyb20gInZ1ZSI7DQppbXBvcnQgQ0tFZGl0b3IgZnJvbSAnQGNrZWRpdG9yL2NrZWRpdG9yNS12dWUnOw0KaW1wb3J0IENsYXNzaWNFZGl0b3IgZnJvbSAnQC9jb21wb25lbnRzL2NrZWRpdG9yJzsNClZ1ZS51c2UoIENLRWRpdG9yICk7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgIGNvbXBvbmVudHM6IHsgY2tlZGl0b3I6IENLRWRpdG9yLmNvbXBvbmVudCB9LA0KICAgbmFtZTogIm1vZGFsIiwNCiAgIHByb3BzOiB7DQogICAgc2hvdzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgdHdvV2F5OiB0cnVlICANCiAgICB9LA0KICAgIG5hbWU6ew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgIH0sDQogICAgdGl0bGU6ew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgIH0sDQogICAgY29udGVudDp7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfSwNCiAgICBidXR0b25OYW1lOnsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwNCiAgICB9LA0KICAgIGZpZWxkTmFtZUFycmF5OnsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgcmVxdWlyZWQ6IGZhbHNlLA0KICAgIH0sDQogICAgZmllbGRWYWx1ZTp7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICByZXF1aXJlZDogZmFsc2UsDQogICAgfSwNCiAgfSwNCiAgY3JlYXRlZCgpew0KICAgIGlmKHRoaXMubmFtZT09J2NoYW5nZU5hbWVNb2RlbCcgfHwgdGhpcy5uYW1lPT0nYWRkRm9ybU1vZGVsJyB8fCB0aGlzLm5hbWU9PSdhZGRHcm91cE1vZGVsJyB8fCB0aGlzLm5hbWU9PSdlZGl0RmllbGRNb2RlbCcgfHwgdGhpcy5uYW1lPT0nZGVsZXRlRm9ybU1vZGVsJyB8fCB0aGlzLm5hbWU9PSdlZGl0R3JvdXBOYW1lTW9kZWwnIHx8IHRoaXMubmFtZT09J2VkaXRGb3JtTmFtZU1vZGVsJyl7DQogICAgICB0aGlzLmhhc0NhbmNlbCA9IHRydWU7DQogICAgfWVsc2V7DQogICAgICB0aGlzLmhhc0NhbmNlbCA9IGZhbHNlOw0KICAgIH0NCiAgfSwNCiAgZGF0YTpmdW5jdGlvbigpew0KICAgIHJldHVybnsNCiAgICAgIGFkZEZvcm1OYW1lOiAiIiwNCiAgICAgIGVkaXRHcm91cE5hbWU6ICIiLA0KICAgICAgY3JlYXRlRmllbGROYW1lOiAiIiwNCiAgICAgIGlzRm9ybU5hbWVOb3RWYWxpZDogZmFsc2UsDQogICAgICBoYXNDYW5jZWw6IGZhbHNlLA0KICAgICAgZHVwbGljYXRlRmllbGROYW1lOiBmYWxzZSwNCiAgICAgIGR1cGxpY2F0ZUZvcm1OYW1lOiBmYWxzZSwNCiAgICAgIGNoZWNrSXNSZXF1aXJlZDogZmFsc2UsDQogICAgICBpc09wdGlvbkR1cGxpY2F0ZWQ6IGZhbHNlLA0KICAgICAgb3B0aW9uTGlzdEVkaXQ6IFtdLA0KICAgICAgZHluYW1pY1BhbmVsTGlzdCA6bnVsbCwNCiAgICAgIGlzU3BlY2lhbENoYXJFeGlzdGVkT3JOdWxsOiBmYWxzZSwNCiAgICAgIGlzT3B0aW9uRW1wdHk6IGZhbHNlLA0KICAgICAgbWF4bGVuZ3RoVmFsOiBudWxsLA0KICAgICAgbWlubGVuZ3RoVmFsOiBudWxsLA0KICAgICAgbWluTGFyZ2VyVGhhbk1heDogZmFsc2UsDQogICAgICBtYXhPdmVyTGltaXQ6IGZhbHNlLA0KICAgICAgbnVtYmVyTm90VmFsaWRNYXg6IGZhbHNlLA0KICAgICAgbnVtYmVyTm90VmFsaWRNaW46IGZhbHNlLA0KICAgICAgaXNOdW1Ob3RWYWxpZDogZmFsc2UsDQogICAgICBtYXhWYWx1ZVZhbDogbnVsbCwNCiAgICAgIG1pblZhbHVlVmFsOiBudWxsLA0KICAgICAgY3JlYXRlRGF0ZUNvbmZpZzogIiIsDQogICAgICBodG1sVmFsdWU6ICIiLA0KICAgICAgZWRpdG9yOiBDbGFzc2ljRWRpdG9yLA0KICAgICAgZWRpdG9yQ29uZmlnOiB7fQ0KICAgIH0NCiAgfSwNCiAgbWV0aG9kcyA6IHsNCiAgICAgICAgY2xvc2VNb2RhbCgpIHsNCiAgICAgICAgICBzd2l0Y2godGhpcy5uYW1lKXsNCiAgICAgICAgICAgIGNhc2UgImRlbGV0ZUZvcm1Nb2RlbCI6DQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlTW9kYWwnLHRydWUpOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgImFkZEZvcm1Nb2RlbCI6DQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlTW9kYWwnLHRoaXMuc3BsaXRJbnB1dCh0aGlzLmFkZEZvcm1OYW1lKSwgdGhpcy5hZGRGb3JtTmFtZS5yZXBsYWNlKC9ccyokLywnJykpOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgImFkZEdyb3VwTW9kZWwiOg0KICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZU1vZGFsJyx0aGlzLnNwbGl0SW5wdXQodGhpcy5hZGRGb3JtTmFtZSksIHRoaXMuYWRkRm9ybU5hbWUucmVwbGFjZSgvXHMqJC8sJycpKTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJlZGl0R3JvdXBOYW1lTW9kZWwiOg0KICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdjbG9zZU1vZGFsJyx0aGlzLnNwbGl0SW5wdXQodGhpcy5lZGl0R3JvdXBOYW1lKSx0aGlzLmVkaXRHcm91cE5hbWUucmVwbGFjZSgvXHMqJC8sJycpKTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJlZGl0Rm9ybU5hbWVNb2RlbCI6DQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlTW9kYWwnLHRoaXMuc3BsaXRJbnB1dCh0aGlzLmVkaXRHcm91cE5hbWUpLHRoaXMuZWRpdEdyb3VwTmFtZS5yZXBsYWNlKC9ccyokLywnJykpOw0KICAgICAgICAgICAgICBicmVhazsgIA0KICAgICAgICAgICAgY2FzZSAiY2hhbmdlTmFtZU1vZGVsIjoNCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VNb2RhbCcse25hbWU6dGhpcy5zcGxpdElucHV0KHRoaXMuY3JlYXRlRmllbGROYW1lKSxpZDogdGhpcy5zcGxpdElucHV0KHRoaXMuY3JlYXRlRmllbGROYW1lKSwgbGFiZWw6IHtkZWZhdWx0OiB0aGlzLmNyZWF0ZUZpZWxkTmFtZS5yZXBsYWNlKC9ccyokLywnJyksIHpoVHc6IiJ9fSk7DQogICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAiZWRpdEZpZWxkTW9kZWwiOg0KICAgICAgICAgICAgICB2YXIgdHJhbnNtaXRPYmogPSB7ZmllbGROYW1lOnRoaXMuc3BsaXRJbnB1dCh0aGlzLmNyZWF0ZUZpZWxkTmFtZSksIGZpZWxkSWQ6IHRoaXMuc3BsaXRJbnB1dCh0aGlzLmNyZWF0ZUZpZWxkTmFtZSksIGZpZWxkTGFiZWw6IHtkZWZhdWx0OiB0aGlzLmNyZWF0ZUZpZWxkTmFtZS5yZXBsYWNlKC9ccyokLywnJyksIHpoVHc6IiJ9LGZpZWxkUmVxdWlyZWQ6IHRoaXMuY2hlY2tJc1JlcXVpcmVkfQ0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgDQogICAgICAgICAgICAgIGlmKHRoaXMuZmllbGRWYWx1ZVsnZmllbGRPcHRpb25zJ10pew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0T3B0aW9uTGlzdCgpOw0KICAgICAgICAgICAgICAgIHZhciByZXR1cm5PcHRpb25MaXN0ID0gW107DQogICAgICAgICAgICAgICAgZm9yKHZhciBpIGluIHRoaXMub3B0aW9uTGlzdEVkaXQpew0KICAgICAgICAgICAgICAgICAgcmV0dXJuT3B0aW9uTGlzdC5wdXNoKA0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgImlkIjogdGhpcy5vcHRpb25MaXN0RWRpdFtpXVsicmlkIl0sDQogICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB0aGlzLm9wdGlvbkxpc3RFZGl0W2ldWyJyTmFtZSJdLA0KICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IHRoaXMub3B0aW9uTGlzdEVkaXRbaV1bInJWYWx1ZSJdLA0KICAgICAgICAgICAgICAgICAgICAgICJsYWJlbCI6IHRoaXMub3B0aW9uTGlzdEVkaXRbaV1bInJMYWJlbCJdLA0KICAgICAgICAgICAgICAgICAgICAgICJjaGVja2VkIjogdGhpcy5vcHRpb25MaXN0RWRpdFtpXVsickNoZWNrZWQiXSwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdHJhbnNtaXRPYmpbJ2ZpZWxkT3B0aW9ucyddID0gcmV0dXJuT3B0aW9uTGlzdDsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGlmKHRoaXMuZmllbGRWYWx1ZVsnZmllbGRGaWVsZHMnXSl7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtYXREeW5hbWljTGlzdCh0cmFuc21pdE9iaik7DQogICAgICAgICAgICAgICAgdmFyIHJldHVybkRwTGlzdCA9IFtdOw0KICAgICAgICAgICAgICAgIGZvcih2YXIgaiBpbiB0aGlzLmR5bmFtaWNQYW5lbExpc3Qpew0KICAgICAgICAgICAgICAgICAgcmV0dXJuRHBMaXN0LnB1c2goDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAvLyJpZCI6IHRyYW5zbWl0T2JqWydmaWVsZElkJ10rcGFyc2VJbnQocGFyc2VJbnQoaikrMSksDQogICAgICAgICAgICAgICAgICAgICAgLy8ibmFtZSI6IHRyYW5zbWl0T2JqWydmaWVsZElkJ10rcGFyc2VJbnQocGFyc2VJbnQoaikrMSksDQogICAgICAgICAgICAgICAgICAgICAgImlkIjogdGhpcy5keW5hbWljUGFuZWxMaXN0W2pdWyJySWQiXSwNCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHRoaXMuZHluYW1pY1BhbmVsTGlzdFtqXVsick5hbWUiXSwNCiAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6IHRoaXMuZHluYW1pY1BhbmVsTGlzdFtqXVsiclR5cGUiXSwNCiAgICAgICAgICAgICAgICAgICAgICAibGFiZWwiOiB0aGlzLmR5bmFtaWNQYW5lbExpc3Rbal1bInJMYWJlbCJdLA0KICAgICAgICAgICAgICAgICAgICAgICJyZXF1aXJlZCI6IHRoaXMuZHluYW1pY1BhbmVsTGlzdFtqXVsiclJlcXVpcmVkIl0sDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRyYW5zbWl0T2JqWydmaWVsZEZpZWxkcyddID0gcmV0dXJuRHBMaXN0Ow0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgaWYodGhpcy5tYXhsZW5ndGhWYWwpew0KICAgICAgICAgICAgICAgIHRyYW5zbWl0T2JqWydmaWVsZE1heExlbmd0aCddID0gcGFyc2VJbnQodGhpcy5tYXhsZW5ndGhWYWwpOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgaWYodGhpcy5taW5sZW5ndGhWYWwpew0KICAgICAgICAgICAgICAgIHRyYW5zbWl0T2JqWydmaWVsZE1pbkxlbmd0aCddID0gcGFyc2VJbnQodGhpcy5taW5sZW5ndGhWYWwpOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgaWYodGhpcy5tYXhWYWx1ZVZhbCl7DQogICAgICAgICAgICAgICAgdHJhbnNtaXRPYmpbJ2ZpZWxkTWF4VmFsdWUnXSA9IHBhcnNlRmxvYXQodGhpcy5tYXhWYWx1ZVZhbCk7DQogICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICBpZih0aGlzLm1pblZhbHVlVmFsKXsNCiAgICAgICAgICAgICAgICB0cmFuc21pdE9ialsnZmllbGRNaW5WYWx1ZSddID0gcGFyc2VGbG9hdCh0aGlzLm1pblZhbHVlVmFsKTsNCiAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgIGlmKHRoaXMuY3JlYXRlRGF0ZUNvbmZpZyl7DQogICAgICAgICAgICAgICAgdHJhbnNtaXRPYmpbJ2ZpZWxkRGF0ZUNvbmZpZyddID0gdGhpcy5jcmVhdGVEYXRlQ29uZmlnOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgaWYodGhpcy5odG1sVmFsdWUpew0KICAgICAgICAgICAgICAgIHRyYW5zbWl0T2JqWydmaWVsZEh0bWwnXSA9IHRoaXMuaHRtbFZhbHVlOw0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VNb2RhbCcsdHJhbnNtaXRPYmopOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlTW9kYWwnLGZhbHNlKTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBmb3JtYXRPcHRpb25MaXN0KCl7ICAgDQogICAgICAgICAgZm9yKHZhciBpIGluIHRoaXMub3B0aW9uTGlzdEVkaXQpew0KICAgICAgICAgICAgdmFyIG9wdGlvblZhbCA9IHRoaXMub3B0aW9uTGlzdEVkaXRbaV1bJ3JWYWx1ZSddOw0KICAgICAgICAgICAgdmFyIHNBcnJheSA9IG9wdGlvblZhbC5zcGxpdCgiICIpOw0KICAgICAgICAgICAgdmFyIG5ld1ZhbCA9ICIiOw0KDQogICAgICAgICAgICBpZihzQXJyYXkubGVuZ3RoPjEpew0KICAgICAgICAgICAgICBmb3IodmFyIGogaW4gc0FycmF5KXsNCiAgICAgICAgICAgICAgICBpZihqPjApew0KICAgICAgICAgICAgICAgICAgc0FycmF5W2pdID0gc0FycmF5W2pdLnN1YnN0cmluZygwLDEpLnRvVXBwZXJDYXNlKCkgKyBzQXJyYXlbal0uc3Vic3RyaW5nKDEsc0FycmF5W2pdLmxlbmd0aCk7IC8vY2hhbmdlIHNlY29uZCBzdHJpbmcgdG8gdXBwZXJjYXNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIHNBcnJheVswXSA9IHNBcnJheVswXS5zdWJzdHJpbmcoMCwxKS50b0xvd2VyQ2FzZSgpK3NBcnJheVswXS5zdWJzdHJpbmcoMSxzQXJyYXlbMF0ubGVuZ3RoKTsgLy8gY2hhbmdlIGZpcnN0IHN0cmluZyB0byBsb3dlcmNhc2UNCiAgICAgICAgICAgICAgbmV3VmFsID0gc0FycmF5LmpvaW4oIiIpOw0KICAgICAgICAgICAgICBuZXdWYWwgPSBuZXdWYWwucmVwbGFjZSgvXHMrL2csICcnKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICBuZXdWYWwgPSBvcHRpb25WYWwuc3Vic3RyaW5nKDAsMSkudG9Mb3dlckNhc2UoKStvcHRpb25WYWwuc3Vic3RyaW5nKDEsb3B0aW9uVmFsLmxlbmd0aCk7DQogICAgICAgICAgICAgIG5ld1ZhbCA9IG5ld1ZhbC5yZXBsYWNlKC9ccysvZywgJycpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLm9wdGlvbkxpc3RFZGl0W2ldWydyTmFtZSddID0gbmV3VmFsOw0KICAgICAgICAgICAgdGhpcy5vcHRpb25MaXN0RWRpdFtpXVsncmlkJ10gPSBuZXdWYWw7DQogICAgICAgICAgICB0aGlzLm9wdGlvbkxpc3RFZGl0W2ldWydyTGFiZWwnXVsnZGVmYXVsdCddID0gdGhpcy5vcHRpb25MaXN0RWRpdFtpXVsnclZhbHVlJ107DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBmb3JtYXREeW5hbWljTGlzdChvYmopeyAgIA0KICAgICAgICAgIGNvbnNvbGUubG9nKCJmb3JtYXQgb2JqIiwgb2JqKQ0KICAgICAgICAgIGNvbnNvbGUubG9nKCJmb3JtYXQgZCBsaXN0IiwgdGhpcy5keW5hbWljUGFuZWxMaXN0KQ0KICAgICAgICAgIC8vZGVidWdnZXI7DQogICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICBjbG9zZU1vZGFsQ2FuY2VsKCl7DQogICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VNb2RhbENhbmNlbCcsZmFsc2UpOw0KICAgICAgICB9LA0KICAgICAgICBjaGVja0Zvcm1OYW1lKCl7DQogICAgICAgICAgLyppZighL1teYS16QS1aMC05XS8udGVzdCh0aGlzLmFkZEZvcm1OYW1lKSAmJiB0aGlzLmFkZEZvcm1OYW1lLmxlbmd0aD4wKSB7DQogICAgICAgICAgICAgIHRoaXMuaXNGb3JtTmFtZU5vdFZhbGlkID0gZmFsc2U7DQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgIHRoaXMuaXNGb3JtTmFtZU5vdFZhbGlkID0gdHJ1ZTsNCiAgICAgICAgICB9Ki8NCiAgICAgICAgICBsZXQgdGVzdFN0cmluZyA9IHRoaXMuc3BsaXRJbnB1dCh0aGlzLmFkZEZvcm1OYW1lKTsNCiAgICAgICAgICBpZih0ZXN0U3RyaW5nLmxlbmd0aD4wICYmIC9eW0EtWmEtejAtOSBdKyQvLnRlc3QodGVzdFN0cmluZykpIHsNCiAgICAgICAgICAgICAgdGhpcy5pc1NwZWNpYWxDaGFyRXhpc3RlZE9yTnVsbCA9IGZhbHNlOw0KICAgICAgICAgICAgICBpZih0aGlzLmZpZWxkTmFtZUFycmF5LmluY2x1ZGVzKCh0ZXN0U3RyaW5nLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoL1xzKiQvLCcnKSkpew0KICAgICAgICAgICAgICAgIHRoaXMuaXNGb3JtTmFtZU5vdFZhbGlkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZvcm1OYW1lID0gdHJ1ZTsNCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZvcm1OYW1lID0gZmFsc2U7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZvcm1OYW1lID0gZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMuaXNTcGVjaWFsQ2hhckV4aXN0ZWRPck51bGwgPSB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tHcm91cE5hbWUoKXsNCg0KICAgICAgICAgIGxldCB0ZXN0U3RyaW5nID0gdGhpcy5zcGxpdElucHV0KHRoaXMuZWRpdEdyb3VwTmFtZSk7DQoNCiAgICAgICAgICBpZih0ZXN0U3RyaW5nLmxlbmd0aD4wICYmIC9eW0EtWmEtejAtOSBdKyQvLnRlc3QodGVzdFN0cmluZykpIHsNCiAgICAgICAgICAgICAgdGhpcy5pc1NwZWNpYWxDaGFyRXhpc3RlZE9yTnVsbCA9IGZhbHNlOw0KICAgICAgICAgICAgICBpZih0aGlzLmZpZWxkTmFtZUFycmF5LmluY2x1ZGVzKCh0ZXN0U3RyaW5nLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoL1xzKiQvLCcnKSkpew0KICAgICAgICAgICAgICAgIHRoaXMuaXNGb3JtTmFtZU5vdFZhbGlkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZvcm1OYW1lID0gdHJ1ZTsNCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZvcm1OYW1lID0gZmFsc2U7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZvcm1OYW1lID0gZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMuaXNTcGVjaWFsQ2hhckV4aXN0ZWRPck51bGwgPSB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgc3BsaXRJbnB1dChuYW1lKXsNCiAgICAgICAgICB2YXIgc0FycmF5ID0gbmFtZS5zcGxpdCgiICIpOw0KICAgICAgICAgIGlmKHNBcnJheS5sZW5ndGg+MSl7DQogICAgICAgICAgICBmb3IodmFyIGkgaW4gc0FycmF5KXsNCiAgICAgICAgICAgICAgaWYoaT4wKXsNCiAgICAgICAgICAgICAgICBzQXJyYXlbaV0gPSBzQXJyYXlbaV0uc3Vic3RyaW5nKDAsMSkudG9VcHBlckNhc2UoKSArIHNBcnJheVtpXS5zdWJzdHJpbmcoMSxzQXJyYXlbaV0ubGVuZ3RoKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgc0FycmF5WzBdID0gc0FycmF5WzBdLnN1YnN0cmluZygwLDEpLnRvTG93ZXJDYXNlKCkrc0FycmF5WzBdLnN1YnN0cmluZygxLHNBcnJheVswXS5sZW5ndGgpOw0KICAgICAgICAgICAgbmFtZSA9IHNBcnJheS5qb2luKCIiKTsNCiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xzKy9nLCAnJyk7DQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoMCwxKS50b0xvd2VyQ2FzZSgpK25hbWUuc3Vic3RyaW5nKDEsbmFtZS5sZW5ndGgpOw0KICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXHMrL2csICcnKTsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICByZXR1cm4gbmFtZTsNCg0KICAgICAgICB9LA0KICAgICAgICBjaGVja0ZpZWxkTmFtZSgpew0KDQogICAgICAgICAgbGV0IHRlc3RTdHJpbmcgPSB0aGlzLnNwbGl0SW5wdXQodGhpcy5jcmVhdGVGaWVsZE5hbWUpOw0KDQogICAgICAgICAgaWYodGVzdFN0cmluZy5sZW5ndGg+MCAmJiAvXltBLVphLXowLTkgXSskLy50ZXN0KHRlc3RTdHJpbmcpKSB7DQogICAgICAgICAgICAgIHRoaXMuaXNTcGVjaWFsQ2hhckV4aXN0ZWRPck51bGwgPSBmYWxzZTsNCiAgICAgICAgICAgICAgaWYodGhpcy5maWVsZE5hbWVBcnJheS5pbmNsdWRlcygodGVzdFN0cmluZy50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKC9ccyokLywnJykpKXsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRm9ybU5hbWVOb3RWYWxpZCA9IHRydWU7DQogICAgICAgICAgICAgICAgdGhpcy5kdXBsaWNhdGVGaWVsZE5hbWUgPSB0cnVlOw0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLmlzRm9ybU5hbWVOb3RWYWxpZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHRoaXMuZHVwbGljYXRlRmllbGROYW1lID0gZmFsc2U7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZUZpZWxkTmFtZSA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLmlzU3BlY2lhbENoYXJFeGlzdGVkT3JOdWxsID0gdHJ1ZTsNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNoZWNrT3B0aW9uTmFtZShpbmRleCl7DQogICAgICAgICAgY29uc29sZS5sb2coImNoZWNrIGluZGV4IixpbmRleCk7DQogICAgICAgICAgdmFyIG5hbWVBcnJheSA9IFtdOw0KICAgICAgICAgIGZvcih2YXIgaSBpbiB0aGlzLm9wdGlvbkxpc3RFZGl0KXsNCiAgICAgICAgICAgIG5hbWVBcnJheS5wdXNoKHRoaXMub3B0aW9uTGlzdEVkaXRbaV1bJ3JMYWJlbCddWydkZWZhdWx0J10ucmVwbGFjZSgvXHMrL2csICcnKSk7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgdmFyIGlzRHVwID0gdGhpcy5oYXNEdXBsaWNhdGVzSW5BcnJheShuYW1lQXJyYXkpOw0KICAgICAgICAgIHZhciBoYXNTY09yTnVsbCA9IHRoaXMuaGFzU2NPck51bGxJbkFycmF5KG5hbWVBcnJheSk7DQoNCiAgICAgICAgICBpZihoYXNTY09yTnVsbC5pbmNsdWRlcyhmYWxzZSkgfHwgaXNEdXApew0KICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgICAgaWYoaXNEdXApew0KICAgICAgICAgICAgICB0aGlzLmlzT3B0aW9uRHVwbGljYXRlZCA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihoYXNTY09yTnVsbC5pbmNsdWRlcyhmYWxzZSkpew0KICAgICAgICAgICAgICB0aGlzLmlzU3BlY2lhbENoYXJFeGlzdGVkT3JOdWxsID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHRoaXMuaXNGb3JtTmFtZU5vdFZhbGlkID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmlzT3B0aW9uRHVwbGljYXRlZCA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5pc1NwZWNpYWxDaGFyRXhpc3RlZE9yTnVsbCA9IGZhbHNlOw0KICAgICAgICAgIH0NCg0KICAgICAgICB9LA0KICAgICAgICBoYXNTY09yTnVsbEluQXJyYXkoYXJyYXkpew0KICAgICAgICAgIHZhciB2YWxpZGF0ZUFyciA9IFtdOw0KICAgICAgICAgIGZvcih2YXIgaSBpbiBhcnJheSl7DQogICAgICAgICAgICBpZigvXltBLVphLXowLTkgXSskLy50ZXN0KGFycmF5W2ldKSAmJiBhcnJheVtpXS5sZW5ndGg+MCl7DQogICAgICAgICAgICAgIHZhbGlkYXRlQXJyLnB1c2godHJ1ZSk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdmFsaWRhdGVBcnIucHVzaChmYWxzZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUFycjsNCiAgICAgICAgfSwNCiAgICAgICAgaGFzRHVwbGljYXRlc0luQXJyYXkoYXJyYXkpIHsNCiAgICAgICAgICByZXR1cm4gKG5ldyBTZXQoYXJyYXkpKS5zaXplICE9PSBhcnJheS5sZW5ndGg7DQogICAgICAgIH0sDQogICAgICAgIGFkZE9wdGlvbnMoKXsNCiAgICAgICAgICB2YXIgaW5kZXhOdW0gPSBwYXJzZUludCh0aGlzLm9wdGlvbkxpc3RFZGl0Lmxlbmd0aCkrMTsNCiAgICAgICAgICB0aGlzLm9wdGlvbkxpc3RFZGl0LnB1c2goeyJyaWQiOiJpdGVtIitpbmRleE51bSwgInJOYW1lIjoiaXRlbSIraW5kZXhOdW0sInJWYWx1ZSI6Iml0ZW0gIitpbmRleE51bSwgInJMYWJlbCI6eyJkZWZhdWx0IjoiSXRlbSAiK2luZGV4TnVtLCAiemhUdyI6IiJ9LCJyQ2hlY2tlZCI6ZmFsc2V9KTsNCg0KICAgICAgICAgIHZhciBuYW1lQXJyYXkgPSBbXTsNCiAgICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5vcHRpb25MaXN0RWRpdCl7DQogICAgICAgICAgICBuYW1lQXJyYXkucHVzaCh0aGlzLm9wdGlvbkxpc3RFZGl0W2ldWydyVmFsdWUnXS5yZXBsYWNlKC9ccysvZywgJycpKTsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICB2YXIgaXNEdXAgPSB0aGlzLmhhc0R1cGxpY2F0ZXNJbkFycmF5KG5hbWVBcnJheSk7DQogICAgICAgICAgdmFyIGhhc1NjT3JOdWxsID0gdGhpcy5oYXNTY09yTnVsbEluQXJyYXkobmFtZUFycmF5KTsNCg0KICAgICAgICAgIGlmKGhhc1NjT3JOdWxsLmluY2x1ZGVzKGZhbHNlKSB8fCBpc0R1cCl7DQogICAgICAgICAgICB0aGlzLmlzRm9ybU5hbWVOb3RWYWxpZCA9IHRydWU7DQogICAgICAgICAgICBpZihpc0R1cCl7DQogICAgICAgICAgICAgIHRoaXMuaXNPcHRpb25EdXBsaWNhdGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKGhhc1NjT3JOdWxsLmluY2x1ZGVzKGZhbHNlKSl7DQogICAgICAgICAgICAgIHRoaXMuaXNTcGVjaWFsQ2hhckV4aXN0ZWRPck51bGwgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuaXNPcHRpb25EdXBsaWNhdGVkID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmlzU3BlY2lhbENoYXJFeGlzdGVkT3JOdWxsID0gZmFsc2U7DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBkZWxldGVPcHRpb25zKGluZGV4KXsNCiAgICAgICAgICB0aGlzLm9wdGlvbkxpc3RFZGl0LnNwbGljZShpbmRleCwxKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tQcmVzZXRSYWRpbyhpbmRleCl7DQogICAgICAgICAgdGhpcy5vcHRpb25MaXN0RWRpdFtpbmRleF1bInJDaGVja2VkIl0gPSB0cnVlOw0KICAgICAgICAgIGZvcih2YXIgaSBpbiB0aGlzLm9wdGlvbkxpc3RFZGl0KXsNCiAgICAgICAgICAgIGlmKGkgIT0gaW5kZXgpew0KICAgICAgICAgICAgICB0aGlzLm9wdGlvbkxpc3RFZGl0W2ldWyJyQ2hlY2tlZCJdID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjaGVja01heExlbmd0aChlKXsNCiAgICAgICAgICAgIGlmKCEoKGUua2V5Q29kZSA+IDk1ICYmIGUua2V5Q29kZSA8IDEwNikgfHwgKGUua2V5Q29kZSA+IDQ3ICYmIGUua2V5Q29kZSA8IDU4KSB8fCBlLmtleUNvZGUgPT0gOCkpIHsNCiAgICAgICAgICAgICAgdGhpcy5pc051bU5vdFZhbGlkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgdGhpcy5tYXhPdmVyTGltaXQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5taW5MYXJnZXJUaGFuTWF4ID0gZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMubnVtYmVyTm90VmFsaWRNYXggPSB0cnVlOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgIGlmKHRoaXMubWF4bGVuZ3RoVmFsLnRvU3RyaW5nKCkuaW5kZXhPZigiLSIpPT0tMSAmJiB0aGlzLm1heGxlbmd0aFZhbC50b1N0cmluZygpLmluZGV4T2YoIi4iKT09LTEpew0KICAgICAgICAgICAgICAgIHRoaXMubnVtYmVyTm90VmFsaWRNYXggPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZihwYXJzZUludCh0aGlzLm1heGxlbmd0aFZhbCk+NTAwKXsNCiAgICAgICAgICAgICAgICAgIHRoaXMubWF4T3ZlckxpbWl0ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgIHRoaXMuaXNOdW1Ob3RWYWxpZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICB0aGlzLm1pbkxhcmdlclRoYW5NYXggPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgIHRoaXMubWF4T3ZlckxpbWl0ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICBpZih0aGlzLm51bWJlck5vdFZhbGlkTWluPT1mYWxzZSl7DQogICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50KHRoaXMubWlubGVuZ3RoVmFsKT5wYXJzZUludCh0aGlzLm1heGxlbmd0aFZhbCkpew0KICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNOdW1Ob3RWYWxpZCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5MYXJnZXJUaGFuTWF4ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5taW5MYXJnZXJUaGFuTWF4ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc051bU5vdFZhbGlkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTnVtTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tNaW5MZW5ndGgoZSl7DQogICAgICAgICAgaWYoISgoZS5rZXlDb2RlID4gOTUgJiYgZS5rZXlDb2RlIDwgMTA2KSB8fCAoZS5rZXlDb2RlID4gNDcgJiYgZS5rZXlDb2RlIDwgNTgpIHx8IGUua2V5Q29kZSA9PSA4KSkgew0KICAgICAgICAgICAgdGhpcy5pc051bU5vdFZhbGlkID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMubWluTGFyZ2VyVGhhbk1heCA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5udW1iZXJOb3RWYWxpZE1pbiA9IHRydWU7DQogICAgICAgICAgfWVsc2V7IA0KICAgICAgICAgICAgaWYodGhpcy5taW5sZW5ndGhWYWwudG9TdHJpbmcoKS5pbmRleE9mKCItIik9PS0xICYmIHRoaXMubWlubGVuZ3RoVmFsLnRvU3RyaW5nKCkuaW5kZXhPZigiLiIpPT0tMSl7DQogICAgICAgICAgICAgIHRoaXMubnVtYmVyTm90VmFsaWRNaW4gPSBmYWxzZTsNCiAgICAgICAgICAgICAgaWYocGFyc2VJbnQodGhpcy5taW5sZW5ndGhWYWwpPnBhcnNlSW50KHRoaXMubWF4bGVuZ3RoVmFsKSl7DQogICAgICAgICAgICAgICAgdGhpcy5taW5MYXJnZXJUaGFuTWF4ID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmlzTnVtTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLm1pbkxhcmdlclRoYW5NYXggPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZih0aGlzLm51bWJlck5vdFZhbGlkTWF4PT1mYWxzZSl7DQogICAgICAgICAgICAgICAgICB0aGlzLmlzTnVtTm90VmFsaWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgIHRoaXMuaXNOdW1Ob3RWYWxpZCA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjaGVja01heE1pblZhbHVlKGUpew0KICAgICAgICAgIGNvbnNvbGUubG9nKCJjaGVjayIsZSk7DQogICAgICAgICAgaWYocGFyc2VGbG9hdCh0aGlzLm1pblZhbHVlVmFsKT5wYXJzZUZsb2F0KHRoaXMubWF4VmFsdWVWYWwpKXsNCiAgICAgICAgICAgIHRoaXMubWluTGFyZ2VyVGhhbk1heCA9IHRydWU7DQogICAgICAgICAgICB0aGlzLmlzTnVtTm90VmFsaWQgPSB0cnVlOw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5taW5MYXJnZXJUaGFuTWF4ID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmlzTnVtTm90VmFsaWQgPSBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgICAgDQogICAgICAgIH0sDQogICAgICAgIGNoZWNrRHluYW1pY1BhbmVsQ2hlYyhpbmRleCxib29sKXsNCiAgICAgICAgICBpZihpbmRleCE9MCl7DQogICAgICAgICAgICAgIGlmKCFib29sPT10cnVlKXsNCiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxpbmRleCsxOyBpKyspew0KICAgICAgICAgICAgICAgICAgdGhpcy5keW5hbWljUGFuZWxMaXN0W2ldWydyUmVxdWlyZWQnXSA9ICFib29sOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5keW5hbWljUGFuZWxMaXN0W2luZGV4XVsnclJlcXVpcmVkJ10gPSAhYm9vbDsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgaWYoIWJvb2w9PWZhbHNlKXsNCiAgICAgICAgICAgICAgZm9yKHZhciBqIGluIHRoaXMuZHluYW1pY1BhbmVsTGlzdCl7DQogICAgICAgICAgICAgICAgdGhpcy5keW5hbWljUGFuZWxMaXN0W2pdWydyUmVxdWlyZWQnXSA9ICFib29sOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgdGhpcy5keW5hbWljUGFuZWxMaXN0W2luZGV4XVsnclJlcXVpcmVkJ10gPSAhYm9vbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgfSwNCiAgd2F0Y2g6ew0KICAgIHNob3coKXsNCiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnbW9kYWwtb3BlbicpOw0KICAgICAgdGhpcy5hZGRGb3JtTmFtZSA9ICIiOw0KICAgICAgdGhpcy5lZGl0R3JvdXBOYW1lID0gIiI7DQogICAgICB0aGlzLmNyZWF0ZURhdGVDb25maWcgPSAiIjsNCiAgICAgIHRoaXMuaHRtbFZhbHVlID0gIiI7DQogICAgICB0aGlzLm1heGxlbmd0aFZhbCA9IG51bGw7DQogICAgICB0aGlzLm1pbmxlbmd0aFZhbCA9IG51bGw7DQogICAgICB0aGlzLm1heFZhbHVlVmFsID0gbnVsbDsNCiAgICAgIHRoaXMubWluVmFsdWVWYWwgPSBudWxsOw0KICAgICAgaWYodGhpcy5uYW1lPT0nYWRkRm9ybU1vZGVsJyB8fCB0aGlzLm5hbWU9PSdhZGRHcm91cE1vZGVsJyB8fCB0aGlzLm5hbWU9PSdjaGFuZ2VOYW1lTW9kZWwnIHx8IHRoaXMubmFtZT09J2VkaXRHcm91cE5hbWVNb2RlbCcgfHwgdGhpcy5uYW1lPT0nZWRpdEZvcm1OYW1lTW9kZWwnKXsNCiAgICAgICAgdGhpcy5pc0Zvcm1OYW1lTm90VmFsaWQgPSB0cnVlOw0KICAgICAgfQ0KICAgICAgaWYodGhpcy5uYW1lPT0nZWRpdEZpZWxkTW9kZWwnKXsNCiAgICAgICAgdGhpcy5jcmVhdGVGaWVsZE5hbWUgPSB0aGlzLmZpZWxkVmFsdWVbJ2ZpZWxkTmFtZSddOw0KICAgICAgICB0aGlzLmNoZWNrSXNSZXF1aXJlZCA9IHRoaXMuZmllbGRWYWx1ZVsnZmllbGRSZXF1aXJlZCddOw0KDQogICAgICAgIGlmKHRoaXMuZmllbGRWYWx1ZVsnZmllbGRPcHRpb25zJ10pew0KICAgICAgICAgIHRoaXMub3B0aW9uTGlzdEVkaXQgPSB0aGlzLmZpZWxkVmFsdWVbJ2ZpZWxkT3B0aW9ucyddOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYodGhpcy5maWVsZFZhbHVlWydmaWVsZEZpZWxkcyddKXsNCiAgICAgICAgICB0aGlzLmR5bmFtaWNQYW5lbExpc3QgPSB0aGlzLmZpZWxkVmFsdWVbJ2ZpZWxkRmllbGRzJ107DQogICAgICAgIH0NCg0KICAgICAgICBpZih0aGlzLmZpZWxkVmFsdWVbJ2ZpZWxkTWF4TGVuZ3RoJ10pew0KICAgICAgICAgIHRoaXMubWF4bGVuZ3RoVmFsID0gdGhpcy5maWVsZFZhbHVlWydmaWVsZE1heExlbmd0aCddOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYodGhpcy5maWVsZFZhbHVlWydmaWVsZE1pbkxlbmd0aCddKXsNCiAgICAgICAgICB0aGlzLm1pbmxlbmd0aFZhbCA9IHRoaXMuZmllbGRWYWx1ZVsnZmllbGRNaW5MZW5ndGgnXTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmKHRoaXMuZmllbGRWYWx1ZVsnZmllbGRNYXhWYWx1ZSddKXsNCiAgICAgICAgICB0aGlzLm1heFZhbHVlVmFsID0gdGhpcy5maWVsZFZhbHVlWydmaWVsZE1heFZhbHVlJ107DQogICAgICAgIH0NCg0KICAgICAgICBpZih0aGlzLmZpZWxkVmFsdWVbJ2ZpZWxkTWluVmFsdWUnXSl7DQogICAgICAgICAgdGhpcy5taW5WYWx1ZVZhbCA9IHRoaXMuZmllbGRWYWx1ZVsnZmllbGRNaW5WYWx1ZSddOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYodGhpcy5maWVsZFZhbHVlWydmaWVsZERhdGVDb25maWcnXSl7DQogICAgICAgICAgdGhpcy5jcmVhdGVEYXRlQ29uZmlnID0gdGhpcy5maWVsZFZhbHVlWydmaWVsZERhdGVDb25maWcnXTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmKHRoaXMuZmllbGRWYWx1ZVsnZmllbGRIdG1sJ10pew0KICAgICAgICAgIHRoaXMuaHRtbFZhbHVlID0gdGhpcy5maWVsZFZhbHVlWydmaWVsZEh0bWwnXTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogIH0NCiAgDQoNCn0NCg=="},{"version":3,"sources":["Modal.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA","file":"Modal.vue","sourceRoot":"src/components","sourcesContent":["<script>\r\nimport Vue from \"vue\";\r\nimport CKEditor from '@ckeditor/ckeditor5-vue';\r\nimport ClassicEditor from '@/components/ckeditor';\r\nVue.use( CKEditor );\r\n\r\nexport default {\r\n   components: { ckeditor: CKEditor.component },\r\n   name: \"modal\",\r\n   props: {\r\n    show: {\r\n      type: Boolean,\r\n      required: true,\r\n      twoWay: true  \r\n    },\r\n    name:{\r\n      type: String,\r\n      required: false,\r\n    },\r\n    title:{\r\n      type: String,\r\n      required: false,\r\n    },\r\n    content:{\r\n      type: String,\r\n      required: false,\r\n    },\r\n    buttonName:{\r\n      type: String,\r\n      required: false,\r\n    },\r\n    fieldNameArray:{\r\n      type: Array,\r\n      required: false,\r\n    },\r\n    fieldValue:{\r\n      type: Object,\r\n      required: false,\r\n    },\r\n  },\r\n  created(){\r\n    if(this.name=='changeNameModel' || this.name=='addFormModel' || this.name=='addGroupModel' || this.name=='editFieldModel' || this.name=='deleteFormModel' || this.name=='editGroupNameModel' || this.name=='editFormNameModel'){\r\n      this.hasCancel = true;\r\n    }else{\r\n      this.hasCancel = false;\r\n    }\r\n  },\r\n  data:function(){\r\n    return{\r\n      addFormName: \"\",\r\n      editGroupName: \"\",\r\n      createFieldName: \"\",\r\n      isFormNameNotValid: false,\r\n      hasCancel: false,\r\n      duplicateFieldName: false,\r\n      duplicateFormName: false,\r\n      checkIsRequired: false,\r\n      isOptionDuplicated: false,\r\n      optionListEdit: [],\r\n      dynamicPanelList :null,\r\n      isSpecialCharExistedOrNull: false,\r\n      isOptionEmpty: false,\r\n      maxlengthVal: null,\r\n      minlengthVal: null,\r\n      minLargerThanMax: false,\r\n      maxOverLimit: false,\r\n      numberNotValidMax: false,\r\n      numberNotValidMin: false,\r\n      isNumNotValid: false,\r\n      maxValueVal: null,\r\n      minValueVal: null,\r\n      createDateConfig: \"\",\r\n      htmlValue: \"\",\r\n      editor: ClassicEditor,\r\n      editorConfig: {}\r\n    }\r\n  },\r\n  methods : {\r\n        closeModal() {\r\n          switch(this.name){\r\n            case \"deleteFormModel\":\r\n              this.$emit('closeModal',true);\r\n              break;\r\n            case \"addFormModel\":\r\n              this.$emit('closeModal',this.splitInput(this.addFormName), this.addFormName.replace(/\\s*$/,''));\r\n              break;\r\n            case \"addGroupModel\":\r\n              this.$emit('closeModal',this.splitInput(this.addFormName), this.addFormName.replace(/\\s*$/,''));\r\n              break;\r\n            case \"editGroupNameModel\":\r\n              this.$emit('closeModal',this.splitInput(this.editGroupName),this.editGroupName.replace(/\\s*$/,''));\r\n              break;\r\n            case \"editFormNameModel\":\r\n              this.$emit('closeModal',this.splitInput(this.editGroupName),this.editGroupName.replace(/\\s*$/,''));\r\n              break;  \r\n            case \"changeNameModel\":\r\n              this.$emit('closeModal',{name:this.splitInput(this.createFieldName),id: this.splitInput(this.createFieldName), label: {default: this.createFieldName.replace(/\\s*$/,''), zhTw:\"\"}});\r\n              break;\r\n            case \"editFieldModel\":\r\n              var transmitObj = {fieldName:this.splitInput(this.createFieldName), fieldId: this.splitInput(this.createFieldName), fieldLabel: {default: this.createFieldName.replace(/\\s*$/,''), zhTw:\"\"},fieldRequired: this.checkIsRequired}\r\n              \r\n              \r\n              if(this.fieldValue['fieldOptions']){\r\n                this.formatOptionList();\r\n                var returnOptionList = [];\r\n                for(var i in this.optionListEdit){\r\n                  returnOptionList.push(\r\n                    {\r\n                      \"id\": this.optionListEdit[i][\"rid\"],\r\n                      \"name\": this.optionListEdit[i][\"rName\"],\r\n                      \"value\": this.optionListEdit[i][\"rValue\"],\r\n                      \"label\": this.optionListEdit[i][\"rLabel\"],\r\n                      \"checked\": this.optionListEdit[i][\"rChecked\"],\r\n                    }\r\n                  );\r\n                }\r\n                transmitObj['fieldOptions'] = returnOptionList;\r\n              }\r\n\r\n              if(this.fieldValue['fieldFields']){\r\n                this.formatDynamicList(transmitObj);\r\n                var returnDpList = [];\r\n                for(var j in this.dynamicPanelList){\r\n                  returnDpList.push(\r\n                    {\r\n                      //\"id\": transmitObj['fieldId']+parseInt(parseInt(j)+1),\r\n                      //\"name\": transmitObj['fieldId']+parseInt(parseInt(j)+1),\r\n                      \"id\": this.dynamicPanelList[j][\"rId\"],\r\n                      \"name\": this.dynamicPanelList[j][\"rName\"],\r\n                      \"type\": this.dynamicPanelList[j][\"rType\"],\r\n                      \"label\": this.dynamicPanelList[j][\"rLabel\"],\r\n                      \"required\": this.dynamicPanelList[j][\"rRequired\"],\r\n                    }\r\n                  );\r\n                }\r\n                transmitObj['fieldFields'] = returnDpList;\r\n              }\r\n\r\n              if(this.maxlengthVal){\r\n                transmitObj['fieldMaxLength'] = parseInt(this.maxlengthVal);\r\n              }\r\n\r\n              if(this.minlengthVal){\r\n                transmitObj['fieldMinLength'] = parseInt(this.minlengthVal);\r\n              }\r\n\r\n              if(this.maxValueVal){\r\n                transmitObj['fieldMaxValue'] = parseFloat(this.maxValueVal);\r\n              }\r\n\r\n              if(this.minValueVal){\r\n                transmitObj['fieldMinValue'] = parseFloat(this.minValueVal);\r\n              }\r\n\r\n              if(this.createDateConfig){\r\n                transmitObj['fieldDateConfig'] = this.createDateConfig;\r\n              }\r\n\r\n              if(this.htmlValue){\r\n                transmitObj['fieldHtml'] = this.htmlValue;\r\n              }\r\n\r\n              this.$emit('closeModal',transmitObj);\r\n              break;\r\n            default:\r\n              this.$emit('closeModal',false);\r\n              break;\r\n          }\r\n        },\r\n        formatOptionList(){   \r\n          for(var i in this.optionListEdit){\r\n            var optionVal = this.optionListEdit[i]['rValue'];\r\n            var sArray = optionVal.split(\" \");\r\n            var newVal = \"\";\r\n\r\n            if(sArray.length>1){\r\n              for(var j in sArray){\r\n                if(j>0){\r\n                  sArray[j] = sArray[j].substring(0,1).toUpperCase() + sArray[j].substring(1,sArray[j].length); //change second string to uppercase\r\n                }\r\n              }\r\n              sArray[0] = sArray[0].substring(0,1).toLowerCase()+sArray[0].substring(1,sArray[0].length); // change first string to lowercase\r\n              newVal = sArray.join(\"\");\r\n              newVal = newVal.replace(/\\s+/g, '');\r\n            }else{\r\n              newVal = optionVal.substring(0,1).toLowerCase()+optionVal.substring(1,optionVal.length);\r\n              newVal = newVal.replace(/\\s+/g, '');\r\n            }\r\n\r\n            this.optionListEdit[i]['rName'] = newVal;\r\n            this.optionListEdit[i]['rid'] = newVal;\r\n            this.optionListEdit[i]['rLabel']['default'] = this.optionListEdit[i]['rValue'];\r\n          }\r\n        },\r\n        formatDynamicList(obj){   \r\n          console.log(\"format obj\", obj)\r\n          console.log(\"format d list\", this.dynamicPanelList)\r\n          //debugger;\r\n        \r\n        },\r\n        closeModalCancel(){\r\n          this.$emit('closeModalCancel',false);\r\n        },\r\n        checkFormName(){\r\n          /*if(!/[^a-zA-Z0-9]/.test(this.addFormName) && this.addFormName.length>0) {\r\n              this.isFormNameNotValid = false;\r\n          }else{\r\n              this.isFormNameNotValid = true;\r\n          }*/\r\n          let testString = this.splitInput(this.addFormName);\r\n          if(testString.length>0 && /^[A-Za-z0-9 ]+$/.test(testString)) {\r\n              this.isSpecialCharExistedOrNull = false;\r\n              if(this.fieldNameArray.includes((testString.toLowerCase()).replace(/\\s*$/,''))){\r\n                this.isFormNameNotValid = true;\r\n                this.duplicateFormName = true;\r\n              }else{\r\n                this.isFormNameNotValid = false;\r\n                this.duplicateFormName = false;\r\n              }\r\n          }else{\r\n              this.isFormNameNotValid = true;\r\n              this.duplicateFormName = false;\r\n              this.isSpecialCharExistedOrNull = true;\r\n          }\r\n        },\r\n        checkGroupName(){\r\n\r\n          let testString = this.splitInput(this.editGroupName);\r\n\r\n          if(testString.length>0 && /^[A-Za-z0-9 ]+$/.test(testString)) {\r\n              this.isSpecialCharExistedOrNull = false;\r\n              if(this.fieldNameArray.includes((testString.toLowerCase()).replace(/\\s*$/,''))){\r\n                this.isFormNameNotValid = true;\r\n                this.duplicateFormName = true;\r\n              }else{\r\n                this.isFormNameNotValid = false;\r\n                this.duplicateFormName = false;\r\n              }\r\n          }else{\r\n              this.isFormNameNotValid = true;\r\n              this.duplicateFormName = false;\r\n              this.isSpecialCharExistedOrNull = true;\r\n          }\r\n        },\r\n        splitInput(name){\r\n          var sArray = name.split(\" \");\r\n          if(sArray.length>1){\r\n            for(var i in sArray){\r\n              if(i>0){\r\n                sArray[i] = sArray[i].substring(0,1).toUpperCase() + sArray[i].substring(1,sArray[i].length);\r\n              }\r\n            }\r\n            sArray[0] = sArray[0].substring(0,1).toLowerCase()+sArray[0].substring(1,sArray[0].length);\r\n            name = sArray.join(\"\");\r\n            name = name.replace(/\\s+/g, '');\r\n          }else{\r\n            name = name.substring(0,1).toLowerCase()+name.substring(1,name.length);\r\n            name = name.replace(/\\s+/g, '');\r\n          }\r\n\r\n          return name;\r\n\r\n        },\r\n        checkFieldName(){\r\n\r\n          let testString = this.splitInput(this.createFieldName);\r\n\r\n          if(testString.length>0 && /^[A-Za-z0-9 ]+$/.test(testString)) {\r\n              this.isSpecialCharExistedOrNull = false;\r\n              if(this.fieldNameArray.includes((testString.toLowerCase()).replace(/\\s*$/,''))){\r\n                this.isFormNameNotValid = true;\r\n                this.duplicateFieldName = true;\r\n              }else{\r\n                this.isFormNameNotValid = false;\r\n                this.duplicateFieldName = false;\r\n              }\r\n          }else{\r\n              this.isFormNameNotValid = true;\r\n              this.duplicateFieldName = false;\r\n              this.isSpecialCharExistedOrNull = true;\r\n          }\r\n        },\r\n        checkOptionName(index){\r\n          console.log(\"check index\",index);\r\n          var nameArray = [];\r\n          for(var i in this.optionListEdit){\r\n            nameArray.push(this.optionListEdit[i]['rLabel']['default'].replace(/\\s+/g, ''));\r\n          }\r\n\r\n          var isDup = this.hasDuplicatesInArray(nameArray);\r\n          var hasScOrNull = this.hasScOrNullInArray(nameArray);\r\n\r\n          if(hasScOrNull.includes(false) || isDup){\r\n            this.isFormNameNotValid = true;\r\n            if(isDup){\r\n              this.isOptionDuplicated = true;\r\n            }\r\n            if(hasScOrNull.includes(false)){\r\n              this.isSpecialCharExistedOrNull = true;\r\n            }\r\n          }else{\r\n            this.isFormNameNotValid = false;\r\n            this.isOptionDuplicated = false;\r\n            this.isSpecialCharExistedOrNull = false;\r\n          }\r\n\r\n        },\r\n        hasScOrNullInArray(array){\r\n          var validateArr = [];\r\n          for(var i in array){\r\n            if(/^[A-Za-z0-9 ]+$/.test(array[i]) && array[i].length>0){\r\n              validateArr.push(true);\r\n            }else{\r\n              validateArr.push(false);\r\n            }\r\n          }\r\n          return validateArr;\r\n        },\r\n        hasDuplicatesInArray(array) {\r\n          return (new Set(array)).size !== array.length;\r\n        },\r\n        addOptions(){\r\n          var indexNum = parseInt(this.optionListEdit.length)+1;\r\n          this.optionListEdit.push({\"rid\":\"item\"+indexNum, \"rName\":\"item\"+indexNum,\"rValue\":\"item \"+indexNum, \"rLabel\":{\"default\":\"Item \"+indexNum, \"zhTw\":\"\"},\"rChecked\":false});\r\n\r\n          var nameArray = [];\r\n          for(var i in this.optionListEdit){\r\n            nameArray.push(this.optionListEdit[i]['rValue'].replace(/\\s+/g, ''));\r\n          }\r\n\r\n          var isDup = this.hasDuplicatesInArray(nameArray);\r\n          var hasScOrNull = this.hasScOrNullInArray(nameArray);\r\n\r\n          if(hasScOrNull.includes(false) || isDup){\r\n            this.isFormNameNotValid = true;\r\n            if(isDup){\r\n              this.isOptionDuplicated = true;\r\n            }\r\n            if(hasScOrNull.includes(false)){\r\n              this.isSpecialCharExistedOrNull = true;\r\n            }\r\n          }else{\r\n            this.isFormNameNotValid = false;\r\n            this.isOptionDuplicated = false;\r\n            this.isSpecialCharExistedOrNull = false;\r\n          }\r\n        },\r\n        deleteOptions(index){\r\n          this.optionListEdit.splice(index,1);\r\n        },\r\n        checkPresetRadio(index){\r\n          this.optionListEdit[index][\"rChecked\"] = true;\r\n          for(var i in this.optionListEdit){\r\n            if(i != index){\r\n              this.optionListEdit[i][\"rChecked\"] = false;\r\n            }\r\n          }\r\n        },\r\n        checkMaxLength(e){\r\n            if(!((e.keyCode > 95 && e.keyCode < 106) || (e.keyCode > 47 && e.keyCode < 58) || e.keyCode == 8)) {\r\n              this.isNumNotValid = true;\r\n              this.maxOverLimit = false;\r\n              this.minLargerThanMax = false;\r\n              this.numberNotValidMax = true;\r\n            }else{\r\n              if(this.maxlengthVal.toString().indexOf(\"-\")==-1 && this.maxlengthVal.toString().indexOf(\".\")==-1){\r\n                this.numberNotValidMax = false;\r\n                if(parseInt(this.maxlengthVal)>500){\r\n                  this.maxOverLimit = true;\r\n                  this.isNumNotValid = true;\r\n                  this.minLargerThanMax = false;\r\n                }else{\r\n                  this.maxOverLimit = false;\r\n                  if(this.numberNotValidMin==false){\r\n                    if(parseInt(this.minlengthVal)>parseInt(this.maxlengthVal)){\r\n                      this.isNumNotValid = true;\r\n                      this.minLargerThanMax = true;\r\n                    }else{\r\n                      this.minLargerThanMax = false;\r\n                      this.isNumNotValid = false;\r\n                    }\r\n                  }else{\r\n                    this.isNumNotValid = true;\r\n                  }\r\n                }\r\n              } \r\n            }\r\n        },\r\n        checkMinLength(e){\r\n          if(!((e.keyCode > 95 && e.keyCode < 106) || (e.keyCode > 47 && e.keyCode < 58) || e.keyCode == 8)) {\r\n            this.isNumNotValid = true;\r\n            this.minLargerThanMax = false;\r\n            this.numberNotValidMin = true;\r\n          }else{ \r\n            if(this.minlengthVal.toString().indexOf(\"-\")==-1 && this.minlengthVal.toString().indexOf(\".\")==-1){\r\n              this.numberNotValidMin = false;\r\n              if(parseInt(this.minlengthVal)>parseInt(this.maxlengthVal)){\r\n                this.minLargerThanMax = true;\r\n                this.isNumNotValid = true;\r\n              }else{\r\n                this.minLargerThanMax = false;\r\n                if(this.numberNotValidMax==false){\r\n                  this.isNumNotValid = false;\r\n                }else{\r\n                  this.isNumNotValid = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        checkMaxMinValue(e){\r\n          console.log(\"check\",e);\r\n          if(parseFloat(this.minValueVal)>parseFloat(this.maxValueVal)){\r\n            this.minLargerThanMax = true;\r\n            this.isNumNotValid = true;\r\n          }else{\r\n            this.minLargerThanMax = false;\r\n            this.isNumNotValid = false;\r\n          }\r\n          \r\n        },\r\n        checkDynamicPanelChec(index,bool){\r\n          if(index!=0){\r\n              if(!bool==true){\r\n                for(var i=0; i<index+1; i++){\r\n                  this.dynamicPanelList[i]['rRequired'] = !bool;\r\n                }\r\n              }else{\r\n                this.dynamicPanelList[index]['rRequired'] = !bool;\r\n              }\r\n          }else{\r\n            if(!bool==false){\r\n              for(var j in this.dynamicPanelList){\r\n                this.dynamicPanelList[j]['rRequired'] = !bool;\r\n              }\r\n            }else{\r\n              this.dynamicPanelList[index]['rRequired'] = !bool;\r\n            }\r\n          }\r\n        }\r\n  },\r\n  watch:{\r\n    show(){\r\n      document.body.classList.toggle('modal-open');\r\n      this.addFormName = \"\";\r\n      this.editGroupName = \"\";\r\n      this.createDateConfig = \"\";\r\n      this.htmlValue = \"\";\r\n      this.maxlengthVal = null;\r\n      this.minlengthVal = null;\r\n      this.maxValueVal = null;\r\n      this.minValueVal = null;\r\n      if(this.name=='addFormModel' || this.name=='addGroupModel' || this.name=='changeNameModel' || this.name=='editGroupNameModel' || this.name=='editFormNameModel'){\r\n        this.isFormNameNotValid = true;\r\n      }\r\n      if(this.name=='editFieldModel'){\r\n        this.createFieldName = this.fieldValue['fieldName'];\r\n        this.checkIsRequired = this.fieldValue['fieldRequired'];\r\n\r\n        if(this.fieldValue['fieldOptions']){\r\n          this.optionListEdit = this.fieldValue['fieldOptions'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldFields']){\r\n          this.dynamicPanelList = this.fieldValue['fieldFields'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldMaxLength']){\r\n          this.maxlengthVal = this.fieldValue['fieldMaxLength'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldMinLength']){\r\n          this.minlengthVal = this.fieldValue['fieldMinLength'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldMaxValue']){\r\n          this.maxValueVal = this.fieldValue['fieldMaxValue'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldMinValue']){\r\n          this.minValueVal = this.fieldValue['fieldMinValue'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldDateConfig']){\r\n          this.createDateConfig = this.fieldValue['fieldDateConfig'];\r\n        }\r\n\r\n        if(this.fieldValue['fieldHtml']){\r\n          this.htmlValue = this.fieldValue['fieldHtml'];\r\n        }\r\n      }\r\n    },\r\n  }\r\n  \r\n\r\n}\r\n</script>\r\n<template>\r\n  <div class=\"modal\" v-show=\"show\" transition=\"modal\">\r\n    <div class=\"modal-wrapper\">\r\n      <div class=\"modal-container\">\r\n        <content select=\".modal-header\">\r\n          <div class=\"modal-header\">\r\n            <h3>\r\n              {{title}}\r\n            </h3>\r\n          </div>\r\n        </content>\r\n        <div class=\"modal-body\" v-if=\"name=='addFormModel'\">\r\n          <input id=\"addFormName\" v-on:keyup=\"checkFormName\" type=\"text\" class=\"form-control\" v-model=\"addFormName\" input-text  required placeholder=\"Enter form name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" name=\"addFormName\" limit-maxlength/>\r\n          <p class=\"input-warning\" v-show=\"duplicateFormName\">This form name is already existed in this category!</p>\r\n          <p class=\"input-warning\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n        </div>\r\n        <div class=\"modal-body\" v-if=\"name=='addGroupModel'\">\r\n          <input id=\"addGroupName\" v-on:keyup=\"checkFormName\" type=\"text\" class=\"form-control\" v-model=\"addFormName\" input-text  required placeholder=\"Enter group name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" name=\"addGroupName\" limit-maxlength/>\r\n          <p class=\"input-warning\" v-show=\"duplicateFormName\">This form name is already existed in this category!</p>\r\n          <p class=\"input-warning\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n        </div>\r\n        <div class=\"modal-body\" v-if=\"name=='editGroupNameModel'\">\r\n          <input id=\"editGroupName\" v-on:keyup=\"checkGroupName\" type=\"text\" class=\"form-control\" v-model=\"editGroupName\" input-text  required placeholder=\"Edit group name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" name=\"editGroupName\" limit-maxlength/>\r\n          <p class=\"input-warning\" v-show=\"duplicateFormName\">This form name is already existed in this category!</p>\r\n          <p class=\"input-warning\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n        </div>\r\n        <div class=\"modal-body\" v-if=\"name=='editFormNameModel'\">\r\n          <input id=\"editFormName\" v-on:keyup=\"checkGroupName\" type=\"text\" class=\"form-control\" v-model=\"editGroupName\" input-text  required placeholder=\"Edit form name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" name=\"editFormName\" limit-maxlength/>\r\n          <p class=\"input-warning\" v-show=\"duplicateFormName\">This form name is already existed in this category!</p>\r\n          <p class=\"input-warning\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n        </div>\r\n        <div class=\"modal-body\" v-if=\"name=='changeNameModel'\">\r\n          <input id=\"createFieldName\" v-on:keyup=\"checkFieldName\" type=\"text\" class=\"form-control\" v-model=\"createFieldName\" input-text  required placeholder=\"Enter field name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" name=\"createFieldName\" limit-maxlength/>\r\n          <p class=\"input-warning\" v-show=\"duplicateFieldName\">This field name is already existed!</p>\r\n          <p class=\"input-warning\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n        </div>\r\n        <div class=\"modal-body\" v-if=\"name=='editFieldModel'\">\r\n          <div class=\"field-name\">\r\n            <p class=\"key\">Name: </p>\r\n            <input id=\"createFieldName2\" v-on:keyup=\"checkFieldName\" type=\"text\" class=\"form-control\" v-model=\"createFieldName\" input-text  required placeholder=\"Enter field name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" name=\"createFieldName2\" limit-maxlength/>\r\n          </div>\r\n          <p class=\"input-warning-edit\" v-show=\"duplicateFieldName\">This field name is already existed!</p>\r\n          <p class=\"input-warning-edit\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n          \r\n          <div class=\"field-name\" v-if=\"fieldValue.type!='paneldynamic' && fieldValue.type!='singleCheckbox' && fieldValue.type!='html'\"> \r\n            <p class=\"key\">Required: </p>\r\n            <input class=\"checkbox-custom\" type=\"checkbox\" v-model=\"checkIsRequired\" v-bind:checked=\"checkIsRequired\">\r\n          </div>\r\n          \r\n          <div class=\"text-section\" v-if=\"fieldValue.type=='text'\"> \r\n            <div class=\"maxLeng-part\">\r\n              <p class=\"key\">Maximum Length: </p>\r\n              <input id=\"maxLength\" v-on:keyup=\"checkMaxLength($event)\" type=\"number\" min=\"1\" class=\"form-control\" v-model=\"maxlengthVal\" input-text  required placeholder=\"Enter maximum length\" autocomplete=\"off\" name=\"maxLength\" limit-maxlength/>\r\n            </div>\r\n            <p class=\"input-warning-edit\" v-show=\"maxOverLimit\">Max length must not be greater than 500!</p>\r\n            <p class=\"input-warning-edit\" v-show=\"numberNotValidMax\">Value must not be a negative / decimal number!</p>\r\n            <div class=\"minLeng-part\">\r\n              <p class=\"key\">Minimum length: </p>\r\n              <input id=\"minLength\" v-on:keyup=\"checkMinLength($event)\" type=\"number\" min=\"1\" class=\"form-control\" v-model=\"minlengthVal\" input-text  required placeholder=\"Enter minimum length\" autocomplete=\"off\" name=\"minLength\" limit-maxlength/>\r\n            </div>\r\n            <p class=\"input-warning-edit\" v-show=\"minLargerThanMax\">Min length must not be greater than Max Length!</p>\r\n            <p class=\"input-warning-edit\" v-show=\"numberNotValidMin\">Value must not be a negative / decimal number!</p>\r\n          </div>\r\n          \r\n          <div class=\"text-section\" v-else-if=\"fieldValue.type=='number'\">\r\n            <div class=\"maxLeng-part\">\r\n              <p class=\"key\">Maximum Value: </p>\r\n              <input id=\"maxValue\" v-on:keyup=\"checkMaxMinValue($event)\" type=\"number\" class=\"form-control\" v-model=\"maxValueVal\" input-text  required placeholder=\"Enter maximum value\" autocomplete=\"off\" name=\"maxValue\" limit-maxlength/>\r\n            </div>\r\n            <div class=\"minLeng-part\">\r\n              <p class=\"key\">Minimum length: </p>\r\n              <input id=\"minValue\" v-on:keyup=\"checkMaxMinValue($event)\" type=\"number\" class=\"form-control\" v-model=\"minValueVal\" input-text  required placeholder=\"Enter minimum value\" autocomplete=\"off\" name=\"minValue\" limit-maxlength/>\r\n            </div>\r\n            <p class=\"input-warning-edit\" v-show=\"minLargerThanMax\">Min value must not be greater than Max value!</p>\r\n          </div>\r\n\r\n          <div class=\"text-section\" v-else-if=\"fieldValue.type=='date'\">\r\n            <div class=\"dateRes-part\">\r\n              <p class=\"key\">Restriction:</p>\r\n              <select v-model=\"createDateConfig\" class=\"form-control\">\r\n                <option value=\"\">None</option>\r\n                <option value=\"notAfterToday\">Not After Today</option>\r\n                <option value=\"notBeforeToday\">Not Before Today</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"edit-option-list\" v-else-if=\"fieldValue.type=='multipleCheckboxes' || fieldValue.type=='radio' || fieldValue.type=='select'\">\r\n            <div class=\"title\">Options:</div>\r\n            <button :disabled=\"isFormNameNotValid || optionListEdit.length>9\" @click=\"addOptions\">Add</button>\r\n            <div class=\"options\" v-for=\"(option,indexOptions) in optionListEdit\" :key=\"indexOptions\">\r\n                <input v-bind:for=\"option.rid\" type=\"text\" v-on:keyup=\"checkOptionName(indexOptions)\" v-model=\"option.rValue\" class=\"form-control\" input-text required placeholder=\"Enter option name (Required)\"  v-bind:maxlength=\"50\" autocomplete=\"off\" limit-maxlength/>\r\n                <button :disabled=\"isFormNameNotValid || optionListEdit.length<3\" @click=\"deleteOptions(indexOptions)\">Delete</button>\r\n                <div class=\"radio-preset\" v-show=\"fieldValue.type=='radio'\">\r\n                  <p class=\"name\">Preset?</p>\r\n                  <input class=\"radio-custom\" type=\"checkbox\" v-bind:checked=\"option.rChecked\" v-bind:value=\"option.rChecked\" v-on:click=\"checkPresetRadio(indexOptions)\"/>\r\n                </div>\r\n            </div>\r\n            <p class=\"input-warning-edit\" v-show=\"isOptionDuplicated\">Option names must not be duplicated!</p>\r\n            <p class=\"input-warning-edit\" v-show=\"isSpecialCharExistedOrNull\">No special characters are allowed / Value must not be emptied!</p>\r\n          </div>\r\n\r\n          <div class=\"dynamic-panel-list\" v-else-if=\"fieldValue.type=='paneldynamic'\">\r\n            <div class=\"maxLeng-part\">\r\n              <p class=\"key\">Maximum Length: </p>\r\n              <input id=\"maxLength\" v-on:keyup=\"checkMaxLength($event)\" type=\"number\" min=\"1\" class=\"form-control\" v-model=\"maxlengthVal\" input-text  required placeholder=\"Enter maximum length\" autocomplete=\"off\" name=\"maxLength\" limit-maxlength/>\r\n            </div>\r\n            <p class=\"input-warning-edit\" v-show=\"maxOverLimit\">Max length must not be greater than 500!</p>\r\n            <p class=\"input-warning-edit\" v-show=\"numberNotValidMax\">Value must not be a negative / decimal number!</p>\r\n            <div class=\"minLeng-part\">\r\n              <p class=\"key\">Minimum length: </p>\r\n              <input id=\"minLength\" v-on:keyup=\"checkMinLength($event)\" type=\"number\" min=\"1\" class=\"form-control\" v-model=\"minlengthVal\" input-text  required placeholder=\"Enter minimum length\" autocomplete=\"off\" name=\"minLength\" limit-maxlength/>\r\n            </div>\r\n            <p class=\"input-warning-edit\" v-show=\"minLargerThanMax\">Min length must not be greater than Max Length!</p>\r\n            <p class=\"input-warning-edit\" v-show=\"numberNotValidMin\">Value must not be a negative / decimal number!</p>\r\n            <div class=\"header-section\">\r\n              <div class=\"title\">Fields:</div>\r\n              <div class=\"title\">Required</div>\r\n            </div>\r\n            <div class=\"fields\" v-for=\"(option,indexPd) in dynamicPanelList\" :key=\"indexPd\">\r\n                <input v-bind:for=\"option.rid\" v-bind:value=\"option.rName\" type=\"text\" class=\"form-control\" input-text readonly/>\r\n                <input v-bind:for=\"option.rid\" class=\"radio-custom\" type=\"checkbox\"  v-bind:checked=\"option.rRequired\" v-bind:value=\"option.rRequired\" v-on:click=\"checkDynamicPanelChec(indexPd,option.rRequired)\">\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else-if=\"fieldValue.type=='html'\">\r\n            <ckeditor id=\"editor\" :editor=\"editor\" v-model=\"htmlValue\" :config=\"editorConfig\"></ckeditor>\r\n          </div>\r\n\r\n\r\n          <div v-else></div>\r\n        </div>\r\n        <div class=\"modal-body\" v-else>\r\n          {{content}}\r\n        </div>\r\n        <div class=\"modal-footer uk-clearfix\">\r\n            <button :disabled=\"isFormNameNotValid || isNumNotValid\" v-on:click=\"closeModal\" class=\"uk-button uk-button-success uk-float-right\">{{buttonName || 'Close'}} </button>\r\n            <button v-show=\"hasCancel\" v-on:click=\"closeModalCancel\" class=\"uk-button uk-button-success uk-float-right\">Cancel</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\nVue.component('modal', {\r\n  template: `\r\n  <p v-show=\"show\">abcc</p>\r\n`,\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      required: true,\r\n      twoWay: true  \r\n    }\r\n  }\r\n});\r\n\r\n"]}]}